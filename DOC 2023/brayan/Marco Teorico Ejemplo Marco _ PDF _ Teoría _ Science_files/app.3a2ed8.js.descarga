(self.webpackChunk_scribd_app_docpage=self.webpackChunk_scribd_app_docpage||[]).push([[143],{84053:(e,t,n)=>{"use strict";n.d(t,{$l:()=>o,QA:()=>s,fX:()=>r});const r="auto__doc_page_body_document",o="outer_page_1",s="pdf_document_scroll_container"},15249:(e,t,n)=>{"use strict";n.d(t,{Z:()=>b});var r=n(57903),o=n(72779),s=n.n(o),a=n(54488),i=n(67294),l=n(51496),c=n(64481),d=n(5827);function u(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class p extends i.PureComponent{constructor(e){super(e),u(this,"handleClick",(()=>{const{vote:e,id:t,isDocumentOwner:n,location:r,onDownvote:o,userRating:s}=this.props;n||(e(t,{loc:r,page:d.q},o,1===s),(0,c.L9)("ratings:upvote:update",{location:r,page:d.q,rating:1===s?0:1,word_document_id:t}))})),u(this,"handleMouseEnter",(()=>{this.setState({hover:!0})})),u(this,"handleMouseLeave",(()=>{this.setState({hover:!1})})),this.state={hover:!1}}getDataE2E(){const e=`doc-page-downvote-button-${this.props.location}`;return this.hasDownvoted()?`${e}-selected`:e}getIcon(){const{fillIconOnHover:e,userRating:t}=this.props;return[1,2].includes(t)||this.state.hover&&e?"thumbsdown_fill":"thumbsdown_outline"}getPercentDownvote(){const{downvoteCount:e,ratingCount:t}=this.props;return 0===t?0:Math.round(e/t*100)}hasDownvoted(){return[1,2].includes(this.props.userRating)}renderHiddenText(){let e=a.Z.t("doc_page.ratings.percent_found_document_not_useful",{percentage:this.getPercentDownvote()});return e=this.hasDownvoted()?`${e}, ${a.Z.t("doc_page.ratings.you_marked_not_useful")}, ${a.Z.t("doc_page.ratings.press_again_undo")}`:`${e}, ${a.Z.t("doc_page.ratings.mark_as_not_useful")}`,i.createElement(l.TX,null,e)}renderLabelText(){return this.props.showLabel?i.createElement("span",{className:"label_text"},a.Z.t("doc_page.rate_drawer.not_useful")):null}renderCount(){return this.props.showCount?i.createElement("span",{className:"count label","aria-hidden":"true"},`${this.getPercentDownvote()}%`):null}render(){const{buttonComponent:e,children:t,className:n,isDocumentOwner:r}=this.props,o=e||l.Av,a=!!r||null;return i.createElement("div",{className:s()("auto__app_page_body_downvote_button","downvote_button_wrapper"),"data-e2e":this.getDataE2E()},i.createElement(o,{className:s()("downvote_button",n,{disabled:a}),disabled:a,onClick:this.handleClick,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},i.createElement(l.JO,{icon:this.getIcon()}),this.renderLabelText(),this.renderCount(),this.renderHiddenText(),t))}}p.defaultProps={buttonComponent:null,children:null,className:null,fillIconOnHover:!1,onDownvote:c.ZT,showCount:!0,showLabel:!1};var _=n(96940),h=n(7130),m=n(66245),g=n(64050);const b=(0,r.$j)((e=>{const t=e.page.wordDocument.id,{downvoteCount:n,userRating:r,ratingCount:o}=e.ratings[t];return{downvoteCount:n,id:t,isDocumentOwner:e.page.wordDocument.isDocumentOwner,ratingCount:o,userRating:r}}),(e=>({vote:function(t,n,r){const o=arguments.length>3&&void 0!==arguments[3]&&arguments[3]?h.Z:m.Z;e((0,g.Pl)({title:a.Z.t("doc_page.ratings.sign_up_to_rate_this_title"),trackingData:n,userAction:_.pe.USER_ACTIONS.RATE},o(t,a.Z.t("doc_page.flash.rating_not_saved_try_again"),r)))}})))(p)},20781:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var r=n(57903),o=n(72779),s=n.n(o),a=n(54488),i=n(67294),l=n(7879);function c(e){let{copyright:t,headingLevel:n,inline:r}=e;return i.createElement("div",{className:s()("auto__app_page_body_metadata_copyright","data_row copyright",{inline:r})},function(){let e=a.Z.t("pdfs.sidebar.copyright_no_colon");return r&&(e=a.Z.t("pdfs.sidebar.copyright")),i.createElement(l.Z,{level:n},e)}(),function(){let e=`${String.fromCharCode(169)} ${t}`;return r&&(e=t),i.createElement("div",null,e)}())}c.defaultProps={headingLevel:3,inline:!0};const d=(0,r.$j)((e=>({copyright:e.bodyProps.document.copyright_name})))(c)},14441:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var r=n(57903),o=n(72779),s=n.n(o),a=n(54488),i=n(67294),l=n(51496),c=n(64481),d=n(7879);function u(e){let{containerRef:t,originalDescription:n,extractedTitle:r,generatedDescription:o,handleViewMore:u,headingLevel:p,inline:_,renderVisualHeading:h,truncate:m,showOriginalDescription:g}=e;const b=g?n:o||n;function f(e){e.preventDefault(),(0,c.L9)("doc:more_information_button:click",{action:"show"}),(0,c.L9)("ga_pdfs",{action:"click",label:"sidebar:see_more_btn"}),u({originalDescription:n,extractedTitle:r,generatedDescription:o})}return i.createElement("div",{className:s()("auto__app_page_body_metadata_description","data_row description",{inline:_}),ref:t},function(){if(null===n||!g)return null;const e=_?`${a.Z.t("doc_page.metadata.description.original_description")}: `:a.Z.t("doc_page.metadata.description.original_description"),t=i.createElement(d.Z,{level:p,className:"original_description"},e);return h?t:i.createElement(l.TX,null,t)}(),i.createElement("div",null,b?m&&b.length>190?`${b.slice(0,190)}\u2026`:b:null),function(){if(m)return i.createElement("a",{className:"see_more_btn text_btn",href:"#",onClick:f},a.Z.t("pdfs.redesign_elements.metadata_section.full_description"))}())}u.defaultProps={containerRef:{current:null},headingLevel:3,inline:!0,renderVisualHeading:!1,showOriginalDescription:!1,truncate:!1};var p=n(91733),_=n(64050),h=n(46416);const m=(0,r.$j)((e=>{const{description:t,extracted_title:n,generatedDescription:r}=e.bodyProps.document;return{originalDescription:t,extractedTitle:n,generatedDescription:r,showDesktopLayout:(0,h.Z)(e.user.isMobile,e.viewport.width)}}),(e=>({handleViewMore:t=>e((0,_.zp)({...t,name:p.V$.DESCRIPTION}))})))(u)},34707:(e,t,n)=>{"use strict";n.d(t,{Z:()=>b});var r=n(57903),o=n(72779),s=n.n(o),a=n(54488),i=n(67294),l=n(51496),c=n(64481),d=n(7879);const u="auto__app_page_body_metadata_flag_document";function p(e){let{flag:t,headingLevel:n,label:r,propsPath:o,showDesktopLayout:p}=e;function _(e){e.preventDefault(),(0,c.L9)("doc:flag_button:click"),t(o)}return r?i.createElement("div",{className:s()(u,"data_row","flag_document_link",{desktop_layout:p,label:r})},i.createElement(d.Z,{level:n},a.Z.t("pdfs.sidebar.is_this_inappropriate_content")),i.createElement(l.Av,{href:"#",onClick:_,className:"report_this_document"},a.Z.t("pdfs.sidebar.report_this_document"))):i.createElement("div",{className:s()(u,"data_row","flag_document_link",{desktop_layout:p})},i.createElement(l.Av,{href:"#",className:"report_this_document",onClick:_},a.Z.t("doc_page.description_modal.flag_for")))}p.defaultProps={headingLevel:3,label:!1,showDesktopLayout:!1};var _=n(91733),h=n(96940),m=n(64050),g=n(46416);const b=(0,r.$j)((e=>{const t=(0,g.Z)(e.user.isMobile,e.viewport.width);return{propsPath:e.bodyProps.document.flag_document_modal_props_path,showDesktopLayout:t}}),(e=>({flag:t=>e((0,m.Pl)({trackingData:{loc:"description modal",page:"doc"},title:a.Z.t("pdfs.show.sign_in_to_flag_this_title"),userAction:h.pe.USER_ACTIONS.FLAG},(0,m.zp)({animation_speed:0,name:_.V$.FLAG_DOCUMENT,propsPath:t}),!0))})))(p)},63603:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(57903),o=n(72779),s=n.n(o),a=n(54488),i=n(67294),l=n(51496),c=n(7879);class d extends i.Component{constructor(e){super(e)}get formats(){return this.props.extensions.map((e=>e.toUpperCase())).join(", ")}renderHeading(){const e=i.createElement(c.Z,{level:this.props.headingLevel},a.Z.t("pdfs.sidebar.available_formats"));return this.props.inline?i.createElement(l.TX,null,e):e}renderDescription(){return this.props.inline?i.createElement("div",{dangerouslySetInnerHTML:{__html:a.Z.t("pdfs.sidebar.strong_download_strong_as_available_extensions_map_upcase_join_or_read_online",{available_extensions_map_upcase_join:this.formats})}}):i.createElement("div",null,a.Z.t("pdfs.sidebar.download_or_read_formats",{extensions:this.formats}))}render(){return this.props.extensions.length?i.createElement("div",{className:s()("auto__app_page_body_metadata_formats","data_row formats",{inline:this.props.inline})},this.renderHeading(),this.renderDescription()):null}}d.defaultProps={headingLevel:3,inline:!0};const u=(0,r.$j)((e=>({extensions:e.bodyProps.document.extensions,isBot:e.user.isBot,isLoggedIn:e.user.isLoggedIn,isSubscriber:e.user.isSubscriber,wordDocument:e.page.wordDocument})))(d)},85262:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var r=n(57903),o=n(72779),s=n.n(o),a=n(54488),i=n(67294),l=n(7879);function c(e){let{headingLevel:t,inline:n,isbn:r}=e;if(!r)return null;return i.createElement("div",{className:s()("auto__app_page_body_metadata_isbn","data_row isbn",{inline:n})},function(){let e=a.Z.t("pdfs.sidebar.isbn_no_colon");return n&&(e=a.Z.t("pdfs.sidebar.isbn")),i.createElement(l.Z,{level:t},e)}(),i.createElement("div",null,r))}c.defaultProps={headingLevel:3,inline:!0};const d=(0,r.$j)((e=>({isbn:e.bodyProps.document.isbn})))(c)},59526:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var r=n(57903),o=n(72779),s=n.n(o),a=n(54488),i=n(67294),l=n(7879);function c(e){let{extractedTitle:t,headingLevel:n,inline:r,originalTitle:o}=e;if(!t)return null;return i.createElement("div",{className:s()("auto__app_page_body_metadata_original_title","data_row original_title",{inline:r})},function(){let e=a.Z.t("webpack.doc_page.src.App.Page.Body.Metadata.Extra.Extra.original_title_no_colon");return r&&(e=a.Z.t("webpack.doc_page.src.App.Page.Body.Metadata.Extra.Extra.original_title")),i.createElement(l.Z,{level:n},e)}(),i.createElement("div",null,o))}c.defaultProps={headingLevel:3,inline:!0};const d=(0,r.$j)((e=>({extractedTitle:e.bodyProps.document.extracted_title,originalTitle:e.bodyProps.document.title})))(c)},80380:(e,t,n)=>{"use strict";n.d(t,{wZ:()=>l.Z,dk:()=>m.Z,qJ:()=>g.Z,jA:()=>b.Z,rb:()=>P,Pd:()=>N.Z,FW:()=>I,G5:()=>L,bB:()=>M,Dx:()=>z,ZP:()=>i});var r=n(72779),o=n.n(r),s=n(67294);const a="auto__doc_page_app_page_body_metadata";function i(e){let{children:t,className:n,isNarrow:r,metadataRef:i}=e;const l=r?"metadata_section_narrow":"metadata_section_wide";return s.createElement("section",{className:o()(a,"metadata_section",n),ref:i,"data-e2e":l},t)}i.defaultProps={className:"",isNarrow:!1,metadataRef:{current:null}};var l=n(20781),c=n(57903),d=n(54488),u=n(51496),p=n(7879);function _(e){let{createdAt:t,headingLevel:n,inline:r}=e;return s.createElement("div",{className:o()("auto__app_page_body_metadata_created_at","data_row created_at",{inline:r})},function(){const e=s.createElement(p.Z,{level:n},d.Z.t("webpack.doc_page.src.body.sidebar.date_uploaded"));return r?s.createElement(u.TX,null,e):e}(),s.createElement("div",null,function(){let e=t;return r&&(e=d.Z.t("webpack.doc_page.src.body.sidebar.on_created_at",{created_at:t})),e}()))}_.defaultProps={headingLevel:3,inline:!0};const h=(0,c.$j)((e=>({createdAt:e.bodyProps.document.publisher_info.created_at})))(_);var m=n(14441),g=n(34707),b=n(63603),f=n(68106),v=n(64481),w=n(15249),E=n(17588),y=n(67036),S=n(5827),N=n(85262),T=n(59526);function D(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class k extends s.PureComponent{constructor(e){super(e),D(this,"handleEntering",(()=>{this.container.current&&this.adjustScrollHeight()})),D(this,"handleEntered",(()=>{this.updatePageWidths()})),D(this,"handleExited",(()=>{this.updatePageWidths()})),D(this,"handleClick",(()=>{const{expanded:e}=this.state;this.setState({expanded:!e}),e?(0,v.L9)("metadataProminenceTest:accordion:collapseButton:click"):(0,v.L9)("metadataProminenceTest:accordion:expandButton:click")})),this.state={expanded:!1,scrollHeight:null},this.container=(0,s.createRef)()}get iconState(){return this.state.expanded?"up":"down"}get hiddenText(){return this.state.expanded?d.Z.t("pdfs.sidebar.click_to_collapse_document_information"):d.Z.t("pdfs.sidebar.click_to_expand_document_information")}updatePageWidths(){window.docManager._currentViewManager._updatePageWidths()}adjustScrollHeight(){this.setState({scrollHeight:this.container.current.scrollHeight})}renderAccordionIcon(){return s.createElement(u.JO,{icon:`dropdown_alt ${this.iconState}`,hiddenText:this.hiddenText})}renderDesciption(){const{description:e,generatedDescription:t}=this.props;if(!e&&!t)return null;const n=null!==e&&null!==t;return s.createElement(s.Fragment,null,s.createElement(m.Z,null),n?s.createElement(m.Z,{renderVisualHeading:!0,showOriginalDescription:!0}):null)}renderRatingButtons(){return s.createElement(s.Fragment,null,s.createElement("h3",null,d.Z.t("pdfs.sidebar.document_useful_message")),s.createElement("div",{className:"buttons"},s.createElement(y.Z,{buttonComponent:u.f5,location:S.L.MOBILE_METADATA}),s.createElement(w.Z,{buttonComponent:u.f5,location:S.L.MOBILE_METADATA})))}renderExpandedInfo(){return s.createElement("div",{className:o()("expanded_info",{has_extracted_title:this.props.extractedTitle})},this.props.isLoggedIn?s.createElement(h,{inline:!1}):null,s.createElement(T.Z,{inline:!1}),s.createElement(l.Z,{inline:!1}),s.createElement(N.Z,{inline:!1}),s.createElement(b.Z,{inline:!1}),s.createElement("div",{className:"sharing_actions"},s.createElement("h2",{className:"title"},d.Z.t("webpack.doc_page.src.App.Page.Body.Body.share_this_document")),s.createElement(E.Z,{newIcons:!0,showText:!0})),s.createElement("div",{className:"rate","data-e2e":"document-rating-buttons"},this.renderRatingButtons()),s.createElement(g.Z,{label:!0}))}render(){const{expanded:e,scrollHeight:t}=this.state,{description:n,generatedDescription:r}=this.props,a=e?{maxHeight:`${t}px`}:{},i=e?"info_accordion_expanded":"info_accordion_collapsed",l=n||r;return s.createElement(f.ZP,{component:"div",in:e,onEntered:this.handleEntered,onEntering:this.handleEntering,onExited:this.handleExited,timeout:500},(t=>s.createElement("div",{className:o()("auto__app_page_body_metadata_info_accordion",t,{expanded:e,has_description:l}),ref:this.container,style:a,"data-e2e":i},s.createElement("button",{type:"button",className:"active_area",onClick:this.handleClick,"data-e2e":"info_accordion_button"},s.createElement("h2",{className:"button_title"},d.Z.t("pdfs.redesign_elements.more_info_module.document_information")),this.renderAccordionIcon()),this.renderDesciption(),this.renderExpandedInfo())))}}k.defaultProps={description:"",extractedTitle:""};const P=(0,c.$j)((e=>({description:e.bodyProps.document.description,generatedDescription:e.bodyProps.document.generatedDescription,isLoggedIn:e.user.isLoggedIn})))(k);var A=n(96940);function C(e){let{brand:t,headingLevel:n,includeCreatedAt:r,inline:a,isAuthor:i,loggedIn:l,name:c,url:u}=e;return s.createElement("div",{className:o()("auto__app_page_body_metadata_publisher","data_row publish_info",{inline:a})},function(){const e=i?d.Z.t("pdfs.sidebar.written_by"):d.Z.t("pdfs.sidebar.uploaded_by");return s.createElement(p.Z,{className:"heading",level:n},e)}(),u?s.createElement("a",{href:u,target:!0===(t===A.qp.SCRIBD)?"_blank":"_self"},c):s.createElement("span",{className:"publisher_name"},c)," ",r&&l?s.createElement(h,{inline:!0}):null)}C.defaultProps={headingLevel:3,includeCreatedAt:!0,inline:!0};const I=(0,c.$j)((e=>({brand:e.static.config.brand,isAuthor:e.bodyProps.document.publisher_info.is_author,name:e.bodyProps.document.publisher_info.name,url:e.bodyProps.document.publisher_info.url,loggedIn:e.user.isLoggedIn})))(C);const O=(0,c.$j)((e=>{const{id:t}=e.page.wordDocument,{ratingCount:n,upvoteCount:r}=e.ratings[t];return{ratingCount:n,upvoteCount:r}}))((function(e){let{ratingCount:t,upvoteCount:n,view:r}=e,o=0,a=s.createElement("span",{"aria-hidden":"true"},d.Z.t("doc_page.ratings.no_ratings"));return t>0&&(o=Math.round(n/t*100),a=s.createElement(s.Fragment,null,s.createElement("span",{"aria-hidden":"true",className:"rating_amount"},`${o}%`),s.createElement("span",{"aria-hidden":"true"},`(${t})`))),s.createElement("div",{className:"auto__app_page_body_metadata_ratings","data-e2e":`metadata-upvote-rating-${r}`},s.createElement(u.JO,{icon:t?"thumbsup_fill":"thumbsup_outline"}),a,s.createElement(u.TX,null,`${d.Z.t("doc_page.ratings.percent_found_document_useful",{percentage:o})} ${d.Z.t("doc_page.ratings.num_votes",{count:t})}`))}));const L=(0,c.$j)((e=>({pageCount:e.page.wordDocument.page_count,views:e.page.wordDocument.views})))((function(e){let{pageCount:t,views:n}=e;return s.createElement("div",{className:o()("wrapper__app_page_body_metadata_summary_narrow","summary_narrow")},s.createElement(O,{view:"narrow"}),s.createElement("div",{className:"separator","aria-hidden":"true"}),s.createElement("span",{className:"views","data-e2e":"metadata-views-count-narrow"},d.Z.t("shared.doc_preview.views",{formatted_views:n})),s.createElement("div",{className:"separator","aria-hidden":"true"}),s.createElement("span",{className:"page_count","data-e2e":"metadata-page-count-narrow"},d.Z.t("doc_page.ratings.page_count",{count:t})))}));function R(e){let{pageCount:t,showDesktopLayout:n,views:r}=e;return s.createElement("div",{className:o()("auto__app_page_body_metadata_summary_wide",{desktop_layout:n})},s.createElement(O,{view:"wide"}),s.createElement("span",{className:"separator","aria-hidden":"true"}),s.createElement("span",{className:"views","data-e2e":"metadata-views-count-wide"},d.Z.t("shared.doc_preview.views",{formatted_views:r})),s.createElement("span",{className:"separator","aria-hidden":"true"}),s.createElement("span",{className:"page_count","data-e2e":"metadata-page-count-wide"},d.Z.t("doc_page.ratings.page_count",{count:t})))}R.defaultProps={pageCount:"0",showDesktopLayout:!1,views:"0"};var x=n(46416);const M=(0,c.$j)((e=>{const t=(0,x.Z)(e.user.isMobile,e.viewport.width);return{pageCount:e.page.wordDocument.page_count,showDesktopLayout:t,views:e.page.wordDocument.views}}))(R);var B=n(98874),Z=n.n(B);const U="FEwI7T",F="_3Simrm",V="_2qs3tf",j="_2a604l",H="xKFmw1";function $(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class W extends s.Component{constructor(e){super(e),$(this,"handleTruncateClick",(()=>{this.setState({truncated:!this.state.truncated}),Z()((()=>window.docManager._updatePageBoundingRects()))})),this.state={showToggleTruncateButton:!1,truncated:!0}}componentDidMount(){const e=this.shouldShowToggleTruncateButton();this.setState({showToggleTruncateButton:e})}shouldShowToggleTruncateButton(){const e=document.getElementsByClassName(V);let t=e[0];return window.innerWidth>v.AV.breakpoint_450&&(t=e[1]),!!t&&t.offsetHeight<t.scrollHeight}get title(){const{extractedTitle:e,originalTitle:t}=this.props;return e||t}get toggleTruncateText(){return this.state.truncated?d.Z.t("doc_page.mobile_metadata.expand_full_title"):d.Z.t("doc_page.mobile_metadata.collapse_full_title")}render(){const{truncated:e}=this.state;return s.createElement("div",{className:o()("data_row title",U,{[j]:e})},s.createElement("h1",{className:V,"data-e2e":"doc_page_title"},this.title),s.createElement("div",{className:F},this.state.showToggleTruncateButton&&s.createElement(u.Av,{className:H,onClick:this.handleTruncateClick,"data-e2e":"truncation_toggle"},this.toggleTruncateText)))}}const z=(0,c.$j)((e=>({extractedTitle:e.bodyProps.document.extracted_title,originalTitle:e.bodyProps.document.title})))(W)},3665:(e,t,n)=>{"use strict";n.d(t,{Z:()=>T});var r=n(57903),o=n(26655),s=n(72779),a=n.n(s),i=n(54488),l=n(13980),c=n.n(l),d=n(67294),u=n(51496),p=n(51588);const _="zYSkji",h="_3Y_mJw",m="_22mxOP",g="_3bjp1-",b="_1Y-0xz",f="_2e_v6S",v="PkjAMB",w="u4WSK3",E="_3qKW0A",y="_21o6Eg";class S extends p.Z{constructor(e){super(e),this.getMessage.bind(this),this.listUid="SharingButtonList_list"}renderFacebook(){if(this.props.showFacebook)return d.createElement(N,{className:b,icon:"facebook",href:"#",onClick:this.handleShareFacebook,text:i.Z.t("webpack.doc_page.src.App.Page.Body.SharingButtonsList.SharingButtonsList.share_on_facebook")})}renderTwitter(){if(this.props.showTwitter)return d.createElement(N,{className:f,icon:"twitter",href:"#",onClick:this.handleShareTwitter,onKeyDown:this.handleShareTwitter,text:i.Z.t("webpack.doc_page.src.App.Page.Body.SharingButtonsList.SharingButtonsList.share_on_twitter")})}renderLinkedin(){if(this.props.showLinkedin)return d.createElement(N,{className:v,icon:"linkedin",href:"#",onClick:this.handleShareLinkedin,text:i.Z.t("webpack.doc_page.src.App.Page.Body.SharingButtonsList.SharingButtonsList.share_on_linkedin")})}renderEmail(){if(this.props.showEmail)return d.createElement(N,{className:w,icon:"email",href:this.getEmailHref(),onClick:this.handleShareEmail,text:i.Z.t("webpack.doc_page.src.App.Page.Body.SharingButtonsList.SharingButtonsList.share_via_email")})}renderCopyLink(){if(this.props.showCopyLink)return d.createElement("li",{className:a()(E,h),"data-clipboard-text":this.getCopyLinkUrl(),ref:this.copyLinkRef,role:"none"},d.createElement(u.Av,{className:m,href:"#",role:"menuitem",onClick:this.handleCopyLink},d.createElement(u.JO,{className:g,icon:"document"}),d.createElement("span",{className:y},i.Z.t("webpack.doc_page.src.App.Page.Body.SharingButtonsList.SharingButtonsList.copy_link"))))}render(){return d.createElement("div",{"data-e2e":"sharing_buttons_list"},this.renderTitle(),d.createElement("ul",{className:_,"aria-labelledby":this.listUid},this.renderFacebook(),this.renderTwitter(),this.renderLinkedin(),this.renderEmail(),this.renderCopyLink()))}}p.Z.propTypes={facebookAppId:c().string,handleCopySuccess:c().func,large:c().bool,message:c().string,shareText:c().string,showEmail:c().bool,showFacebook:c().bool,showLinkedin:c().bool,showTwitter:c().bool,thumbnailUrl:c().string.isRequired,title:c().string.isRequired,twitterHashtag:c().string,url:c().string.isRequired};const N=e=>{let{className:t,href:n,icon:r,onClick:o,text:s}=e;return d.createElement("li",{className:a()(h,t),role:"none"},d.createElement(u.Av,{className:m,href:n,role:"menuitem",onClick:o},d.createElement(u.JO,{className:g,icon:r}),d.createElement("span",{className:y},s)))},T=(0,r.$j)(o.K,o.Z)(S)},51588:(e,t,n)=>{"use strict";n.d(t,{Z:()=>P});var r=n(72779),o=n.n(r),s=n(57647),a=n.n(s),i=n(54488),l=n(67294),c=n(51496),d=n(64481);let u=!1;const p=(e,t)=>{window.fbAsyncInit=window.fbAsyncInit||(()=>{window.FB.init({appId:e,status:!1,cookie:!0,xfbml:!1,oauth:!0,version:"v6.0"})}),(e=>{if(u)return;const t="facebook-jssdk";if(document.getElementById(t))return;const n=document.getElementsByTagName("script")[0],r=document.createElement("script");r.id=t,r.async=!0,r.src="https://connect.facebook.net/en_US/sdk.js",r.addEventListener("load",(()=>{u=!0,e()})),n.parentNode.insertBefore(r,n)})(t)};var _=n(37977);const h="_3IyrYW",m="_1URwwY",g="wydUTv",b="_1wWDBI",f="GLJ4kF",v="_1boW3D",w="_4IeXeS",E="_2-h_GR",y="_3BsQYi",S="_2qL1CM",N="_3Kf2Ob",T="_3r728-",D="_35uHTJ";function k(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class P extends l.Component{constructor(e){super(e),k(this,"handleShareFacebook",(e=>{e.preventDefault(),function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:()=>{};try{document.cookie}catch(n){return}u?t():p(e,t)}(this.props.facebookAppId,(()=>{if(this.props.private)return this.props.privateError();window.FB&&this.openFacebookWindow()}))})),k(this,"handleShareTwitter",(e=>(e.preventDefault(),this.props.private?this.props.privateError():(this.track("twitter"),this.open("https://twitter.com/share?"+(0,_.p)({text:this.props.shareText||`${this.getSubject()}: @Scribd ${this.props.twitterHashtag||"ReadMore"}`,url:this.props.url,original_referer:this.props.url})))))),k(this,"handleShareLinkedin",(e=>(e.preventDefault(),this.props.private?this.props.privateError():(this.track("linkedin"),this.open("http://www.linkedin.com/shareArticle?"+(0,_.p)({title:this.props.title,url:this.props.url,source:"Scribd",summary:i.Z.t("helpers.document_meta_tags.scribd_is_the_world_s_largest_social")})))))),k(this,"handleShareEmail",(()=>{if(this.props.private)return this.props.privateError();this.track("email")})),k(this,"handleCopyLink",(e=>{e.preventDefault(),this.trackCopyLink(),this.props.handleCopySuccess(this.props.private)})),this.listUid="SharingButtons_list",this.copyLinkRef=l.createRef()}componentDidMount(){this.props.showCopyLink&&this.copyLinkRef.current&&(this.clipboard=new(a())(this.copyLinkRef.current))}componentWillUnmount(){this.clipboard&&this.clipboard.destroy()}open(e){const t=window.open(e,"","width=500,height=450,resizable=1,scrollbars=1");return t.focus&&t.focus()}track(e){(0,d.L9)("ga_pdfs",{action:"click",label:`share_${e}_btn`,loc:this.props.trackLocation}),(0,d.L9)(`collection:share_via_${e}_button:click`)}trackCopyLink(){(0,d.L9)("doc:copy_link_button:click",{loc:this.props.trackLocation})}getCopyLinkUrl(){const{secretPassword:e,url:t}=this.props;return this.props.private?`${t}?secret_password=${e}`:t}getEmailHref(){const e=i.Z.t("shared.react.sharing_buttons.read_props_document_collection_name_on_scribd",{props_document_collection_name:this.props.title});return this.props.private?"#":`mailto:?subject=${e}&body=${this.getMessage()}`}getSubject(){return i.Z.t("shared.react.sharing_buttons.check_out_props_share_title_on_scribd",{props_share_title:this.props.title})}getMessage(){return this.props.message?encodeURIComponent(this.props.message):i.Z.t("shared.react.sharing_buttons.i_m_reading_props_document_collection_name_on_scribd_props_document_collection_url",{props_document_collection_name:this.props.title,props_document_collection_url:encodeURIComponent(this.props.url)})}openFacebookWindow(){return this.track("facebook"),window.FB.ui({method:"feed",name:this.props.title,link:this.props.url,picture:this.props.thumbnailUrl,display:"popup"})}renderFacebook(){if(this.props.showFacebook)return l.createElement(A,{className:f,href:"#",icon:"facebook",label:i.Z.t("shared.react.sharing_buttons.share_on_facebook"),nofollow:!0,onClick:this.handleShareFacebook,text:i.Z.t("shared.react.sharing_buttons.share_on_facebook_opens_a_new"),visualText:this.props.showText?"Facebook":null})}renderTwitter(){if(this.props.showTwitter)return l.createElement(A,{className:v,href:"#",icon:"twitter",label:i.Z.t("shared.react.sharing_buttons.share_on_twitter"),nofollow:!0,onClick:this.handleShareTwitter,text:i.Z.t("shared.react.sharing_buttons.share_on_twitter_opens_a_new"),visualText:this.props.showText?"Twitter":null})}renderLinkedin(){if(this.props.showLinkedin)return l.createElement(A,{className:w,href:"#",icon:"linkedin",label:i.Z.t("shared.react.sharing_buttons.share_on_linkedin"),nofollow:!0,onClick:this.handleShareLinkedin,text:i.Z.t("shared.react.sharing_buttons.share_on_linkedin_opens_a_new"),visualText:this.props.showText?"LinkedIn":null})}renderEmail(){if(this.props.showEmail)return l.createElement(A,{className:E,href:this.getEmailHref(),icon:"email",label:i.Z.t("shared.react.sharing_buttons.share_with_email"),onClick:this.handleShareEmail,text:i.Z.t("shared.react.sharing_buttons.share_with_email_opens_mail_client"),visualText:this.props.showText?i.Z.t("shared.login.join_lightbox.email"):null})}renderCopyLink(){const{newIcons:e,showCopyLink:t,showText:n}=this.props;if(!t)return;const r=i.Z.t("webpack.doc_page.src.App.Page.Body.SharingButtonsList.SharingButtonsList.copy_link"),s=e?"copy_large":"document";return l.createElement("li",{className:o()(m,y),"data-clipboard-text":this.getCopyLinkUrl(),ref:this.copyLinkRef},l.createElement(c.Av,{"aria-label":r,className:g,href:"#",onClick:this.handleCopyLink},l.createElement(c.JO,{className:b,icon:s}),l.createElement(c.TX,null,r),n&&l.createElement("div",{className:T,"aria-hidden":"true"},r)))}renderTitle(){return l.createElement(c.TX,{tag:"h2",id:this.listUid},i.Z.t("shared.react.sharing_buttons.sharing_options"))}render(){const{className:e,large:t,newIcons:n,showText:r}=this.props;return l.createElement("div",null,this.renderTitle(),l.createElement("ul",{"aria-labelledby":this.listUid,className:o()(h,e,{[S]:t,[N]:n,[D]:r})},this.renderFacebook(),this.renderTwitter(),this.renderLinkedin(),this.renderEmail(),this.renderCopyLink()))}}P.defaultProps={large:!1,message:"",newIcons:!1,private:!1,secretPassword:"",shareText:"",showCopyLink:!0,showEmail:!0,showFacebook:!0,showLinkedin:!0,showTwitter:!0,showText:!1,trackLocation:"",twitterHashtag:null};const A=e=>{let{className:t,href:n,label:r,icon:s,onClick:a,text:i,visualText:d,nofollow:u}=e;return l.createElement("li",{className:o()(m,t)},l.createElement(c.Av,{className:g,"aria-label":r,href:n,onClick:a,rel:u?"nofollow":null},l.createElement(c.JO,{className:b,icon:s}),l.createElement(c.TX,null,i),d&&l.createElement("div",{className:T,"aria-hidden":"true"},d)))};A.defaultProps={nofollow:!1}},26655:(e,t,n)=>{"use strict";n.d(t,{K:()=>a,Z:()=>i});var r=n(54488),o=n(56047),s=n(74399);const a=e=>{const t=e.bodyProps.sharing_buttons_props,n=e.global.config.facebook.app_id;return Object.assign({},t,{facebookAppId:n})},i=e=>({handlePrivateError:()=>{e((0,s.W6)({content:r.Z.t("doc_page.sharing_buttons.not_supported_for_private_documents"),type:"error"}))},handleCopySuccess:t=>{const n=t?r.Z.t("doc_page.sharing_buttons.link_copied_private_document"):r.Z.t("webpack.doc_page.src.App.Page.Body.ShareRow.SharingButtons.mappings.link_copied");e((0,o.Z)({content:n,raw:t,type:"success"}))}})},17588:(e,t,n)=>{"use strict";n.d(t,{Z:()=>_});var r=n(57903),o=n(72779),s=n.n(o),a=n(54488),i=n(67294),l=n(51496),c=n(51588),d=n(26655);const u=(0,r.$j)(d.K,d.Z)(c.Z);function p(e){let{large:t,newIcons:n,trackLocation:r,showText:o,trialDuration:c,wordDocument:{author_name:d,title:p,url:_}}=e;const h=a.Z.t("shared.sharing_buttons.i_m_reading_document_title_on_suffix",{document_title:p,suffix:"Scribd"}),m=a.Z.t("shared.trial_duration.read_free_days",{trialDuration:c}),g=a.Z.t("shared.sharing_buttons.hi_there_document_action_and_thought_you",{document_action:h,document_title:p,document_author_or_publisher_name_or_login:d,doc_url:window.encodeURIComponent(_),trial_cta_downcase:m?m.toLowerCase():null});return i.createElement("div",{className:s()("wrapper__doc_page_share_row","share_row_component")},i.createElement(l.TX,{tag:"h3"},a.Z.t("pdfs.sidebar.share_or_embed_document")),i.createElement(u,{large:t,message:g,newIcons:n,showText:o,trackLocation:r}))}p.defaultProps={large:!1,newIcons:!1,showText:!1,trackLocation:"",trialDuration:null};const _=(0,r.$j)((e=>({trialDuration:e.personalization.trialDuration,wordDocument:e.page.wordDocument})),null)(p)},67036:(e,t,n)=>{"use strict";n.d(t,{Z:()=>f});var r=n(57903),o=n(72779),s=n.n(o),a=n(54488),i=n(67294),l=n(51496),c=n(90057),d=n(64481),u=n(5827);function p(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class _ extends i.PureComponent{constructor(e){super(e),p(this,"handleClick",(()=>{const{id:e,isDocumentOwner:t,location:n,onUpvote:r,userRating:o,vote:s}=this.props;t||(s(e,{loc:n,page:u.q},r,5===o),(0,d.L9)("ratings:upvote:update",{location:n,page:u.q,rating:5===o?0:5,word_document_id:e}))})),p(this,"handleMouseEnter",(()=>{this.setState({hover:!0})})),p(this,"handleMouseLeave",(()=>{this.setState({hover:!1})})),this.state={hover:!1}}getDataE2E(){const e=`doc-page-upvote-button-${this.props.location}`;return this.hasUpvoted()?`${e}-selected`:e}getIcon(){const{fillIconOnHover:e,userRating:t}=this.props;return[3,4,5].includes(t)||this.state.hover&&e?"thumbsup_fill":"thumbsup_outline"}getPercentUpvote(){const{ratingCount:e,upvoteCount:t}=this.props;return 0===e?0:Math.round(t/e*100)}hasUpvoted(){return[3,4,5].includes(this.props.userRating)}renderHiddenText(){let e=a.Z.t("doc_page.ratings.percent_found_document_useful",{percentage:this.getPercentUpvote()});return e=this.hasUpvoted()?`${e}, ${a.Z.t("doc_page.ratings.you_marked_as_useful")}, ${a.Z.t("doc_page.ratings.press_again_undo")}`:`${e}, ${a.Z.t("doc_page.ratings.mark_as_useful")}`,i.createElement(c.T,null,e)}renderLabelText(){return this.props.showLabel?i.createElement("span",{className:"label_text"},a.Z.t("doc_page.rate_drawer.useful")):null}renderCount(){const{showCount:e}=this.props;return e?i.createElement("span",{className:"count label","aria-hidden":"true"},`${this.getPercentUpvote()}%`):null}render(){const{buttonComponent:e,children:t,className:n,isDocumentOwner:r}=this.props,o=e||l.Av,a=!!r||null;return i.createElement("div",{className:s()("auto__app_page_body_upvote_button","upvote_button_wrapper"),"data-e2e":this.getDataE2E()},i.createElement(o,{className:s()("upvote_button",n,{disabled:a}),disabled:a,onClick:this.handleClick,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},i.createElement(l.JO,{icon:this.getIcon()}),this.renderLabelText(),this.renderCount(),this.renderHiddenText(),t))}}_.defaultProps={buttonComponent:null,children:null,className:null,fillIconOnHover:!1,onUpvote:d.ZT,showCount:!0,showLabel:!1};var h=n(96940),m=n(7130),g=n(66165),b=n(64050);const f=(0,r.$j)((e=>{const t=e.page.wordDocument.id,{ratingCount:n,userRating:r,upvoteCount:o}=e.ratings[t];return{id:t,isDocumentOwner:e.page.wordDocument.isDocumentOwner,ratingCount:n,userRating:r,upvoteCount:o}}),(e=>({vote:function(t,n,r){const o=arguments.length>3&&void 0!==arguments[3]&&arguments[3]?m.Z:g.Z;e((0,b.Pl)({title:a.Z.t("doc_page.ratings.sign_up_to_rate_this_title"),trackingData:n,userAction:h.pe.USER_ACTIONS.RATE},o(t,a.Z.t("doc_page.flash.rating_not_saved_try_again"),r)))}})))(_)},5827:(e,t,n)=>{"use strict";n.d(t,{L:()=>o,q:()=>r});const r="pdfs",o={BETWEEN_PAGES_BANNER:"between_pages_banner",DOCUMENT_USEFUL:"document_useful",METADATA:"metadata",MOBILE_METADATA:"mobile_metadata"}},27107:(e,t,n)=>{"use strict";n.d(t,{Ib:()=>m,KH:()=>o,T$:()=>s,ZH:()=>b,wI:()=>d,aI:()=>p,Oy:()=>i,FASTLY_DESKTOP_ADS_V6:()=>a,cR:()=>c,SV:()=>u,G$:()=>w,UW:()=>_,H:()=>h,$Q:()=>g,XV:()=>E,sk:()=>y,H0:()=>f,ng:()=>v});var r=n(8415);const o=(0,r.z)(["desktop_fixed_bottom","incontent","leaderboard_and_sidebar","sidebar_interleaved","sidebar_sticky"]),s={DISPLAY:"display",NONE:"none",VIDEO:"video",VIDEO_STAND_ALONE:"video_stand_alone"},a={GAM_SHORT_NAME:"dt_ads_v6",NAME:"doc_page_desktop_ads_v6",VARIANTS:(0,r.z)(["no_ads_view_restrict","ads_no_view_restrict","ads_for_access"])},i=[a],l=[a.VARIANTS.ADS_FOR_ACCESS],c=(i.map((e=>e.NAME)),Object.values({...a.VARIANTS})),d="no_ads_view_restrict",u=c.filter((e=>e!==d)),p=l,_="fallback_house_ads",h=(0,r.z)(["ad_free_docs","premium_content"]),m={ACTION:(0,r.z)(["get_session_variant","no_ads_on_flagged_document"]),NAME:"test",SOURCE:"freestar"},g={SCRIBD_ADHESION:"scribd_adhesion",SCRIBD_BLUR_INCONTENT_DISPLAY:"scribd_blur_incontent_display",SCRIBD_BOTTOMRIGHT_MREC:"scribd_bottomright_mrec",SCRIBD_DT_LEADERBOARD:"scribd_DT_Leaderboard",SCRIBD_INCONTENT_1:"scribd_incontent_1",SCRIBD_INCONTENT_2:"scribd_incontent_2",SCRIBD_INCONTENT_NEW:"scribd_incontent_new_",SCRIBD_MOBILE_PUSHDOWN:"scribd_mobile_pushdown",SCRIBD_REVOLVING_RIGHTRAIL:"scribd_revolving_rightrail",SCRIBD_RIGHTRAIL_ATF:"scribd_rightrail_atf",SCRIBD_RIGHTRAIL_BTF:"scribd_rightrail_btf"},b="blur_promo_video_placeholder",f={BETWEEN_PAGES_DESKTOP:{placementName:"freestarvideoadcontainer_elements_dt",parentId:"freestar-video-parent-elements-dt"},BLUR_PROMO:{placementName:"freestarvideoadcontainer_blur_dt",parentId:"freestar-video-parent-blur"}},v=(0,r.z)(["inline","fixed_top","fixed_bottom_right"]),w=768,E="scribd-com",y=12e4},18006:(e,t,n)=>{"use strict";var r=n(37112),o=n(67294),s=n(57903),a=n(25903),i=n(64481),l=(n(6294),n(41005),n(88986),n(18841),n(81346),n(52914),n(56053),n(37893),n(44329),n(50593),n(68125),n(64519),n(60682),n(48698),n(942),n(13415),n(73935)),c=n(72779),d=n.n(c),u=n(54488),p=n(96940),_=n(99207),h=n(31783);const m="landscape",g="hypernova_doc_page",b={COMPONENT_01:{classNameKey:"component01",useShortAdTitle:!1},COMPONENT_02:{classNameKey:"component02",useShortAdTitle:!1},COMPONENT_03:{classNameKey:"component03",useShortAdTitle:!1},COMPONENT_04:{classNameKey:"component04",useShortAdTitle:!0}};function f(){const e=(0,s.v9)((e=>e.viewport.width));return(0,s.v9)((e=>e.page.wordDocument.page_orientation))===m?function(e){return e>=1600?b.COMPONENT_01:e>=p.BREAKPOINTS.DS1.breakpoint_1376?b.COMPONENT_02:e>=p.BREAKPOINTS.DS1.breakpoint_1141?b.COMPONENT_03:e>=p.BREAKPOINTS.DS1.breakpoint_1024?b.COMPONENT_04:e>p.BREAKPOINTS.DS1.breakpoint_700?b.COMPONENT_02:b.COMPONENT_04}(e):function(e){return e>=1600?b.COMPONENT_01:e>=p.BREAKPOINTS.DS1.breakpoint_1141?b.COMPONENT_02:e>=p.BREAKPOINTS.DS1.breakpoint_1024?b.COMPONENT_03:e>p.BREAKPOINTS.DS1.breakpoint_700?b.COMPONENT_02:e>p.BREAKPOINTS.DS1.breakpoint_450?b.COMPONENT_03:b.COMPONENT_04}(e)}var v=n(24886),w=n(8415);const E={wrapper:"_20-R_G"},y=(0,w.z)(["FILL","EMPTY"]),S=1e3;function N(e){let{className:t,duration:n,mode:r,onTick:s,onExpired:a,isActive:i}=e;const[l,c]=(0,o.useState)(n+1),[u,p]=(0,o.useState)(!0);(0,o.useEffect)((()=>{if(l<=0)return;if(u)return p(!1),void c(n);let e;return i&&(e=setTimeout((()=>{const e=l-1;e<=0?a():s(e),c(e)}),S)),()=>clearTimeout(e)}),[l,i]);const _=(0,v.y3)({textSize:"var(--progress-text-size)",pathColor:"var(--progress-path-color)",textColor:"var(--progress-text-color)",backgroundColor:"var(--progress-background-color)",trailColor:"var(--progress-background-color)",pathTransition:"stroke-dashoffset 1s linear 0s"});let h=0;return h=r===y.FILL?u?0:n-l+1:u?n:l-1,o.createElement("div",{className:d()(E.wrapper,t)},o.createElement(v.Ip,{value:h,maxValue:n,text:`${Math.max(0,Math.min(n,l))}`,strokeWidth:5,styles:_}))}function T(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}N.defaultProps={className:"",onTick:i.ZT,onExpired:i.ZT,mode:y.FILL};class D{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};T(this,"observerCallback",(e=>{e.forEach((e=>this.onEntryIntersection(e)))})),this.observer=new IntersectionObserver(this.observerCallback,e),this.intersectionHandlers=new Map}observe(e,t){this.observer.observe(e),this.intersectionHandlers.set(e,t)}unobserve(e){this.observer.unobserve(e),this.intersectionHandlers.delete(e)}onEntryIntersection(e){const t=e.target,n=this.intersectionHandlers.get(t);"function"===typeof n&&n(e)}}let k=null;function P(e){let{element:t,onInView:n,onOutOfView:r}=e;(null===k&&(k=new D({threshold:[1]})),k).observe(t,(e=>{e.isIntersecting?n():r()}))}function A(e){let{adElement:t,className:n,duration:r,isActive:a,onExpired:i,onInViewChange:l}=e;if(!t)return null;const c=(0,s.v9)((e=>e.modal.all_ids)),[d,u]=(0,o.useState)(!1);function p(){u(!0),l(!0)}function _(){u(!1),l(!1)}(0,o.useEffect)((()=>(P({element:t,onInView:p,onOutOfView:_}),function(){var e;e=t,null!==k&&k.unobserve(e)})),[t]);const h=c.length>0;return o.createElement(N,{className:n,duration:r,isActive:a({isInView:d,isModalOpen:h}),mode:y.EMPTY,onExpired:i})}A.defaultProps={adElement:null,className:null,isActive:e=>{let{isInView:t,isModalOpen:n}=e;return t&&!n},onInViewChange:i.ZT};var C=n(27107);const I="--";function O(e){let{placementName:t,adIndex:n=null}=e;if(t.includes(I))throw new Error(`placementName cannot include ${I}`);return null===n?t:`${t}${I}${n}`}function L(){return"undefined"===typeof window?null:(window.freestar=window.freestar||{},window.freestar.queue=window.freestar.queue||[],window.freestar.config=window.freestar.config||{enabled_slots:[]},window.freestar)}function R(e){L().queue.push(e)}function x(e){let{placementName:t}=e,n={};return[C.$Q.SCRIBD_BLUR_INCONTENT_DISPLAY,C.$Q.SCRIBD_BOTTOMRIGHT_MREC,C.$Q.SCRIBD_DT_LEADERBOARD,C.$Q.SCRIBD_INCONTENT_NEW].includes(t)&&(n={category:C.UW,subcategory:C.H.AD_FREE_DOCS}),n}var M=n(34663);const B="feature";var Z=n(91733);function U(){return"undefined"===typeof window?null:(window.googletag=window.googletag||{},window.googletag.cmd=window.googletag.cmd||[],window.googletag)}function F(e){U().cmd.push(e)}function V(e,t){F((()=>{U().pubads().addEventListener(e,t)}))}function j(e,t){var n,r;const o=null===(n=document.getElementById(e.slot.getSlotElementId()))||void 0===n||null===(r=n.parentNode)||void 0===r?void 0:r.querySelector(".fs-close-button");o&&o.addEventListener("click",t)}const H={DESKTOP:"desktop",MOBILE:"mobile"},$={DISPLAY:"display"},W="ad_requested",z="ad_impression",q="ad_dismissed";function G(e,t,n){const{user:{country:r,isMobile:o}}=n.getState(),s=o?H.MOBILE:H.DESKTOP,{slot:a}=t,{placementName:l,adIndex:c}=function(e){const[t,n]=e.split(I);return{placementName:t,adIndex:n?parseInt(n):null}}(a.getSlotElementId()),d={country_code:r,index:c,name:l,page:Z.VL,platform:s,type:$.DISPLAY};!function(e,t){let{country_code:n,name:r,page:o,platform:s,type:a}=t;(0,M.nP)(B,{action:e,country_code:n,page:o,name:r,platform:s,type:a})}(e,d),(0,i.L9)(e,d)}const K="https://a.pub.network/scribd-com/pubfig.min.js";function J(){const e=L();e.config.enabled_slots=[],e.initCallback=function(){0===e.config.enabled_slots.length?e.initCallbackCalled=!1:e.newAdSlots(e.config.enabled_slots)},function(){const e=document.createElement("script");e.src=K,e.async=!0,document.body.appendChild(e)}()}const X="desktop",Y="mobile",Q=function(e){return{name:`video_ad:${e}`,data:arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}}},ee={play:Q("play"),pause:Q("pause"),videoCompleted25:Q("completed_progress",{progress:25}),videoCompleted50:Q("completed_progress",{progress:50}),videoCompleted75:Q("completed_progress",{progress:75}),videoCompleted100:Q("completed_progress",{progress:100}),closeButtonClicked:Q("dismissed"),playError:Q("error")},te=e=>{let{player:t,isMobile:n,country:r,placementName:o}=e;const s={country_code:r,platform:n?Y:X,name:o};for(const a in ee){const e=ee[a];t.on(a,(()=>{(0,i.L9)(e.name,{...s,...e.data})}))}(0,i.L9)("video_ad:impression",s)},ne=5;const re={AI_ENHANCED_TAG:{GAM_SHORT_NAME:"enh_by_ai_tag",NAME:"doc_page_enh_by_ai_tag_2023_q3",VARIANTS:(0,w.z)(["control","test"])},LOCALIZE_ADS_FOR_ACCESS:{GAM_SHORT_NAME:"localize_afa",NAME:"doc_page_localize_ads_for_access",VARIANTS:(0,w.z)(["control","test"])},MORE_VIDEO_ADS:{GAM_SHORT_NAME:"afa_more_video",NAME:"ads_for_access_more_video_ads",VARIANTS:(0,w.z)(["control","test"])},OPTIMIZE_HOUSE_ADS:{GAM_SHORT_NAME:"opt_house_ads",NAME:"doc_page_optimize_house_ads_2023_q4",VARIANTS:(0,w.z)(["control","premium_content","mix_80_20"])}};const oe=40,se="test",ae=":",ie=C.Oy.reduce(((e,t)=>{let{GAM_SHORT_NAME:n,NAME:r}=t;return e[r]=n,e}),{});function le(e){let{gamShortName:t,variant:n}=e;const r=`${t}${ae}${n}`;if(r.length>oe)throw new Error(`GAM targeting value is too long: ${r}`);return r}let ce=new Set;function de(e){let{gamShortName:t,variant:n}=e;const r=le({gamShortName:t,variant:n});ce.has(r)||(ce.add(r),function(e){let{key:t,value:n}=e;t&&F((function(){U().pubads().setTargeting(t,n)}))}({key:se,value:[...ce]}))}function ue(e,t){V("slotRenderEnded",(function(n){n.slot.getSlotElementId()===e&&t(n)}))}const{VARIANTS:pe}=C.FASTLY_DESKTOP_ADS_V6;function _e(e){let{adLocation:t}=e;return t!==C.KH.LEADERBOARD_AND_SIDEBAR}const he={[pe.ADS_NO_VIEW_RESTRICT]:_e,[pe.ADS_FOR_ACCESS]:function(e){let{adLocation:t}=e;return[C.KH.LEADERBOARD_AND_SIDEBAR,C.KH.SIDEBAR_STICKY].includes(t)}},me={[C.FASTLY_DESKTOP_ADS_V6.NAME]:he};function ge(e){let{adLocation:t,currentUserCountry:n,documentId:r,enableFullDesktopAdsNoVr:o,isEligibleForMobileAds:s,isFullscreen:a,pageWidth:i,testName:l,variant:c}=e;if("undefined"===typeof window)return!1;if(a)return!1;if(!function(e){let{adLocation:t,pageWidth:n}=e;switch(t){case C.KH.DESKTOP_FIXED_BOTTOM:return n>=p.BREAKPOINTS.DS1.breakpoint_950;case C.KH.INCONTENT:return!0;case C.KH.LEADERBOARD_AND_SIDEBAR:case C.KH.SIDEBAR_INTERLEAVED:case C.KH.SIDEBAR_STICKY:return n>=p.BREAKPOINTS.DS1.breakpoint_1024;default:return!1}}({adLocation:t,pageWidth:i}))return!1;if(t===C.KH.INCONTENT&&s)return!0;if(o)return _e({adLocation:t});if(!C.cR.includes(c)||c===C.wI)return!1;const d={adLocation:t,currentUserCountry:n,documentId:r,enableFullDesktopAdsNoVr:o,pageWidth:i},u=me[l][c];return"function"===typeof u&&u(d)}const be=new Set,fe={NAME:"test",ACTION:"nway_test_assignment"};function ve(e){let{gamShortName:t,isNewAssignment:n,testName:r,variant:o}=e;be.has(r)||(de({gamShortName:t,variant:o}),n&&function(e){let{testName:t,variant:n}=e;i.Zd.increment(fe.NAME,{action:fe.ACTION,source:t,variant:n})}({testName:r,variant:o}),be.add(r))}const we=/outer_page_(\d+)/;const{MORE_VIDEO_ADS:Ee}=re,ye={adType:C.T$.NONE};function Se(e){let{inMoreVideoAdsTest:t,pageCount:n,pageNumber:r}=e;const o={inMoreVideoAdsTest:t,pageNumber:r};return n<=2?function(e){let{pageNumber:t}=e;return 1===t?{adType:C.T$.VIDEO,pagesToUnblur:1,timerDuration:30}:{adType:C.T$.DISPLAY,pagesToUnblur:1,timerDuration:10}}(o):n<=4?function(e){let{pageNumber:t}=e;return t<2?ye:2===t?{adType:C.T$.VIDEO,pagesToUnblur:1,timerDuration:30}:{adType:C.T$.DISPLAY,pagesToUnblur:1,timerDuration:10}}(o):n<=10?function(e){let{inMoreVideoAdsTest:t,pageNumber:n}=e;return n<2?ye:2===n?{adType:t?C.T$.VIDEO_STAND_ALONE:C.T$.VIDEO,pagesToUnblur:1,timerDuration:10}:{adType:t?C.T$.VIDEO_STAND_ALONE:C.T$.DISPLAY,pagesToUnblur:1,timerDuration:10}}(o):n<=50?function(e){let{inMoreVideoAdsTest:t,pageNumber:n}=e;return n<2?ye:2===n?{adType:t?C.T$.VIDEO_STAND_ALONE:C.T$.VIDEO,pagesToUnblur:1,timerDuration:10}:n<=20?{adType:t?C.T$.VIDEO_STAND_ALONE:C.T$.DISPLAY,pagesToUnblur:1,timerDuration:10}:{adType:t?C.T$.VIDEO_STAND_ALONE:C.T$.DISPLAY,timerDuration:10,pagesToUnblur:1}}(o):function(e){let{inMoreVideoAdsTest:t,pageNumber:n}=e;return n<2?ye:2===n?{adType:t?C.T$.VIDEO_STAND_ALONE:C.T$.VIDEO,pagesToUnblur:1,timerDuration:10}:{adType:t?C.T$.VIDEO_STAND_ALONE:C.T$.DISPLAY,pagesToUnblur:1,timerDuration:10}}(o)}function Ne(e){let{pageId:t}=e;const n=(0,s.v9)((e=>e.global.testAssignments.fastlyDesktopAds.variant));if(!1===C.aI.includes(n))return ye;const r=function(e){const t=e.match(we)[1];if(!t)throw new Error(`Invalid DocPage pageId: ${e}`);return parseInt(t,10)}(t),o=(0,s.v9)((e=>e.page.wordDocument.page_count)),a=function(e){let{country:t,fastlyDesktopAdsVariant:n,documentPageCount:r}=e;return t===p.COUNTRIES.UNITED_STATES&&!(r<ne)&&C.aI.includes(n)}({fastlyDesktopAdsVariant:n,country:(0,s.v9)((e=>e.user.country)),pageCount:o})&&function(e){let{GAM_SHORT_NAME:t,NAME:n,VARIANTS:r}=e;const{name:o,isNewAssignment:s}=i.rm.getVariantInfo(n);return o&&ve({isNewAssignment:s,gamShortName:t,testName:n,variant:o}),o||r.CONTROL}(Ee)===Ee.VARIANTS.TEST;return{...Se({inMoreVideoAdsTest:a,pageCount:o,pageNumber:r}),pageNumber:r}}const Te="ACCEPT",De="osano-cm-initialized",ke="osano-cm-consent-saved",Pe="osano-cm-ui-changed",Ae={},Ce=(0,o.createContext)(Ae),Ie=e=>{let{children:t}=e;const[n,r]=(0,o.useState)(!1),[s,a]=(0,o.useState)(!1),[l,c]=(0,o.useState)(!1),d=e=>{a(e.MARKETING===Te),c(e.PERSONALIZATION===Te)},u=e=>{const t=(0,i.V_)();e&&(d(e),r(t.cm.dialogOpen))},p=e=>d(e),_=(e,t)=>{"hide"===t&&setTimeout((()=>{r(!1)}),2e3),"show"===t&&r(!0)};(0,o.useEffect)((()=>{const e=(0,i.V_)();if(e)return e.cm.addEventListener(De,u),e.cm.addEventListener(ke,p),e.cm.addEventListener(Pe,_),()=>{e.cm.removeEventListener(De,u),e.cm.removeEventListener(ke,p),e.cm.removeEventListener(Pe,_)}}),[]);const h={isDialogOpen:n,isMarketingConsentGiven:s,isPersonalizationConsentGiven:l};return o.createElement(Ce.Provider,{value:h},t)};const Oe=3e3;function Le(){const{isMarketingConsentGiven:e}=o.useContext(Ce),[t,n]=(0,o.useState)(!1),r=t&&!e&&!window.freestar.loaded;return(0,o.useEffect)((()=>{const e=setTimeout((()=>{n(!0)}),Oe);return()=>clearTimeout(e)}),[]),r}const Re=()=>window.cnxScribdPlayerAPI;function xe(e){let{className:t,onPlayerInstanceReady:n,pageId:r,placementConfig:a}=e;const{parentId:i,placementName:l}=a;return function(e){let{onPlayerInstanceReady:t,placementName:n}=e;const r=(0,s.v9)((e=>e.user.country)),a=(0,s.v9)((e=>e.user.isMobile));(0,o.useEffect)((()=>{let e=null;return R((()=>{e=setInterval((()=>{const o=Re();o&&(clearInterval(e),t(o),te({country:r,isMobile:a,placementName:n,player:o}))}),100)})),function(){clearInterval(e)}}),[])}({onPlayerInstanceReady:n,placementName:l}),(0,o.useEffect)((()=>(R((()=>{L().newVideo(l)})),function(){R((()=>{L().deleteVideo(l)}))})),[]),o.createElement("div",{className:t,id:l,"data-video-ad-page-id":r,"data-testid":"video-ad-placement"},o.createElement("div",{id:i},o.createElement("div",{id:"freestar-video-child"})))}function Me(){let{collapsedOnly:e=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=e?"collapsedHeight":"currentHeight";return(0,s.v9)((e=>e.page.fixedBottomElements[t]))}xe.defaultProps={className:null,onPlayerInstanceReady:i.ZT};var Be=n(17605);const Ze={wrapper:"_2Ts5zz",docked:"_1w471F",ad:"_3Z8A9I",closeButton:"_2aNjao"},Ue={adSection:"_2M8VYd",cancelAnytime:"_H_Po6",ctaButton:"_1DAEDy",displayAd:"_2FgibV",displayWrapper:"_0I8QF",videoWrapper:"_2ZV0G1",timer:"_2s6Pmw",adTitle:"_8rDKm2",headerTitle:"_2X-iL0",headerSubtitle:"_2qbyJJ",subtitle:"_8ViaHY",title:"_11_XMl",header:"_1VLADJ",headerText:"XCZzlk",orDivider:"_1YspGx",or:"JF5dvm",withLargeDivider:"WbjVhH",divider:"_1oj_Lq",withSmallDivider:"_2EOvCm",componentLarge:"Jr7Mo2",componentSmall:"_3Uwen1",component01:"_1tys6- Jr7Mo2 WbjVhH",videoAdPlaceholder:"_3EBRg_",component02:"_2LIIRg Jr7Mo2 _2EOvCm",component03:"USj_a0 _3Uwen1 _2EOvCm",component04:"_2uHuKC _3Uwen1 _2EOvCm"},Fe=24,Ve=250;function je(e){let{pageId:t,reblurPages:n,unblurPages:r}=e;const a=Le(),i=(0,s.I0)(),l=(0,o.useRef)(null),c=(0,o.useRef)(null),{hasBeenInView:m,isDismissed:g,isDocked:b,style:v,timerExpired:w}=(0,s.v9)((e=>e.blurPromoVideoAd)),E=(0,s.v9)((e=>e.viewport.isFullscreen)),y=(0,s.v9)((e=>e.viewport.width)),{classNameKey:S}=f(),N=Me(),T=y<p.BREAKPOINTS.DS1.breakpoint_1024?N:0,{adType:D,pagesToUnblur:k,timerDuration:P}=Ne({pageId:t}),I=D===C.T$.VIDEO&&!g;function O(){var e;const n=c.current.offsetParent,r=null===(e=document.getElementById(t))||void 0===e?void 0:e.querySelector(`[data-ads="${C.ZH}"]`);if(!n||!r)return;l.current=r;const o=n.getBoundingClientRect(),s=r.getBoundingClientRect();i((0,Be.Uz)({left:s.left-o.left,top:s.top-o.top,width:s.width,height:s.height}))}(0,o.useEffect)((()=>{I&&O()}),[I,y]),(0,o.useEffect)((()=>{I&&(i((0,Be.Uz)({opacity:0})),setTimeout(O,Ve))}),[E]);if(!I)return null;return o.createElement("div",{ref:c},o.createElement("div",{style:b?{bottom:Fe+T}:v,className:d()(Ue[S],b?Ze.docked:Ze.wrapper)},o.createElement(xe,{className:Ze.ad,onPlayerInstanceReady:function(e){e.disableFloatingMode()},pageId:t,placementConfig:C.H0.BLUR_PROMO}),w?o.createElement(_.Tj,{className:Ze.closeButton,hiddenText:u.Z.t("shared.common.close"),icon:h.EEu,onClick:function(){i((0,Be.FM)())},size:p.zf.S}):o.createElement(A,{adElement:l.current,className:Ue.timer,duration:P,isActive:e=>{let{isModalOpen:t}=e;return m&&!t},onExpired:function(){r(k),i((0,Be.EX)({isDocked:!a})),setTimeout((()=>{n(k),i((0,Be.i$)()),O()}),C.sk)},onInViewChange:function(e){i(e?(0,Be.hb)():(0,Be.SD)())}})))}var He=n(37571),$e=n(74399),We=n(10818);const ze="div[data-hypernova-key]";var qe=n(70543),Ge=n(67607);var Ke=n(54073),Je=n.n(Ke),Xe=n(84053),Ye=n(82421),Qe=n.n(Ye),et=n(12436),tt=n.n(et);window.Scribd=window.Scribd||{},window.Scribd.ReadingProgress={external_progress_notice_seen:!1};class nt{constructor(e,t){this.opts=t,this.enabled()&&(this.store=e,this.notify_external_progress(null!=this.opts.wordDocument?this.opts.wordDocument.reading_progress:void 0),this.get_ms=window.Scribd.ServerOptions.reading_progress_throttle_get_milliseconds||6e4,this.post_ms=window.Scribd.ServerOptions.reading_progress_throttle_post_milliseconds||1e4,this.url=this.opts.wordDocument.reading_progress&&this.opts.wordDocument.reading_progress.update_url,this.doc_id=this.opts.wordDocument.id,this.offset=null,this.offset_type=null,this.percentage=null,this.credit_redeemed=this.opts.wordDocument.is_credit_restricted,this.is_preview=t.preview_restricted,this.throttled_post_handler=tt()(this.post,this.post_ms,{leading:!1,trailing:!0}),this.throttled_get_handler=tt()(this.get,this.get_ms,{leading:!0,trailing:!1}),this.got_server_progress=!1,this.reset_counters(),this.get(),window.addEventListener("focus",this.throttled_get_handler.bind(this)),this.setup_active_tab_handler())}enabled(){return!!(window.Scribd&&window.Scribd.ServerOptions&&window.Scribd.ServerOptions.reading_progress_enabled)&&this.opts.isLoggedIn}has_external_progress(e){return!!(null!=e?e.offset:void 0)&&(!e.from_current_device&&"browser"!==e.device_name)}external_progress_notification_message(e){return u.Z.t("shared.reading_progress.base.we_ve_moved_you_to_where_you",{progress_device_name:e.device_name})}notify_external_progress(e){if(this.has_external_progress(e)&&!window.Scribd.ReadingProgress.external_progress_notice_seen){window.Scribd.ReadingProgress.external_progress_notice_seen=!0,this.create_flash_notice(this.external_progress_notification_message(e));const t=this.opts.wordDocument.is_sheet_music?"sheet music":"book";(0,i.L9)("reading_progress:progress_moved:show",{doc_id:this.opts.wordDocument.id,destination_offset:e.offset,offset_type:null,document_type:t})}}create_flash_notice(e){this.store.dispatch((0,$e.W6)({type:"notice",children:e}))}update_external_progress(e){if(this.has_external_progress(e))return this.trigger_progress(e)}trigger_progress(){}pause_time(){return this.time_elapsed=this.time_elapsed+(Date.now()-this.start_session)}restart_time(){return this.start_session=Date.now()}reset_counters(){return this.time_elapsed=0,this.start_session=Date.now()}calc_time_elapsed(){return this.time_elapsed=this.time_elapsed+(Date.now()-this.start_session),this.time_elapsed}setup_active_tab_handler(){const e={hidden:"",mozHidden:"moz",msHidden:"ms",webkitHidden:"webkit"};for(let t in e){let n,r;const o=e[t];if("undefined"!==document[t]&&(n=t,r=`${o}visibilitychange`),"undefined"!==typeof document.addEventListener&&"undefined"!==typeof document[n]){const e=()=>document[n]?this.pause_time():this.restart_time();document.addEventListener(r,e,!1)}}}get(){return this.calc_time_elapsed()>0?this.post(!0):this.get_progress()}get_progress(){return Ge.Z.get({url:`${this.url}?doc_id=${this.doc_id}`},((e,t,n)=>{e||(n=JSON.parse(n),this.update_external_progress(n.progress),this.reset_counters(),this.got_server_progress=!0)}))}post(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.got_server_progress)return;let t={doc_id:this.doc_id,time_in_millis:this.calc_time_elapsed()};t=Qe()({},t,{offset:this.offset,offset_type:this.offset_type,percentage:this.percentage,updated:"true"}),Ge.Z.post({url:this.url,body:t},((t,n,r)=>{t||(r=JSON.parse(r),this.update_external_progress(r.progress),this.reset_counters(),e&&this.get())}))}}class rt extends nt{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(e,t),this.container=t.container,this.container&&(this.setup_events=this.setup_events.bind(this),this.handle_input=this.handle_input.bind(this),this.update=this.update.bind(this),this.doc_id=this.opts.wordDocument.id,this.is_embed=this.opts.is_embed||!1,this.setup=!1,this.offset_type="page",this.container.addEventListener("scroll",this.update),setTimeout((()=>{this.container.addEventListener("scroll",this.handle_input),window.addEventListener("resize",this.handle_input)}),250),this.is_embed||this.setup_events())}enabled(){return!!window.docManager&&(!!this.opts.container&&super.enabled())}setup_events(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.setup||(this.setup=!0,this.track_view(),setTimeout((()=>(this.tracking_enabled=!0,this.track_view())),1e3),this.tick_track_later=Je()(function(){this.tick_track(...t)}.bind(this),1e3),setInterval((()=>{if(this.current_event)return new Date-this.current_event.time>6e5?this.flush_current_event():void 0}),5e3),window.addEventListener("beforeunload",this.flush_current_event),window.addEventListener("unload",this.flush_current_event))}handle_input(){this.is_embed&&this.setup_events(),this.track_view()}update(){if(!this.enabled())return;const e=window.docManager.currentPageNum()-1;return this.offset=e,this.percentage=e/this.opts.wordDocument.page_count*100,this.throttled_post_handler()}flush_current_event(){this.current_event&&((0,i.L9)("doc:view_end",{top_view_position:this.current_event.left,bottom_view_position:this.current_event.right,duration:(new Date-this.current_event.time)/1e3,doc_id:this.doc_id,is_embed:this.is_embed}),this.current_event=null)}tick_track(e,t){this.flush_current_event(),this.current_event={left:e,right:t,time:+new Date},(0,i.L9)("doc:view",{top_view_position:e,bottom_view_position:t,doc_id:this.doc_id,is_embed:this.is_embed})}track_view(){if(!this.tracking_enabled)return;const e=this.container,t=document.getElementById(Xe.QA);if(!t)return;const n=t.querySelector(".document_container"),r=e.scrollTop+n.offsetTop,o=n.offsetHeight,s=Math.max(0,Math.min(1,r/o)),a=Math.max(0,Math.min(1,(r+e.offsetHeight)/o));s!==a&&this.tick_track_later(Math.floor(100*s),Math.floor(100*a))}}var ot=n(72081),st=n(36491),at=n(50743),it=n(32516),lt=n(23845);const ct="_35Otjh";var dt=n(64050);const ut=(0,s.$j)((e=>({documentProps:{title:e.page.wordDocument.title},getAppModalProps:{...e.global.client.mobile.getMobileAppProps,androidStoreUrl:e.static.routes.androidStoreUrl,brand:e.static.config.brand,iosStoreUrl:e.static.routes.iosStoreUrl}})),(e=>({openGetAppModal:(t,n)=>{const r={...n,document:t};e((0,dt.sr)(r))},openLanguageModal:t=>{let{propsPath:n}=t;e((0,dt.zp)({name:Z.V$.LANGUAGE_PICKER,propsPath:n}))}})))((function(e){let{documentProps:t,getAppModalProps:n,openGetAppModal:r,openLanguageModal:s}=e;return o.createElement(lt.$_,{className:ct,openGetAppModal:()=>{r(t,n)},openLanguageModal:s})}));var pt=n(51496),_t=n(3584);const ht=e=>{e.handle_embed(e.embed_modal_props_path)},mt=e=>o.createElement(pt.Av,{className:"embed_btn",onClick:ht.bind(void 0,e)},o.createElement("span",{className:"icon icon-ic_embed","aria-hidden":"true"}),o.createElement("span",{className:"label"},u.Z.t("pdfs.redesign_elements.actions.embed"))),gt=(0,s.$j)((e=>({embed_modal_props_path:e.bodyProps.document.embed_modal_props_path})),(e=>({handle_embed:t=>{e((0,dt.zp)({name:Z.V$.EMBED,propsPath:t}))}})))(mt);var bt=n(3665);function ft(){return o.createElement("div",{className:"wrapper__share_button"},o.createElement(pt.xz,{button:o.createElement(pt.Av,{className:"sharing_btn"},o.createElement(pt.JO,{icon:"share_web"}),o.createElement("span",{className:"label"},u.Z.t("pdfs.redesign_elements.actions.share"))),forcePosition:"bottom right",menu:o.createElement(bt.Z,null),noFullscreen:!0}))}const vt="_2E1J6Y",wt="_3nyAEN";function Et(e){let{children:t,className:n}=e;return o.createElement("div",{className:d()(vt,n)},o.createElement("div",{className:d()(wt)},t))}Et.defaultProps={children:null,className:null};var yt=n(36932),St=n(73357),Nt=n(60420),Tt=n(65428);function Dt(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const kt="keydown";class Pt extends o.Component{constructor(){super(...arguments),Dt(this,"state",{query:""}),Dt(this,"docSearchInput",o.createRef()),Dt(this,"searchRef",o.createRef()),Dt(this,"searchResultsMenu",o.createRef()),Dt(this,"handleSearchChange",(e=>{this.setState({query:e.target.value}),0===e.target.value.length&&this.props.handle_clear_search()})),Dt(this,"handleSubmitSearch",(e=>{e.which===Nt.key_mappings.enter&&((0,i.L9)("doc:search_doc:engage",{text:e.target.value}),this.props.handle_submit_search(e.target.value,this.props.search_path))})),Dt(this,"clearSearch",(()=>{this.setState({query:""}),this.props.handle_clear_search()})),Dt(this,"handleEscapeClose",(e=>{e.which===Nt.key_mappings.esc&&(this.clearSearch(),this.docSearchInput.current.focus())})),Dt(this,"handleSelectResult",((e,t)=>{if(t.type===kt){if(t.which!==Nt.key_mappings.enter)return}else t.preventDefault();let n=this.props.search_results[e];window.docManager.gotoPage(n.pageNum),this.props.handle_select_result(n),this.props.handle_change_page(n.pageNum),(0,i.L9)("doc:search_doc_result:click",{index:e})})),Dt(this,"handleSearchFocus",(()=>{(0,i.L9)("doc:search_doc:click",{page:"pdfs"}),this.props.handle_clear_search(),st.ZP.clear()}))}componentDidUpdate(e){if(!this.searchResultsMenu.current)return;const t=this.props.search_results;!e.search_results&&t&&t.length?this.setFocusTrap():this.keydownHandler&&this.removeFocusTrap()}get query(){return this.state.query||this.props.query}setFocusTrap(){this.keydownHandler=((e,t,n)=>{const r=(0,Tt.c2)(e,n);return e.addEventListener(t,r),r})(this.searchResultsMenu.current,kt,this.clearSearch);const e=this.searchResultsMenu.current.querySelector("a");e&&e.focus()}removeFocusTrap(){var e,t,n;this.keydownHandler=(e=this.searchResultsMenu.current,t=kt,n=this.keydownHandler,void e.removeEventListener(t,n))}componentWillUnmount(){this.searchResultsMenu.current&&this.keydownHandler&&this.removeFocusTrap()}renderResult(e,t){const n=new RegExp(`(${this.query.trim()})`,"i"),r=e.snippet.split(n),s=e=>this.handleSelectResult(t,e),a=this.props.selected_result&&this.props.selected_result.snippet===e.snippet;return o.createElement("li",{role:"none",key:t},o.createElement("div",{className:d()("results_row available",{selected:a})},o.createElement("a",{role:"menuitem",href:"#",onClick:s,onKeyDown:s},o.createElement(pt.TX,null,u.Z.t("pdfs.doc_search.page")," "),o.createElement("span",{className:"result_page_number"},e.pageNum),o.createElement(pt.TX,null,", "),r.map(((e,t)=>t%2===0?o.createElement("span",{key:t},e):o.createElement("strong",{key:t},e))))))}renderSearchResults(){const{search_results:e,search_loading:t}=this.props;if(null===e||t)return;const n=e.filter((e=>e.snippet&&e.snippet.length));let r=1===n.length?u.Z.t("pdfs.toolbar.showing_strong_1_strong_result_for_query"):u.Z.t("pdfs.toolbar.showing_strong_num_results_strong_results_for_query",{num_results:n.length});return o.createElement("div",{className:"search_results results_popup"},o.createElement("ul",{role:"menu",className:"search_results_menu",ref:this.searchResultsMenu},o.createElement("li",{role:"none"},o.createElement("div",{className:"results_header"},o.createElement("span",{dangerouslySetInnerHTML:{__html:r}}),o.createElement("span",null,` ${this.query}`))),n.map(((e,t)=>this.renderResult(e,t)))))}renderSearchButton(){if(0!==this.query.length)return o.createElement("button",{className:"search_close_icon icon-ic_close",onClick:this.clearSearch,onKeyDown:this.clearSearch,type:"button"},o.createElement(pt.TX,null,u.Z.t("pdfs.doc_search.close_search")))}render(){if(!this.props.search_path)return null;const e=o.createElement("span",{className:"icon-ic_search search_icon","aria-hidden":"true",role:"presentation"});return o.createElement("div",{className:"wrapper__doc_page_App_Page_Body_DocumentSearch"},o.createElement("div",{className:"search_wrapper",ref:this.searchRef,onKeyDown:this.handleEscapeClose},o.createElement(pt.oi,{afterInputChildren:this.renderSearchButton(),className:"document_search",hideLabel:!0,id:"document_search",inputChildren:e,inputRef:this.docSearchInput,label:u.Z.t("webpack.doc_page.src.body.toolbar.search_inside_document"),name:"document_search",onChange:this.handleSearchChange,onFocus:this.handleSearchFocus,onKeyDown:this.handleSubmitSearch,placeholder:u.Z.t("pdfs.toolbar.search_document"),value:this.query}),this.renderSearchResults()))}}Pt.defaultProps={query:"",search_path:null,search_results:null,selected_result:null};var At=n(15230);const Ct=(0,s.$j)((e=>({search_loading:e.documentViewer.search_loading,search_path:e.toolbar.search_path,search_results:e.documentViewer.search_results,selected_result:e.documentViewer.selected_result,query:e.documentViewer.query})),(e=>({handle_change_page:t=>e((0,At.d1)(t)),handle_clear_search:()=>e((0,At.$l)()),handle_select_result:t=>e((0,At.k$)(t)),handle_submit_search:(t,n)=>e((0,At.pU)(t,n))})))(Pt);function It(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Ot={EXIT_FULLSCREEN:"exit-fullscreen",ENTER_FULLSCREEN:"enter-fullscreen"},Lt="doc-page",Rt="toolbar",xt="doc_page",{breakpoint_950:Mt}=p.BREAKPOINTS.DS1,Bt=e=>{let{children:t}=e;return t};class Zt extends o.Component{constructor(e){super(e),It(this,"closeFlashBannerEventListener",(()=>{const{numberOfFlashBanners:e}=this.state;e>0&&this.setState({numberOfFlashBanners:e-1})})),It(this,"getDesktopLayoutStyles",(()=>{const{fixed:e,isFullscreen:t,showDesktopLayout:n}=this.props,{documentContainerWidth:r,numberOfFlashBanners:o}=this.state;if(!1===n)return{};const s={};return!0===(e&&this.hasDocumentContainerWidth)&&(s.maxWidth=`${r}px`),!0===t&&(s.marginTop=60*o+"px"),s})),It(this,"handleExpectedFirstPageChanged",(e=>{const{currentPage:t,handleChangePage:n}=this.props;t!==e&&n(e)})),It(this,"handleFullscreen",(()=>{const{handleZoomReset:e,isFullscreen:t,setFullscreen:n,showDesktopLayout:r}=this.props,o=!0===t?Ot.EXIT_FULLSCREEN:Ot.ENTER_FULLSCREEN;(0,i.L9)("doc:fullscreen_button:click",{action:t?"exit fullscreen":"fullscreen"}),i.Zd.increment(C.Ib.NAME,{action:o,page:Lt}),n(!t),r&&(this.adjustFullScreenCurrentZoomMultiplier(t),this.updateFixedToolbarWidth(),this.updateNumberOfFlashBanners(),document.querySelectorAll(".flash_close_button").forEach((e=>{!1===t?null===e||void 0===e||e.addEventListener("click",this.closeFlashBannerEventListener):null===e||void 0===e||e.removeEventListener("click",this.closeFlashBannerEventListener)})),!0===t&&e())})),It(this,"handlePageNumber",(e=>{const{handleChangeVisiblePage:t,visiblePage:n}=this.props,r=e.target.value,o=isNaN(parseInt(r))?"":parseInt(r.replace(/[^0-9]/i,""));o!==n&&t(o)})),It(this,"handlePageNumberSubmit",(e=>{if("keydown"===e.type&&e.which!==Nt.key_mappings.enter)return;const{currentPage:t,handleChangePage:n,visiblePage:r}=this.props;let o=Math.max(1,r);o=o>this.state.highest_page?t:o,o!==t&&((0,i.L9)("doc:pager:engage",{text:o,from_page:t,to_page:o}),window.docManager.gotoPage(o)),t!==o&&n(o)})),It(this,"handleZoomIn",(()=>{this.props.handleZoomIn(),(0,i.L9)("doc:zoom_in_button:click",{to_zoom_level:`${this.currentZoomLevel()}%`})})),It(this,"handleZoomOut",(()=>{this.props.handleZoomOut(),(0,i.L9)("doc:zoom_out_button:click",{to_zoom_level:`${this.currentZoomLevel()}%`})})),It(this,"updateFixedToolbarWidth",(()=>{const e=document.querySelector('[data-e2e="document_container"]');this.setState({documentContainerWidth:e.offsetWidth})})),It(this,"updateNumberOfFlashBanners",(()=>{const e=document.querySelectorAll(".wrapper__flash").length;this.setState({numberOfFlashBanners:e})})),this.state={documentContainerWidth:null,numberOfFlashBanners:0,highest_page:e.maxPage},this.updateFixedToolbarWidth=Je()(this.updateFixedToolbarWidth,100)}componentDidMount(){window.docManager.addEvent("expectedFirstPageChanged",this.handleExpectedFirstPageChanged),this.props.showDesktopLayout&&(window.addEventListener("resize",this.updateFixedToolbarWidth),this.updateFixedToolbarWidth(),this.updateNumberOfFlashBanners()),this.setState({highest_page:this.getHighestPage()})}componentWillUnmount(){this.props.showDesktopLayout&&window.removeEventListener("resize",this.updateFixedToolbarWidth)}adjustFullScreenCurrentZoomMultiplier(e){if(!window.docManager||!window.docManager._currentViewManager)return null;window.docManager._currentViewManager._currentZoomMultiplier=e?1:1.44}getHighestPage(){const{maxPage:e}=this.props;if(!window.docManager||!window.docManager.pages)return e;const t=Object.keys(window.docManager.pages),n=Math.max.apply(null,t);return Math.max(e,n)}currentZoomLevel(){return Math.floor(100*window.docManager._currentViewManager._currentZoomMultiplier)}get hasDocumentContainerWidth(){return null!==this.state.documentContainerWidth}shouldNotShowZoomButtons(){const{isFullscreen:e,showDesktopLayout:t}=this.props;return t&&!e}renderFullscreenLogo(){if(this.props.isFullscreen)return o.createElement("a",{href:"/"},o.createElement("span",{className:"toolbar_scribd_logo"}))}renderMainCta(){const{isFullscreen:e,isDownloadable:t,loggedIn:n,subscriber:r}=this.props;if(!e)return r?o.createElement(St.Z,{loggedIn:n,show_text:!0,filledBtn:!0,prominent_style:!0}):t?o.createElement(yt.Z,{location:Rt,page:xt}):void 0}renderDocumentActions(){const{fixed:e,subscriber:t}=this.props;if(t&&e)return o.createElement("div",{className:"doc_actions"},o.createElement(gt,null),o.createElement(ft,null))}renderLeftTools(){return o.createElement("div",{className:"left_tools"},this.renderFullscreenLogo(),this.renderMainCta(),this.renderDocumentActions())}renderPageInput(){return o.createElement("div",{className:"toolbar_pager"},o.createElement(pt.oi,{id:"jump_page",label:u.Z.t("webpack.doc_page.src.App.Page.Body.Toolbar.Toolbar.jump_to_page"),hideLabel:!0,onChange:this.handlePageNumber,onBlur:this.handlePageNumberSubmit,onKeyDown:this.handlePageNumberSubmit,name:"page_number",type:"tel",value:this.props.visiblePage+"",className:"page_number"}),o.createElement("span",{"aria-live":"polite","aria-atomic":"true"},o.createElement(pt.TX,null,u.Z.t("pdfs.toolbar.you_are_on_page_props_current_page",{props_current_page:this.props.visiblePage})),o.createElement("span",{className:"page_of"},u.Z.t("pdfs.toolbar.of_numberformat_props_document_total_pages",{numberformat_props_document_total_pages:this.state.highest_page}))))}renderZoomInButton(){if(this.shouldNotShowZoomButtons())return null;const e=o.createElement(pt.Av,{"aria-label":u.Z.t("pdfs.toolbar.zoom_in"),className:d()("zoom_in_button",{disabled:this.props.zoomInDisabled}),onClick:this.handleZoomIn},o.createElement(pt.JO,{icon:"zoom_in_default"}));return o.createElement(pt.d7,{below:!0,width:Mt},o.createElement(pt.$,{content:u.Z.t("pdfs.toolbar.zoom_in")},e))}renderZoomOutButton(){if(this.shouldNotShowZoomButtons())return null;const e=o.createElement(pt.Av,{"aria-label":u.Z.t("pdfs.toolbar.zoom_out"),className:d()("zoom_out_button",{disabled:this.props.zoomOutDisabled}),onClick:this.handleZoomOut},o.createElement(pt.JO,{icon:"zoom_out_default"}));return o.createElement(pt.d7,{below:!0,width:Mt},o.createElement(pt.$,{content:u.Z.t("pdfs.toolbar.zoom_out")},e))}renderCenterTools(){return o.createElement("div",{className:"center_tools"},this.renderPageInput(),this.renderZoomInButton(),this.renderZoomOutButton())}renderFullscreenButton(){const{isFullscreen:e}=this.props,t=e?u.Z.t("pdfs.toolbar.exit_fullscreen"):u.Z.t("pdfs.toolbar.fullscreen");return o.createElement(pt.$,{content:t,position:"left"},o.createElement(pt.Av,{"aria-label":e?u.Z.t("pdfs.toolbar.exit_fullscreen"):u.Z.t("pdfs.toolbar.fullscreen"),className:"fullscreen_button",onClick:this.handleFullscreen},o.createElement(pt.JO,{icon:e?"fullscreen_collapse":"fullscreen_window"})))}renderRightTools(){return o.createElement("div",{className:"right_tools"},o.createElement(Ct,null),this.renderFullscreenButton())}render(){const{fixed:e,isFullscreen:t,showDesktopLayout:n,toolbarRef:r}=this.props;if(e&&!this.hasDocumentContainerWidth)return null;const s=e&&n&&!t?Et:Bt;return o.createElement(s,null,o.createElement("div",{className:d()("auto__doc_page_body_toolbar",{desktop_layout:n,fixed:e,fullscreen:t}),ref:r,style:this.getDesktopLayoutStyles()},this.renderLeftTools(),this.renderCenterTools(),this.renderRightTools()))}}Zt.defaultProps={fixed:!1,handleZoomReset:i.ZT,showDesktopLayout:!1,toolbarRef:{current:null}};var Ut=n(67709),Ft=n(46416);const Vt=(0,s.$j)((e=>{const{current_page:t,search_loading:n,search_results:r,query:o,selected_result:s,visible_page:a,zoom:i,zoom_in_disabled:l,zoom_out_disabled:c}=e.documentViewer,{isFullscreen:d,width:u}=e.viewport,{isLoggedIn:p,isMobile:_,isSubscriber:h}=e.user,{is_downloadable:m}=e.page.wordDocument,{page_count:g}=e.bodyProps.document,{search_path:b}=e.toolbar;return{currentPage:t,isDownloadable:m,isFullscreen:d,loggedIn:p,maxPage:g,pageWidth:u,searchLoading:n,searchPath:b,searchResults:r,query:o,selectedResult:s,showDesktopLayout:(0,Ft.Z)(_,u),subscriber:h,visiblePage:a,zoom:i,zoomInDisabled:l,zoomOutDisabled:c}}),(e=>({handleChangePage:t=>e((0,At.d1)(t)),handleChangeVisiblePage:t=>e((0,At.w1)(t)),handleClearSearch:()=>e((0,At.$l)()),handlePrint:()=>e((0,dt.zp)({name:Z.V$.PRINT})),handleSelectResult:t=>e((0,At.k$)(t)),handleSubmitSearch:(t,n)=>e((0,At.pU)(t,n)),setFullscreen:t=>e((0,Ut.Z)(t)),handleZoomIn:()=>e((0,At.Dx)()),handleZoomOut:()=>e((0,At.WJ)()),handleZoomReset:()=>e((0,At.Vy)())})))(Zt);const jt=(0,s.$j)((e=>({languageModalPropsPath:e.static.routes.languageModalPropsPath})),(e=>({openLanguageModal:t=>{let{propsPath:n}=t;e((0,dt.zp)({name:Z.V$.LANGUAGE_PICKER,propsPath:n,afterCloseTrackingArgs:["language_picker:modal:close"]}))},openSignInModal:t=>{let{loc:n,nextUrl:r}=t;e((0,dt.Dm)({bypassForceCloseLoadingModal:!0,trackingData:{loc:n,page:"doc"},nextUrl:i.v_.bind(null,r)}))},openSignUpModal:t=>{let{loc:n,nextUrl:r}=t;e((0,dt.mb)({trackingData:{loc:n,page:"doc"},nextUrl:r}))}})))((function(e){let{openLanguageModal:t,openSignInModal:n,openSignUpModal:r}=e;return o.createElement(o.Fragment,null,o.createElement(lt.lw,{openLanguageModal:t,openSignInModal:n,openSignUpModal:r}),o.createElement(lt.X8,{openLanguageModal:t,openSignInModal:n,openSignUpModal:r}))}));var Ht=n(37444),$t=n.n(Ht);const Wt={incontent:"_3wheKT",de:"_2DFxKE",es:"EIaBlR",fr:"_1CTcSK",pt:"tDX6v2",incontentLeaderboard:"_36qFOx",id:"_1DmwCr",it:"tg4BgW",ro:"tNqCue",ru:"_2QNP9M",rightRail:"NXxp5a",mobilePushdown:"_37BBhD",blurPromoDisplay:"_26cRhU",landscape:"_3MsIWc",bottomRightMrec:"GWLAXA",desktopLeaderboard:"_20eSTW"};function zt(e){let{className:t,imageClassName:n}=e;const r=(0,s.v9)((e=>e.i18n.currentLanguage.prefix)),a=(0,s.v9)((e=>e.page.wordDocument.page_orientation))===m,i=(0,s.v9)((e=>e.static.routes.oauthStartTrialUrl)),l=(0,s.v9)((e=>e.static.routes.subscribeNowLandingPath));if(!n)return null;let c=l;return[Wt.blurPromoDisplay,Wt.bottomRightMrec,Wt.desktopLeaderboard].includes(n)&&(c=i),o.createElement("a",{className:t,href:c,target:"_blank"},o.createElement("div",{className:d()(Wt[r],{[Wt.landscape]:a},n)}))}function qt(e){let{adIndex:t,className:n,fallbackImageClassName:r,placementName:s}=e;return Le()?o.createElement(zt,{className:n,imageClassName:r}):o.createElement($t(),{classList:n?[n]:null,publisher:C.XV,placementName:s,slotId:O({placementName:s,adIndex:t}),targeting:x({placementName:s})})}zt.defaultProps={className:null,imageClassName:null},qt.defaultProps={adIndex:null,className:null,fallbackImageClassName:null};const Gt={wrapper:"_38oNc9",desktopLeaderboard:"_1of5Pq"};function Kt(){return o.createElement("div",{className:Gt.wrapper,"data-testid":"desktop-leaderboard"},u.Z.t("shared.common.advertisement"),o.createElement(qt,{className:Gt.desktopLeaderboard,fallbackImageClassName:Wt.desktopLeaderboard,placementName:C.$Q.SCRIBD_DT_LEADERBOARD}))}var Jt=n(39782);const Xt={wrapper:"_32uY1I",fallback:"_2vShLU"};function Yt(){const e=Le(),t=(0,s.I0)(),[n,r]=(0,o.useState)(!1),a=C.$Q.SCRIBD_MOBILE_PUSHDOWN;return(0,o.useEffect)((()=>(R((()=>{L().newPushdown(a)})),function(){R((()=>{L().deletePushdown(a)}))})),[]),(0,o.useEffect)((()=>{ue(a,(e=>j(e,(()=>{r(!0),t((0,Jt.oi)(!1))}))))}),[]),n?null:e?o.createElement(zt,{className:d()(Xt.wrapper,Xt.fallback),imageClassName:Wt.mobilePushdown}):o.createElement("div",{className:Xt.wrapper},o.createElement("div",{id:"scribd_mobile_pushdown-pushdown-cls"}))}var Qt=n(68106);function en(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const tn={success:"success",error:"warning",notice:"abouttitle",info:"abouttitle"};class nn extends o.Component{constructor(e){super(e),en(this,"handleClose",(()=>{this.setState({visible:!1}),this.props.handle_close&&this.props.handle_close()})),en(this,"handleExited",(()=>{this.props.close_flash(this.props.id)})),this.state={visible:!1}}componentDidMount(){setTimeout((()=>this.setState({visible:!0})),50)}getLabel(e){switch(e){case"success":return u.Z.t("chrome.flash.success");case"error":return u.Z.t("chrome.flash.error");case"info":return u.Z.t("webpack.doc_page.src.shared.components.flashes.Flash.Flash.information");default:return u.Z.t("chrome.flash.notice")}}renderCloseButton(){if(this.props.user_dismiss)return o.createElement(pt.Av,{onClick:this.handleClose,key:"1",className:"flash_close_button"},o.createElement(pt.TX,null,u.Z.t("chrome.flash.close_notification")),o.createElement(pt.JO,{icon:"close"}))}renderContent(){const{content:e,raw:t}=this.props;if(e)return t?o.createElement("span",{dangerouslySetInnerHTML:{__html:e}}):o.createElement("span",null,e)}render(){const{type:e,children:t,animation_speed:n,className:r}=this.props;return o.createElement("div",{className:"wrapper__flash",tabIndex:"-1"},o.createElement(Qt.ZP,{in:this.state.visible,timeout:n,unmountOnExit:!0,onExited:this.handleExited},(n=>o.createElement("div",{className:d()("flash",e,r,n,{full_border:this.props.full_border})},o.createElement("div",{className:"content"},o.createElement(pt.TX,{tag:"h1"},this.getLabel(e)),o.createElement(pt.JO,{icon:tn[e]}),this.renderContent(),t),this.renderCloseButton()))))}}function rn(){return rn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rn.apply(this,arguments)}nn.defaultProps={animation_speed:250,children:null,className:"",content:"",full_border:!1,handle_close:null,id:0,raw:!1,user_dismiss:!0};const on="auto__doc_page_shared_flash_container";function sn(e){return o.createElement("div",{className:d()(on,e.classes),role:"alert"},Object.values(e.flashes).map((t=>o.createElement(nn,rn({},t,{key:t.id,close_flash:e.close_flash})))),e.children)}sn.defaultProps={children:null,classes:""};const an="loss_aversion",ln="standard",cn="canceled_from_pmp_trial",dn="canceled",un="dunning_credit_card",pn="expired",_n="failed_credit_card",hn="failed_paypal",mn="giftcard",gn="notice",bn="error",fn="_2EPlKH";function vn(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class wn extends o.Component{constructor(e){super(e),vn(this,"handleClick",(e=>{e.preventDefault(),(0,i.L9)("nag_banner:click",this.getTrackOpts()),setTimeout((()=>(0,i.uX)(this.props.payment_fix_url)),100)})),this.state={dunningTestValue:null}}componentDidMount(){this.props.renewal_nag===un&&this.props.dunning_nway_test_url&&!this.props.under_dunning_lock&&i.Be.get({url:this.props.dunning_nway_test_url},((e,t,n)=>{n=JSON.parse(n),this.setState({dunningTestValue:n.test_value})})),(0,i.L9)("nag_banner:view",this.getTrackOpts())}getControlText(){return[u.Z.t("chrome.renewal_nag.your_credit_card_information_is_invalid_"),u.Z.t("chrome.renewal_nag.click_here_to_update_it")]}getDunningContent(){if(this.props.under_dunning_lock){let e;return e=this.props.backupPaymentMethodsRollout?u.Z.t("shared.common.add_a_new_payment_method"):u.Z.t("chrome.renewal_nag.update_payment"),[u.Z.t("chrome.renewal_nag.your_membership_is_on_hold"),e]}switch(this.state.dunningTestValue){case ln:return[u.Z.t("chrome.renewal_nag.your_payment_is_overdue"),u.Z.t("chrome.renewal_nag.update_payment")];case an:return[u.Z.t("chrome.renewal_nag.your_account_is_at_risk"),u.Z.t("chrome.renewal_nag.update_now")];default:return this.getControlText()}}getContent(){if(this.props.paused)return[u.Z.t("chrome.renewal_nag.your_membership_is_paused_until_paused_until_date",{paused_until_date:(0,i.nq)(this.props.paused_until_date),interpolation:{escapeValue:!1}}),u.Z.t("chrome.renewal_nag.resume_membership")];switch(this.props.renewal_nag){case hn:return[u.Z.t("chrome.renewal_nag.your_paypal_information_is_invalid"),u.Z.t("chrome.renewal_nag.click_here_to_update_it")];case _n:return this.getControlText();case un:return this.getDunningContent();case cn:return[u.Z.t("chrome.renewal_nag.you_canceled_your_free_trial"),u.Z.t("chrome.renewal_nag.click_here_to_resume_it")];case dn:return[u.Z.t("chrome.renewal_nag.your_scribd_membership_was_canceled"),u.Z.t("chrome.renewal_nag.click_here_to_renew_it")];case pn:return[u.Z.t("chrome.renewal_nag.your_scribd_membership_has_expired"),u.Z.t("chrome.renewal_nag.click_here_to_renew_it")];case mn:return[u.Z.t("chrome.renewal_nag.your_scribd_gift_membership_has_ended"),u.Z.t("chrome.renewal_nag.click_here_to_become_a_member")];default:return[null,null]}}getTrackOpts(){return{nag_type:this.props.renewal_nag}}getTypeAndClassName(){const{renewal_nag:e,under_dunning_lock:t}=this.props,{dunningTestValue:n}=this.state;let r=gn,o="";return e===un&&(t?r=bn:n===an?(r=bn,o="dunning_nway_loss_aversion"):n===ln&&(r=bn)),[r,o]}render(){const{renewal_nag:e,payment_fix_url:t,under_dunning_lock:n}=this.props,{dunningTestValue:r}=this.state;if(e===un&&!r&&!n)return null;let[s,a]=this.getContent();if(!s||!a)return null;const[i,l]=this.getTypeAndClassName();return o.createElement(nn,{user_dismiss:!1,type:i,className:d()(l,fn)},o.createElement("span",null,s+" "),o.createElement("a",{href:t,onClick:this.handleClick},a))}}wn.defaultProps={backupPaymentMethodsRollout:!1,dunning_nway_test_url:"",paused_until_date:""};const En=(0,s.$j)((e=>({backupPaymentMethodsRollout:e.global.testAssignments.backupPaymentMethodsRollout,paused:e.user.isPaused})),null)(wn);var yn=n(57464);function Sn(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Nn={success:"icon-ic_success",error:"icon-ic_warning",notice:"icon-ic_abouttitle"};class Tn extends o.Component{constructor(e){super(e),Sn(this,"handle_dismiss",(()=>{this.timer=window.setTimeout((()=>this.setState({visible:!1})),this.props.dismiss_speed)})),Sn(this,"handle_mouse_enter",(()=>{clearTimeout(this.timer)})),Sn(this,"handle_exited",(()=>{this.props.close_toast(this.props.id)})),this.state={visible:!1}}componentDidMount(){this.setState({visible:!0}),this.handle_dismiss()}componentWillUnmount(){clearTimeout(this.timer)}get_label(e){switch(e){case"success":return u.Z.t("chrome.flash.success");case"error":return u.Z.t("chrome.flash.error");default:return u.Z.t("chrome.flash.notice")}}render_text(){const{content:e,raw:t}=this.props;if(e)return t?o.createElement("span",{dangerouslySetInnerHTML:{__html:e},role:"alert"}):o.createElement("span",{role:"alert"},e)}render(){const{type:e,className:t,animation_speed:n}=this.props;return o.createElement("div",{className:"auto__doc_page_shared_toast"},o.createElement(Qt.ZP,{in:this.state.visible,timeout:n,unmountOnExit:!0,onExited:this.handle_exited},(n=>o.createElement("div",{className:d()("flash",e,t,n),onMouseEnter:this.handle_mouse_enter,onMouseLeave:this.handle_dismiss},o.createElement("div",{className:"content"},o.createElement(pt.TX,{tag:"em"},this.get_label(e)),o.createElement("span",{className:`icon ${Nn[e]}`,"aria-hidden":"true"}),this.render_text())))))}}Tn.defaultProps={animation_speed:500,className:"",dismiss_speed:11e3,raw:!1};const Dn="BhRQJ1",kn="_1tzCRb";function Pn(){return Pn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Pn.apply(this,arguments)}const An=e=>{let{closeToast:t,toasts:n}=e;return o.createElement("div",{className:Dn,role:"alert"},n.map((e=>e.useDS2?o.createElement("div",{className:kn,key:e.id},o.createElement(yn.Nk,Pn({},e,{closeToast:t}))):o.createElement(Tn,Pn({},e,{key:e.id,close_toast:t})))))};An.defaultProps={toasts:[]};const Cn=An;var In=n(53391);const On=(0,s.$j)((e=>({toasts:Object.values(e.toast.toasts)})),(e=>({closeToast:t=>{e((0,In.Z)(t))}})))(Cn),Ln="_291aHH",Rn="_2uC0y- _291aHH",xn="CLOSE_LEADERBOARD",Mn="SHOW_LEADERBOARD";function Bn(e){let{renewalNagProps:t}=e;const n=(0,s.I0)(),{testName:r,variant:a}=(0,s.v9)((e=>e.global.testAssignments.fastlyDesktopAds)),i=(0,s.v9)((e=>e.flash.flashes)),l=(0,s.v9)((e=>e.ads.isDesktopLeaderboardAdVisible)),c=(0,s.v9)((e=>e.documentViewer.fixed_actions)),u=(0,s.v9)((e=>e.documentViewer.fixed_toolbar)),p=(0,s.v9)((e=>e.viewport.isFullscreen)),_=(0,s.v9)((e=>e.viewport.isKeyboardUser)),h=(0,s.v9)((e=>e.ads.isMobilePushdownAdVisible)),m=(0,s.v9)((e=>e.viewport.width)),g=(0,s.v9)((e=>e.ads.videoAdPosition));function b(e){switch(e){case xn:R((function(){L().deleteAdSlots(C.$Q.SCRIBD_DT_LEADERBOARD)})),n((0,Jt.we)(!1));break;case Mn:n((0,Jt.we)(!0)),R((function(){L().deleteAdSlots(C.$Q.SCRIBD_BOTTOMRIGHT_MREC)}));break;default:return null}}let f=Ln;return g===C.ng.FIXED_TOP&&(f=Rn),(0,o.useEffect)((()=>{if(!C.aI.includes(a))return;b(ge({adLocation:C.KH.LEADERBOARD_AND_SIDEBAR,isFullscreen:p,pageWidth:m,testName:r,variant:a})&&!u?Mn:xn)}),[u,m,p]),o.createElement("div",{className:_?null:f},h?o.createElement(pt.SV,null,o.createElement(Yt,null)):null,l?o.createElement(pt.SV,null,o.createElement(Kt,null)):null,o.createElement(pt.SV,null,o.createElement(jt,null)),o.createElement(pt.SV,{onError:()=>n((0,$e.F$)())},o.createElement(sn,{flashes:i,close_flash:e=>n((0,$e.KX)(e)),classes:d()({fixed_actions:c})},t?o.createElement(En,t):null,u?o.createElement(Vt,{fixed:!0}):null)),o.createElement(pt.SV,{onError:()=>n((0,_t.Z)())},o.createElement(On,null)))}const Zn={[Z.V$.ACCOUNT_CREATION]:{component:()=>Promise.all([n.e(834),n.e(824)]).then(n.bind(n,6824))},[Z.V$.APP_PROMO_INTERSTITIAL]:{component:()=>n.e(845).then(n.bind(n,63845))},[Z.V$.DELETE_ITEM_IN_LIST]:{component:()=>n.e(780).then(n.bind(n,65780))},[Z.V$.DESCRIPTION]:{component:()=>n.e(335).then(n.bind(n,27335))},[Z.V$.DOWNLOAD_MODAL_VARIANT_CONTAINER]:{component:()=>n.e(691).then(n.bind(n,46691))},[Z.V$.DOWNLOAD_PAUSED_USER]:{component:()=>n.e(847).then(n.bind(n,21847))},[Z.V$.DOWNLOAD_RECEIPT]:{component:()=>n.e(787).then(n.bind(n,5787))},[Z.V$.EMBED]:{component:()=>n.e(323).then(n.bind(n,62323))},[Z.V$.EXIT_MODAL]:{component:()=>n.e(151).then(n.bind(n,27151))},[Z.V$.FLAG_DOCUMENT]:{component:()=>n.e(880).then(n.bind(n,75880))},[Z.V$.GET_APP]:{component:()=>Promise.resolve({default:pt.Io})},[Z.V$.LANGUAGE_PICKER]:{component:()=>n.e(608).then(n.bind(n,44608))},[Z.V$.LOCK_SHOCK_ROADBLOCK]:{component:()=>n.e(783).then(n.bind(n,55783))},[Z.V$.MOBILE_NOTE]:{component:()=>n.e(995).then(n.bind(n,81995))},[Z.V$.PRINT]:{component:()=>n.e(659).then(n.bind(n,20659))},[Z.V$.REDIRECT]:{component:()=>n.e(578).then(n.bind(n,6578))},[Z.V$.SHARE_QUOTE]:{component:()=>n.e(243).then(n.bind(n,2243))}};var Un=n(29759);const Fn=(0,s.$j)((e=>({number_of_flashes:Object.keys(e.flash.modal_flashes).length})),((e,t)=>({close_all_modals:()=>{e((0,dt.Zy)())},close_modal:n=>{e((0,dt.Li)(n||t.id))},create_download_modal:t=>{e((0,dt.Md)(t))},create_join_modal:t=>{e((0,dt.mb)(t))},create_login_modal:t=>{e((0,dt.Dm)(t))},create_modal:t=>{e((0,dt.zp)(t))}})))(Un.Z);var Vn=n(78366),jn=n(74522);const Hn=(0,s.$j)(jn.K,jn.Z)(Vn.Z);function $n(){return $n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$n.apply(this,arguments)}const Wn=e=>{let{modals:t}=e;return o.createElement("div",{className:"wrapper__doc_page_shared_modal_container"},t.map((e=>o.createElement(Fn,$n({},e,{key:e.id,component_loader:Zn[e.name].component,props_loader:e.propsPath?(0,Vn.u)(e.propsPath):void 0})))))},zn=(0,s.$j)((e=>({modals:Object.values(e.modal.modals)})))(Wn);var qn=n(42014),Gn=n(71133),Kn=n(88871);const Jn="_1Z8J7p",Xn="DJQy8J",Yn="_2H0kI-",Qn="sdZMmm";function er(e){let{enhancedMetadataType:t}=e;const n=()=>{(0,i.L9)("ai_enhanced_tag:popover:show")},r=(()=>{const{TITLE:e,DESCRIPTION:n,TITLE_AND_DESCRIPTION:r}=Z.ENHANCED_METADATA_TYPES;switch(t){case r:return{tagTitle:u.Z.t("doc_page.ai_enhanced_tag.title_and_description"),popoverCopy:u.Z.t("doc_page.ai_enhanced_tag.title_and_description_tooltip")};case e:return{tagTitle:u.Z.t("doc_page.ai_enhanced_tag.title"),popoverCopy:u.Z.t("doc_page.ai_enhanced_tag.title_tooltip")};case n:return{tagTitle:u.Z.t("doc_page.ai_enhanced_tag.description"),popoverCopy:u.Z.t("doc_page.ai_enhanced_tag.description_tooltip")};default:return null}})(),s=()=>o.createElement(qn.Av,{leftIcon:Gn.R1Q,onClick:n,buttonStyle:qn.xw.NONE,className:Yn},r.tagTitle);return o.createElement("div",{className:Jn},o.createElement(Kn.J,{className:Xn,trigger:o.createElement(s,null),position:Kn.k.BOTTOM},o.createElement("div",{className:Qn},r.tagTitle),o.createElement("div",null,r.popoverCopy)))}const tr="_7suEyi",nr="mobile-toolbar-download-button",rr="mobile-toolbar-save-button",or="doc actions",sr="read";const ar=(0,s.$j)((e=>({isDownloadable:e.page.wordDocument.is_downloadable,isLoggedIn:e.user.isLoggedIn})))((function(e){let{isDownloadable:t,isLoggedIn:n}=e;return o.createElement("section",{className:tr},t?o.createElement(o.Fragment,null,o.createElement(yt.Z,{buttonVariant:Z.G_.MOBILE_TOOLBAR,"data-e2e":nr,location:or,page:sr}),o.createElement(St.Z,{"data-e2e":rr,location:"actions_mobile",loggedIn:n,show_text:!1})):o.createElement(St.Z,{buttonVariant:Z.G_.MOBILE_TOOLBAR,loggedIn:n}))})),ir="_2jQ2oE";function lr(){const e=Me({collapsedOnly:!0}),t=(0,s.v9)((e=>e.page.wordDocument.is_downloadable)),n=(0,s.v9)((e=>e.documentViewer.fixed_actions)),r=(0,s.v9)((e=>e.user.isLoggedIn));return n?o.createElement("div",{className:ir,style:{bottom:e}},t?o.createElement(yt.Z,{buttonVariant:Z.G_.FLOATING,"data-e2e":nr,location:or,page:sr}):o.createElement(St.Z,{buttonVariant:Z.G_.FLOATING,loggedIn:r})):null}var cr=n(84125),dr=n(74961);const ur={wrapper:"e6sw05",closeButton:"_1zhT7S",header:"_7ZyDpJ",label:"_25JdV5"};function pr(e){let{onClose:t,className:n,placementName:r,children:s}=e;return o.createElement("div",{className:d()(ur.wrapper,n)},o.createElement("div",{className:ur.header},o.createElement("span",{className:ur.label},u.Z.t("shared.common.ad")),o.createElement(dr.Av,{type:"button",onClick:()=>{(0,i.L9)("ads:ad_dismissed",{placementName:r}),t()},"aria-label":u.Z.t("shared.common.close"),buttonStyle:"monotoneBlack"},o.createElement(Gn.PcV,null))),s)}pr.defaultProps={className:null};var _r=n(73045),hr=n.n(_r);const mr={wrapper:"H_z2i3",closeButton:"_3MBJgC",logo:"_2MAxGx",description:"_22xd1f",title:"_2b9cgh"};function gr(e){let{onClose:t,className:n,onClick:r}=e;(0,o.useEffect)((()=>{(0,i.L9)("ads:upsell_popup_impression")}),[]);return o.createElement("div",{className:d()(mr.wrapper,n)},o.createElement("div",null,o.createElement(dr.Av,{type:"button",className:mr.closeButton,onClick:()=>{(0,i.L9)("ads:upsell_popup_dismissed"),t()},"aria-label":u.Z.t("shared.common.close")},o.createElement(Gn.PcV,null)),o.createElement("img",{src:(0,i.up)(hr()),className:mr.logo,alt:"Scribd",role:"img"}),o.createElement("h2",{className:mr.title},u.Z.t("doc_page.upsell_popup.title")),o.createElement("p",{className:mr.description},u.Z.t("doc_page.upsell_popup.description")),o.createElement(dr.KM,{onClick:()=>{(0,i.L9)("ads:upsell_popup_clicked"),r()},size:dr.Gt.SMALL},u.Z.t("doc_page.blur_promo.subscribe_with_a_free_trial"))))}gr.defaultProps={className:null};const br=(e,t)=>{const n=(0,s.v9)((e=>e.user.isLoggedIn)),r=(0,s.v9)((e=>e.user.isSubscribed)),a=(0,s.v9)((e=>e.user.isUnderDunningLock)),l=(0,s.v9)((e=>e.static.routes.paymentFixUrl)),c=(0,s.v9)((e=>e.static.routes.subscribeUrl)),d=(0,s.v9)((e=>e.page.wordDocument.type)),u=(0,s.I0)(),p=(0,o.useRef)(new i.q_);return()=>{r||(0,i.Ug)(t,{documentType:d}),p.current.setCookie(),a?(0,i.uX)(l):(0,i.tq)()?u((0,dt.zp)({name:Z.V$.APP_PROMO_INTERSTITIAL,afterCloseTrackingArgs:["app_promo_interstitial:close:click"],className:"app_promo_interstitial"})):n?(0,i.uX)(c):u((0,dt.mb)({trackingData:{loc:e,page:"doc"},subscribeUrl:c}))}},fr="_3v9ZT2",vr="IyPi7C",wr="_2MZ-zA";function Er(e){let{stickBelowRecommender:t}=e;const[n,r]=(0,o.useState)(!0),[s,a]=(0,o.useState)(!1),i=br(C.$Q.SCRIBD_BOTTOMRIGHT_MREC,p.vT.DOC_PAGE_PREVIEW_MESSAGE_CONTINUE_FOR_FREE);return o.createElement("div",{className:d()(fr,t&&vr),"data-testid":"bottom-right-mrec"},n&&o.createElement(pr,{placementName:C.$Q.SCRIBD_BOTTOMRIGHT_MREC,onClose:()=>{r(!1),a(!0)}},o.createElement(qt,{className:wr,fallbackImageClassName:Wt.bottomRightMrec,placementName:C.$Q.SCRIBD_BOTTOMRIGHT_MREC})),s&&o.createElement(gr,{onClose:()=>a(!1),onClick:i}))}const yr="_3smCP0";function Sr(){return o.createElement(qt,{className:yr,fallbackImageClassName:Wt.rightRail,placementName:C.$Q.SCRIBD_RIGHTRAIL_ATF})}const Nr="_2goSOb";function Tr(e){let{adIndex:t}=e;return o.createElement("li",{className:Nr},o.createElement(qt,{adIndex:t,placementName:C.$Q.SCRIBD_RIGHTRAIL_BTF,fallbackImageClassName:Wt.rightRail}))}const Dr={author:"_38nure",inMetaDataTest:"_1noHiq",authorLink:"Hv6j2r"};function kr(e){let{author:t,authorUrl:n,brand:r,consumptionTime:s,inMetaDataTest:a,type:i}=e;const l=(i===p.qe.BOOK||i===p.qe.AUDIOBOOK)&&!0===a;return i===p.qe.PODCAST_EPISODE?o.createElement("div",{className:Dr.author},u.Z.t("content_lengths.listening_minutes",{minutes:Math.round(s)})):o.createElement("div",{className:d()(Dr.author,{[Dr.inMetaDataTest]:a}),"data-e2e":"doc-info-author"},!0===l&&n?o.createElement("a",{className:Dr.authorLink,href:n,target:r===p.qp.SCRIBD?"_blank":null},t):t)}kr.defaultProps={brand:null,author:"",authorUrl:"",consumptionTime:0,inMetaDataTest:!1};const Pr={dot:"_2v3DGp",metaData:"_1E-hw3"};function Ar(e){let{isSeries:t,pageCount:n,runTime:r,type:s}=e;const a=function(e){let{isSeries:t,type:n,pageCount:r,runTime:o}=e;switch(n){case p.qe.BOOK:return{type:!0===t?u.Z.t("content_types.ebook_series"):u.Z.t("content_types.ebook"),length:!0===t?"":u.Z.t("doc_page.ratings.page_count",{count:r})};case p.qe.AUDIOBOOK:return{type:!0===t?u.Z.t("content_types.audiobook_series"):u.Z.t("content_types.audiobook"),length:!0===t?"":(0,i.xz)(o)};case p.qe.DOCUMENT:return{type:u.Z.t("content_types.document"),length:u.Z.t("doc_page.ratings.page_count",{count:r})};default:return{type:"",length:""}}}({isSeries:t,pageCount:n,runTime:r,type:s});return o.createElement("div",{className:Pr.metaData,"data-testid":"meta-data"},a.type,""===a.length?null:o.createElement(o.Fragment,null,o.createElement(h.eYK,{className:Pr.dot}),a.length))}Ar.defaultProps={pageCount:0,runTime:0};const Cr={icon:"QEVmJ8",rating:"_16H48L",ratingLabel:"_1c33kx",ratingStars:"_3FghFh"};function Ir(e){let{ratings:t,type:n}=e;const{count:r,rating:s,up_count:a}=t;if(r<=0)return o.createElement("div",{className:Cr.rating},u.Z.t("doc_page.ratings.no_ratings_yet"));if(n===p.qe.DOCUMENT){const e=`${Math.round(a/r*100)}% (${r})`;return o.createElement("div",{className:Cr.rating},o.createElement(pt.JO,{className:Cr.icon,icon:"thumbsup_outline_small"}),e)}{const e=`${s}/5 (${r})`;return o.createElement("div",{className:Cr.rating},o.createElement(pt.u,{className:Cr.ratingStars,rating:s}),o.createElement("div",{className:Cr.ratingLabel},e))}}function Or(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Lr(){return Lr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Lr.apply(this,arguments)}const Rr=[p.qe.AUDIOBOOK,p.qe.PODCAST,p.qe.PODCAST_EPISODE],xr={get[p.qe.DOCUMENT](){return`PDF ${u.Z.t("receipt.download.document")}`},get[p.qe.BOOK](){return u.Z.t("doc_page.recommender_list.book")},get[p.qe.AUDIOBOOK](){return u.Z.t("doc_page.recommender_list.audiobook")}},Mr={style:{opacity:0}};function Br(e){let{imageLoaded:t,isAudioType:n,retinaThumbUrl:r,thumbUrl:s,title:a,type:i}=e;const l=i===p.qe.ARTICLE,c=xr[i]||i,u=d()({thumbnail_img:!l,audio:n,brand:l}),_=t?{src:s,srcSet:`${r} 2x`}:Mr;return o.createElement("img",Lr({},_,{alt:a,"aria-label":c,className:u}))}function Zr(e){let{brand:t,inMetaDataTest:n,isSeries:r,pageCount:s,runTime:a,type:i}=e;return t===p.qp.SCRIBD&&i!==p.qe.DOCUMENT?o.createElement("div",{className:"crossLinkHeading"},o.createElement(Gn.Wa8,null)," ",u.Z.t("everand.shared.cross_link_message")):!0===n?o.createElement(Ar,{isSeries:r,pageCount:s,runTime:a,type:i}):null}function Ur(e){let{brand:t,author:n,authorUrl:r,consumptionTime:s,imageLoaded:a,inMetaDataTest:i,isAudioType:l,isSeries:c,pageCount:u,ratings:p,retinaThumbUrl:_,runTime:h,thumbUrl:m,title:g,type:b}=e;return o.createElement(o.Fragment,null,o.createElement(Br,{imageLoaded:a,isAudioType:l,retinaThumbUrl:_,thumbUrl:m,title:g,type:b}),o.createElement("div",{className:"doc_info"},o.createElement(Zr,{brand:t,inMetaDataTest:i,isSeries:c,pageCount:u,runTime:h,type:b}),o.createElement("div",{className:d()("title",{in_metadata_test:i}),"data-e2e":"doc-info-title"},g),o.createElement(kr,{author:n,authorUrl:r,brand:t,consumptionTime:s,inMetaDataTest:i,type:b}),!0===i?o.createElement(Ir,{type:b,ratings:p}):null))}function Fr(e){let{articleImageUrl:t,articleRetinaImageUrl:n,author:r,brand:s,imageLoaded:a,isAudioType:i,readTimeEstimate:l,retinaThumbUrl:c,thumbUrl:d,title:_,type:h}=e;return o.createElement("div",{className:"doc_info article_layout"},t?o.createElement("img",{alt:"","aria-label":"",className:"thumbnail_img",src:t,srcSet:`${n} 2x`}):null,o.createElement("div",null,o.createElement("div",{className:"top_row"},o.createElement(Br,{imageLoaded:a,isAudioType:i,retinaThumbUrl:c,thumbUrl:d,title:_,type:h}),o.createElement("div",{className:"author"},o.createElement("span",{"data-e2e":"doc-info-author"},r),o.createElement("span",null,l))),s===p.qp.SCRIBD?o.createElement("div",{className:"crossLinkHeading"},o.createElement(Gn.Wa8,null)," ",u.Z.t("everand.shared.cross_link_message")):null,o.createElement("div",{className:"title","data-e2e":"doc-info-title"},_)))}class Vr extends o.Component{constructor(e){super(e),Or(this,"handleOnView",(()=>{const{docUuid:e,handleItemView:t}=this.props;this.setState({imageLoaded:!0}),t(e)})),Or(this,"handleClick",(()=>{const{docUuid:e,handleItemClick:t}=this.props;t(e)})),this.state={imageLoaded:!e.lazyLoad}}get isAudioType(){return Rr.includes(this.props.item.type)}shouldOpenInNewTab(){return!this.props.isSubscriber||this.props.brand===p.qp.SCRIBD&&this.props.item.type!==p.qe.DOCUMENT}render(){const{brand:e,isFullscreen:t,inMetaDataTest:n,isSubscriber:r,loggedIn:s,showDesktopLayout:a,showAds:i}=this.props,{article_image_url:l,article_retina_image_url:c,author:u,author_url:_,consumption_time:h,id:m,is_series:g,page_count:b,read_time_estimate:f,retina_thumb_url:v,run_time:w,static_rating:E,thumb_url:y,title:S,type:N,url:T}=this.props.item,D=N===p.qe.ARTICLE;return o.createElement("li",{className:d()("wrapper__mono_document_list_item",{audio:this.isAudioType,article:D,desktop_layout:a,fullscreen:t,gpt:i,in_metadata_test:n}),"data-e2e":"document-list-item"},o.createElement(pt.jl,{onInView:this.handleOnView,className:d()({view_wrapper:n})},!1===r||!1===n?null:o.createElement(St.Z,{"data-e2e":"document-list-item-save-button",loggedIn:s,showIcon:!0,wordDocument:{id:m,title:S},inMetaDataTest:n}),o.createElement("div",{"data-e2e":"list-item-info",className:d()("list_item_container",{in_metadata_test:n})},o.createElement("a",{"data-e2e":"list-item-link",className:"link",href:T,onClick:this.handleClick,target:this.shouldOpenInNewTab()?"_blank":null},o.createElement("span",{className:"visually_hidden"},S)),o.createElement("div",{className:"thumbnail_and_info"},D?o.createElement(Fr,{articleImageUrl:l,articleRetinaImageUrl:c,author:u,brand:e,imageLoaded:this.state.imageLoaded,isAudioType:this.isAudioType,readTimeEstimate:f,retinaThumbUrl:v,thumbUrl:y,title:S,type:N}):o.createElement(Ur,{author:u,authorUrl:_,brand:e,consumptionTime:h,imageLoaded:this.state.imageLoaded,inMetaDataTest:n,isAudioType:this.isAudioType,isSeries:g,pageCount:b,ratings:E,retinaThumbUrl:v,runTime:w,thumbUrl:y,title:S,type:N})),!0===r&&!1===n?o.createElement(St.Z,{"data-e2e":"document-list-item-save-button",loggedIn:s,showIcon:!0,wordDocument:{id:m,title:S}}):null)))}}Vr.defaultProps={brand:null,inMetaDataTest:!1,isFullscreen:!1,isSubscriber:!1,lazyLoad:!0,showAds:!1,showDesktopLayout:!1};const jr="between_page_portal_root",Hr="outer_page",$r={frequency:1,limit:1/0,offset:0,renderCount:0},Wr=(e,t)=>{const n={...$r,...t};return!(e<n.offset)&&((e-n.offset)%n.frequency===0&&n.renderCount<n.limit)};var zr=n(60985);const qr=(0,zr.P1)([e=>e.ads.isMobilePushdownAdVisible,e=>e.currentPage.isMegamenuPrimaryNavVisible,e=>e.currentPage.isMegamenuTopBarVisible,e=>e.viewport.width,e=>e.user.isDunning,e=>e.ads.videoAdPosition],((e,t,n,r,o,s)=>(e=>{let{isMegamenuPrimaryNavVisible:t,isMegamenuTopBarVisible:n,viewportWidth:r}=e;const o=r>=p.BREAKPOINTS.DS2[p.zf.S],s=o?Z.r4:Z.vI;let a=0;return o&&t&&(a+=s),n&&(a+=s),a})({isMegamenuPrimaryNavVisible:t,isMegamenuTopBarVisible:n,viewportWidth:r})+(e=>{let{isMobilePushdownAdVisible:t,viewportWidth:n}=e;return n>=C.G$||!t?0:50})({isMobilePushdownAdVisible:e,viewportWidth:r})+(e=>{let{isDunning:t}=e;return t?61:0})({isDunning:o})+(e=>{let{videoAdPosition:t}=e;return"undefined"===typeof window?0:t===C.ng.FIXED_TOP?.365*window.innerWidth:0})({videoAdPosition:s})));const Gr={wrapper:"_2nnvC9"},Kr="top",Jr="bottom";function Xr(e){let{children:t,className:n,offset:r,stickySide:a}=e;const i={[a]:("top"===a?(0,s.v9)(qr):Me())+r};return o.createElement("div",{className:d()(Gr.wrapper,n),"data-testid":"sticky-wrapper",style:i},t)}Xr.defaultProps={children:null,offset:0};const Yr="_24qOxU",Qr="_2ad0sf",eo={wrapper:"_1hu5GY",header:"_3TQtVX",label:"_20wRd7"};function to(e){let{adIndex:t}=e;const n=br(C.$Q.SCRIBD_REVOLVING_RIGHTRAIL,p.vT.DOC_PAGE_STATIC_PROMO_READ_FREE);return o.createElement("div",{className:eo.wrapper},o.createElement("div",{className:eo.header},o.createElement("span",{className:eo.label},u.Z.t("shared.common.ad")),o.createElement(dr.Av,{buttonStyle:dr.xw.MONOTONE_BLACK,onClick:n},u.Z.t("doc_page.fallback_ad.read_without_ads"))),o.createElement(qt,{adIndex:t,placementName:C.$Q.SCRIBD_REVOLVING_RIGHTRAIL}))}function no(e){let{className:t,pageWidth:n}=e;const[r,s]=(0,o.useState)(0),a=(0,o.useRef)(null);(0,o.useEffect)((()=>{const e=document.getElementsByClassName(Hr)[0],t=(null===e||void 0===e?void 0:e.offsetHeight)||750,n=a.current.offsetHeight,r=Math.floor(n/(3*t));s(r)}),[n]);const i=Array.from({length:r},((e,t)=>t));return o.createElement("div",{className:d()(t,Yr),ref:a},i.map((e=>o.createElement("div",{className:Qr,key:e},o.createElement(Xr,{offset:20,stickySide:Kr},o.createElement(to,{adIndex:e}))))))}no.defaultProps={className:null};const ro="wrapper__doc_page_shared_recommender_list";function oo(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class so extends o.Component{constructor(e){super(e),oo(this,"renderContentPills",(()=>{const{magazinePath:e,podcastsPath:t,sheetMusicPath:n}=this.props,r=(s={magazinePath:e,podcastsPath:t,sheetMusicPath:n},[{label:u.Z.t("content_types.magazines"),href:s.magazinePath},{label:u.Z.t("content_types.podcasts"),href:s.podcastsPath},{label:u.Z.t("content_types.sheet_music"),href:s.sheetMusicPath}]);var s;return o.createElement("li",{className:"pills",key:"content_pills"},o.createElement(pt.cT,{className:"content_pills",key:"content",items:r}))})),oo(this,"renderRecommenderItems",((e,t)=>{const{brand:n,isFullscreen:r,isLoggedIn:s,inMetaDataTest:a,isSubscriber:i,recommenderDocuments:l,showDesktopLayout:c}=this.props;return e.map((e=>o.createElement(Vr,{brand:n,docUuid:this.recommenderDocUuidLookup[e],handleItemClick:this.handleItemClick,handleItemView:this.handleItemView,showDesktopLayout:c,isFullscreen:r,isSubscriber:i,item:l[e],inMetaDataTest:a,key:e,lazyLoad:!this.showInterleavedAds&&t,loggedIn:s,showAds:this.showInterleavedAds})))})),oo(this,"getAllDocumentListItems",(()=>{const e=!this.props.isBot;return this.renderRecommenderItems(this.props.listRecommenders.ids,e)})),oo(this,"getGroupedDocumentListItems",(()=>{const e=[],t=this.getAllDocumentListItems();let n=[],r=1;for(n=this.props.isBot||this.showFullList?t.slice():t.slice(0,this.state.numRecommendersToRender);n.length>0;)e.push(n.splice(0,3)),!0===this.showInterleavedAds&&n.length&&(e.push(this.renderInterleavedAd(r)),r++);return e})),oo(this,"getPillComponents",(()=>this.props.showDesktopLayout?[]:[this.renderContentPills()])),oo(this,"interleavedRecommendersAndPills",(()=>{const e=this.getPillComponents(),t=this.getGroupedDocumentListItems();return e[0]&&t.splice(1,0,e[0]),e[1]&&t.splice(3,0,e[1]),e[2]&&t.splice(5,0,e[2]),t})),oo(this,"handleShowMoreClick",(()=>{const e=this.state.numRecommendersToRender+10;this.setState({numRecommendersToRender:e})})),oo(this,"renderShowMoreButton",(()=>this.props.isBot||this.showFullList||this.state.numRecommendersToRender>=this.props.listRecommenders.ids.length||this.showRecommenderAds?null:o.createElement(pt.f5,{className:"show_more",onClick:this.handleShowMoreClick},u.Z.t("doc_page.recommender_list.show_more")))),oo(this,"renderSidebarTopAd",(()=>this.showInterleavedAds?o.createElement(Sr,null):null)),oo(this,"renderInterleavedAd",(e=>this.showInterleavedAds?o.createElement(Tr,{key:`ad-${e}`,adIndex:e}):null)),this.state={numRecommendersToRender:12},this.recommenderDocUuidLookup=function(e){const t={};return e.forEach((e=>{const{doc_uuid:n,id:r}=e;t[r]=n})),t}(this.props.listRecommenders.items)}componentDidMount(){const{compilation_id:e,module_id:t,widget_name:n}=this.props.listRecommenders.track_opts;(0,cr.Z0)(e),(0,cr.Bu)(t,n)}componentDidUpdate(e,t){if(t.numRecommendersToRender!==this.state.numRecommendersToRender){const e=document.querySelectorAll('[data-e2e="list-item-info"]')[t.numRecommendersToRender];e&&e.focus()}}get showFullList(){const{isFullscreen:e,showDesktopLayout:t}=this.props;return!!t&&(!e&&!!this.shouldRenderSidebar())}get showBottomRightMrecAd(){const{blurPromoVideoAd:{isDocked:e},isDesktopLeaderboardAdVisible:t}=this.props;return!t&&(!e&&this.shouldShowAds({adLocation:C.KH.LEADERBOARD_AND_SIDEBAR}))}get showInterleavedAds(){return this.shouldShowAds({adLocation:C.KH.SIDEBAR_INTERLEAVED})}get showStickyAds(){return this.shouldShowAds({adLocation:C.KH.SIDEBAR_STICKY})}get showRecommenderAds(){return this.showInterleavedAds||this.showStickyAds}handleItemClick(e){(0,cr.wJ)(e),(0,cr.mF)(e)}handleItemView(e){(0,cr.hQ)(e)}shouldRenderSidebar(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props).pageWidth>=p.BREAKPOINTS.DS1.breakpoint_1024}shouldShowAds(e){let{adLocation:t,props:n=this.props}=e;return ge({adLocation:t,documentId:n.documentId,enableFullDesktopAdsNoVr:n.enableFullDesktopAdsNoVr,isFullscreen:n.isFullscreen,pageWidth:n.pageWidth,testName:n.fastlyDesktopAds.testName,variant:n.fastlyDesktopAds.variant})}render(){const{isFullscreen:e,pageWidth:t,showDesktopLayout:n}=this.props;return o.createElement(o.Fragment,null,o.createElement("div",{className:d()(ro,{desktop_layout:n,fullscreen:e}),"data-e2e":"recommender-list"},this.renderSidebarTopAd(),o.createElement("h2",{className:d()("list_title",{below_gpt:this.showInterleavedAds}),"data-e2e":"list-title"},u.Z.t("doc_page.recommender_list.might_also_like")),o.createElement("ul",{className:d()("list_content_wrapper",{list_end:this.showStickyAds}),"data-e2e":"list-content-wrapper"},this.interleavedRecommendersAndPills()),this.renderShowMoreButton()),this.showBottomRightMrecAd?o.createElement(Er,{stickBelowRecommender:this.showStickyAds}):null,this.showStickyAds?o.createElement(no,{className:d()(ro,{desktop_layout:n,fullscreen:e}),pageWidth:t}):null)}}so.defaultProps={adsDisabled:!1,blurPromoVideoAd:{},brand:null,documentId:null,enableFullDesktopAdsNoVr:!1,fastlyDesktopAds:{testName:null,variant:null},isBot:!1,isDesktopLeaderboardAdVisible:!1,isFullscreen:!1,isLoggedIn:!1,isSubscriber:!1,pageWidth:1200,showDesktopLayout:!1};const ao=(0,s.$j)((e=>{const t=(0,Ft.Z)(e.user.isMobile,e.viewport.width);return{adsDisabled:e.bodyProps.document.ads_disabled,blurPromoVideoAd:e.blurPromoVideoAd,brand:e.static.config.brand,documentId:e.page.wordDocument.id,enableFullDesktopAdsNoVr:e.global.features.enableFullDesktopAdsNoVr,fastlyDesktopAds:e.global.testAssignments.fastlyDesktopAds,inMetaDataTest:e.recommenders.inMetaDataTest,isBot:e.user.isBot,isDesktopLeaderboardAdVisible:e.ads.isDesktopLeaderboardAdVisible,isFullscreen:e.viewport.isFullscreen,isLoggedIn:e.user.isLoggedIn,isSubscriber:e.user.isSubscriber,listRecommenders:e.recommenders.list_recommenders,magazinePath:e.static.routes.magazinesPath,pageWidth:e.viewport.width,podcastsPath:e.static.routes.podcastsPath,recommenderDocuments:e.recommenders.documents,sheetMusicPath:e.static.routes.sheetMusicPath,showDesktopLayout:t}}))(so);function io(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class lo extends o.Component{constructor(e){super(e),io(this,"handleBlessedResponse",(e=>{this.setState({blessed:!this.state.blessed},(()=>{const t=this.state.blessed?"This document has been blessed":"This document has been doomed";this.handleResponse(t,e)}))})),io(this,"handleResponse",((e,t)=>{if(t)return this.props.handleError();this.props.handleSuccess(e)})),io(this,"handleToggle",(()=>{this.setState({open:!this.state.open})})),io(this,"handleDelete",(e=>{e.preventDefault(),window.confirm("WARNING! Are you sure you want to delete this document?")&&Ge.Z.post({url:this.props.delete_path},this.handleResponse.bind(this,"Document deleted"))})),io(this,"handleBless",(e=>{e.preventDefault(),Ge.Z.put({url:this.props.bless_path,body:{enabled:this.state.blessed?"0":"1"}},this.handleBlessedResponse)})),io(this,"handleInfringe",(e=>{e.preventDefault(),window.confirm("WARNING! Are you sure you want to mark this document as infringing?")&&Ge.Z.post({url:this.props.infringe_path},this.handleResponse.bind(this,"Document marked as infringing"))})),this.state={open:!1,blessed:e.blessed}}renderTasks(){if(this.state.open)return o.createElement("ul",{className:"actions"},o.createElement(co,{href:this.props.edit_path,text:"Edit"}),o.createElement(co,{onClick:this.handleDelete,text:"Delete"}),o.createElement(co,{href:this.props.reconvert_path,text:"Reconvert"}),o.createElement(co,{onClick:this.handleBless,text:this.state.blessed?"Unbless":"Bless"}),o.createElement(co,{onClick:this.handleInfringe,text:"Infringe"}),o.createElement(co,{href:this.props.admin_document_path,text:"Admin page for this doc"}))}render(){return this.props.isAdmin?o.createElement("div",{className:"auto__doc_page_body_admin_panel"},o.createElement("h3",null,o.createElement("a",{className:"arrow",onClick:this.handleToggle},this.state.open?o.createElement(pt.JO,{icon:"dropdown_alt"}):o.createElement(pt.JO,{icon:"right_caret_alt"})),"Admin"),this.renderTasks()):null}}io(lo,"defaultProps",{flashes:[],isAdmin:!1});const co=e=>{let{href:t,onClick:n,text:r}=e;return o.createElement("li",{onClick:n},o.createElement("a",{href:t||"#"},r))},uo=(0,s.$j)((e=>{const t=e.bodyProps.admin_panel_props,n=e.user.isAdmin;return Object.assign({},t,{isAdmin:n})}),(e=>({handleError:()=>{e((0,$e.W6)({children:"An error occurred please try again",type:"error"}))},handleSuccess:t=>{e((0,$e.W6)({children:t,type:"success"}))}})))(lo);var po=n(98874),_o=n.n(po),ho=n(25291),mo=n.n(ho),go=n(32696),bo=n.n(go);function fo(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const vo=()=>n.e(885).then(n.bind(n,21885)),wo=()=>n.e(122).then(n.bind(n,31122)),Eo=()=>n.e(236).then(n.bind(n,11236));class yo extends o.Component{constructor(e){super(e),fo(this,"props_note_indicator",(e=>Promise.resolve({page:e}))),fo(this,"props_note_popover",(()=>{const{working_note:e,x:t,y:n,selected_note_group:r,active_page:o,notes:s,note_groups:a}=this.props;let i;return i=e?{page:o,x:t,y:n}:{page:o,y:a[r].top,x:500,selected_note_group:r,notes:s,note_group:a[r]},Promise.resolve(i)})),fo(this,"props_annotation_popover",(()=>Promise.resolve({}))),fo(this,"render_note_indicators",(()=>{let e=[];for(let t in this.props.note_groups_by_page)0!==this.props.note_groups_by_page[t].length&&(this.loadedNotes[t]=!0,e.push(o.createElement(Hn,{key:t,component_loader:wo,props_loader:this.props_note_indicator.bind(this,t),hide_placeholder:!0})));return o.createElement(o.Fragment,null,e)})),fo(this,"render_popover",(()=>{const{selected:e,currently_selecting:t,working_note:n,selected_note_group:r}=this.props;let s;return(0,i.tq)()||!n&&null===r?t||null===e||(s=o.createElement(Hn,{key:"annotation_popover",component_loader:vo,props_loader:this.props_annotation_popover,hide_placeholder:!0})):s=o.createElement(Hn,{key:"note_popover",component_loader:Eo,props_loader:this.props_note_popover,hide_placeholder:!0}),s})),fo(this,"render",(()=>this.props.loading?null:o.createElement(it.Z,null,this.render_popover(),this.render_note_indicators()))),this.loadedNotes={1:!0,2:!0,3:!0}}componentDidUpdate(e){e.currentPage===this.props.currentPage||this.loadedNotes[this.props.currentPage]||(this.props.load_annotations_for_page(this.props.currentPage),this.loadedNotes[this.props.currentPage]=!0,this.forceUpdate())}}var So=n(97565);const No=(0,s.$j)((e=>{const{selected:t,currently_selecting:n,working:r,working_note:o,x:s,y:a,selected_note_group:i,annotations:l,notes:c,note_by_page:d,note_groups:u,note_groups_by_page:p,loading:_}=e.annotations;let h;return o?h=-1===t?r.page:l[t].page:null!==i&&(h=u[i].page),{active_page:h,currently_selecting:n,loading:_,note_by_page:d,note_groups_by_page:p,note_groups:u,notes:c,selected_note_group:i,selected:t,working_note:o,x:s,y:a,currentPage:e.documentViewer.current_page}}),(e=>({load_annotations_for_page:t=>e((0,So.pA)(t))})))(yo),To=(e,t,n,r)=>{let o=document.querySelector(`#outer_page_${e} .absimg`);o&&(()=>{if(window.Scribd&&window.Scribd.ServerOptions&&void 0!==window.Scribd.ServerOptions.largest_contentful_paint){let e=window.Scribd.ServerOptions.largest_contentful_paint/100;return Math.random()<e}return!1})()&&(o.onload=e=>{let o={largest_contentful_paint:e.timeStamp};(0,i.yL)(t,n,r,null,o)})},Do="_1eoX43",ko="float";const Po={updateVideoAdPosition:Jt.CX},Ao=(0,s.$j)((e=>({country:e.user.country})),Po)((function(e){let{updateVideoAdPosition:t}=e;const n=e=>{t(e)};return o.createElement(xe,{className:Do,onPlayerInstanceReady:function(e){e.scribdFloatListener((e=>{n(e===ko?C.ng.FIXED_BOTTOM_RIGHT:C.ng.INLINE)})),e.on("closeButtonClicked",(()=>{n(C.ng.INLINE)}))},placementConfig:C.H0.BETWEEN_PAGES_DESKTOP})})),Co={wrapper:"_2wxvJe"};function Io(e){let{adId:t,stickyContainerRef:n}=e;const[r,s]=(0,o.useState)(100);return(0,o.useEffect)((()=>{const e=tt()((()=>{var e,r;const o=null===(e=document.getElementById(t))||void 0===e?void 0:e.getBoundingClientRect(),a=null===n||void 0===n||null===(r=n.current)||void 0===r?void 0:r.getBoundingClientRect();if(!o||!a)return null;const i=a.height-o.height,l=(a.bottom-o.bottom)/i;s(100*l)}),50);return document.addEventListener("scroll",e),()=>document.removeEventListener("scroll",e)}),[]),o.createElement("div",{className:Co.wrapper,"data-testid":"progress-bar",style:{height:`${r}%`}})}const Oo="_1-acQA",Lo="_1nWn7s",Ro="_3LupW1",xo="Uwoxvn",Mo="_2hga2B",Bo="_1N6_X-";function Zo(){return Zo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Zo.apply(this,arguments)}const Uo=(0,w.z)(["large","small"]),Fo={[Uo.LARGE]:{className:xo,placementName:C.$Q.SCRIBD_INCONTENT_2,stickyWrapperProps:{offset:0,stickySide:Jr}},[Uo.SMALL]:{className:Ro,placementName:C.$Q.SCRIBD_INCONTENT_1,stickyWrapperProps:{offset:24,stickySide:Kr}}};function Vo(e){let{adIndex:t}=e;const n=(0,o.useRef)(null);if((0,s.v9)((e=>e.viewport.width))>=C.G$)return o.createElement(qt,{adIndex:t,className:d()(Oo,Lo),fallbackImageClassName:Wt.incontent,placementName:C.$Q.SCRIBD_INCONTENT_1});const r=(t+1)%8===0?Uo.LARGE:Uo.SMALL,{className:a,placementName:i,stickyWrapperProps:l}=Fo[r];return o.createElement("div",{className:d()(Oo,a),ref:n},o.createElement(Xr,Zo({},l,{className:Mo}),o.createElement(Io,{adId:O({adIndex:t,placementName:i}),stickyContainerRef:n}),o.createElement(qt,{adIndex:t,className:Bo,fallbackImageClassName:Wt.incontent,placementName:i})))}const jo="_1tCCJG";function Ho(e){let{eventTrackingName:t,openAppPromoInterstitial:n,openJoinModal:r,trackingLocation:a}=e;const{isLoggedIn:l,isUnderDunningLock:c}=(0,s.v9)((e=>e.user)),{archivePlansUrl:d,paymentFixUrl:p}=(0,s.v9)((e=>e.static.routes));return o.createElement(dr.Av,{buttonStyle:dr.xw.MONOTONE_BLACK,className:jo,onClick:()=>{var e;(0,i.L9)(t),c?(0,i.uX)(p):(0,i.tq)()?n():(e=d,l?(0,i.uX)(e):r({nextUrl:e,trackingLocation:a}))},type:dr.Dx.BUTTON},u.Z.t("doc_page.fallback_ad.read_without_ads"))}Ho.defaultProps={trackingLocation:null};const $o=(0,s.$j)(null,(e=>({openAppPromoInterstitial:()=>{e((0,dt.zp)({name:Z.V$.APP_PROMO_INTERSTITIAL,afterCloseTrackingArgs:["app_promo_interstitial:close:click"],className:"app_promo_interstitial"}))},openJoinModal:function(){let{nextUrl:t,trackingLocation:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e((0,dt.mb)({trackingData:{loc:n,page:"doc"},nextUrl:t}))}})))(Ho),Wo="_3-DgXR",zo="Upj6IF",qo="_2_O8da",Go="_1k_Dtu";function Ko(e){let{adIndex:t}=e;return o.createElement("div",{className:Wo},o.createElement("div",{className:Go},o.createElement("span",{className:qo},u.Z.t("shared.common.ad")),o.createElement($o,{eventTrackingName:"doc_page.incontent_leaderboard_ad_upsell_link:click",trackingLocation:C.$Q.SCRIBD_INCONTENT_NEW})),o.createElement(qt,{adIndex:t,className:zo,fallbackImageClassName:Wt.incontentLeaderboard,placementName:C.$Q.SCRIBD_INCONTENT_NEW}))}var Jo=n(25658),Xo=n.n(Jo);function Yo(e){let{eligibleForFreeTrial:t,handleJoinButtonClick:n,index:r,registerTracking:s,subscribeUrl:a,trialDuration:l}=e;const c=(0,o.useMemo)((()=>(0,i.hQ)("ArchivedUpsell")),[]);return(0,o.useEffect)((()=>{s({id:c,message:"ArchivedUpsell:view",extraData:{index:r}})}),[c,r]),o.createElement("div",{id:c,className:"auto__doc_page_app_page_archive_upsell"},o.createElement("div",{className:"inner_content"},o.createElement("div",{className:"header"},o.createElement("img",{src:(0,i.up)(Xo()),alt:"Scribd",role:"img"}),o.createElement("div",{className:"tagline"},o.createElement("em",null,u.Z.t("webpack.doc_page.src.App.Page.explain_scribd_test_copy.trusted_by_over_1_million_members"))),o.createElement("div",{className:"bottom_line","aria-hidden":"true"})),l?o.createElement("p",{className:"body_text",dangerouslySetInnerHTML:{__html:u.Z.t("doc_page.between_page_upsell.trial_duration.try_scribd_strong_free_for",{trialDuration:l})}}):o.createElement("div",{className:"body_text"}),o.createElement(_.KM,{className:"interstitial_button",href:a,onClick:function(e){e.preventDefault(),(0,i.L9)(`between_page_upsell:${r}:click`),n(a)}},t?u.Z.t("webpack.doc_page.src.App.Page.BetweenPageUpsell.BetweenPageUpsell.start_free_trial"):u.Z.t("account_settings.show.restart_membership")),o.createElement("p",{className:"cancel_text"},u.Z.t("webpack.doc_page.src.App.Page.BetweenPageUpsell.BetweenPageUpsell.cancel_anytime"))))}Yo.defaultProps={trialDuration:30};var Qo=n(1475);const es=(0,s.$j)((e=>({eligibleForFreeTrial:e.user.isEligibleForFreeTrial,subscribeUrl:e.static.routes.subscribeUrl,trialDuration:e.personalization.trialDuration})),(e=>({handleJoinButtonClick:t=>{e((0,dt.Pl)({trackingData:{loc:"ArchivedUpsell",page:"doc"},nextUrl:t}))},registerTracking:t=>{e((0,Qo.L0)(t))}})))(Yo);var ts=n(15249),ns=n(67036),rs=n(5827);const os="__CJ_user_ratings_closed";function ss(e){if("undefined"===typeof window)return!1;const t=(0,i.ej)(os);return!(!t||!JSON.parse(t)[e])}function as(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class is extends o.PureComponent{constructor(e){super(e),as(this,"handleClose",(e=>{const{handleClosedRating:t,id:n}=this.props;e.preventDefault(),function(e){const t=Object.assign({},JSON.parse((0,i.ej)(os)));t[e]=!0,(0,i.d8)(os,t,1)}(n),t()})),this.id=(0,i.hQ)("UserRating")}componentDidMount(){const{index:e,registerTracking:t}=this.props;t({id:this.id,message:"UserRating:view",extraData:{index:e}})}componentWillUnmount(){this.props.unregisterTracking(this.id)}renderTitle(){const e=u.Z.t("webpack.doc_page.src.App.Page.BetweenPageUserRating.BetweenPageUserRating.improve_your_experience");return o.createElement("div",{className:"title"},e)}renderCloseButton(){return o.createElement("a",{href:"#",className:"close_btn icon_btn",onClick:this.handleClose},o.createElement("span",{className:"icon-ic_close","aria-hidden":"true"},o.createElement(pt.TX,null,u.Z.t("webpack.doc_page.src.App.Page.BetweenPageUserRating.BetweenPageUserRating.dismiss_user_rating_prompt"))))}renderSubtitle(){const e=u.Z.t("webpack.doc_page.src.App.Page.BetweenPageUserRating.BetweenPageUserRating.rating_will_help_us_to_suggest");return o.createElement("div",{className:"subtitle"},e)}renderButtons(){const{toastSuccess:e}=this.props;return o.createElement("div",{className:"buttons_container"},o.createElement(ns.Z,{buttonComponent:pt.f5,className:"rating_btn",location:rs.L.BETWEEN_PAGES_BANNER,onUpvote:e,showCount:!1},o.createElement("span",{className:"vote_label"},u.Z.t("pdfs.upvote.useful"))),o.createElement(ts.Z,{buttonComponent:pt.f5,className:"rating_btn",location:rs.L.BETWEEN_PAGES_BANNER,onDownvote:e,showCount:!1},o.createElement("span",{className:"vote_label"},u.Z.t("pdfs.upvote.not_useful"))))}render(){if(!this.props.closedRating)return o.createElement("div",{id:this.id,className:"auto__doc_page_webpack_doc_page_between_page_user_rating"},o.createElement("div",{className:"user_rating_prompt flex_row"},this.renderCloseButton(),o.createElement("div",{className:"triangle"}),o.createElement("div",{className:"left_side"},this.renderTitle(),this.renderSubtitle(),this.renderButtons()),o.createElement("div",{className:"image"})))}}var ls=n(56047);const cs=(0,s.$j)((e=>({id:e.page.wordDocument.id})),(e=>({toastSuccess:()=>{e((0,ls.Z)({content:u.Z.t("webpack.doc_page.src.App.Page.Body.Document.mappings.thank_you_for_your_rating"),type:"success"}))},unregisterTracking:t=>{e((0,Qo.GX)(t))},registerTracking:t=>{e((0,Qo.L0)(t))}})))(is);function ds(){return ds=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ds.apply(this,arguments)}function us(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const ps=2,{UNITED_STATES:_s,UNITED_KINGDOM:hs,CANADA:ms,AUSTRALIA:gs}=p.COUNTRIES,bs=[_s,hs,ms,gs],fs=(e,t)=>e.frequency-t.frequency,vs=(e,t)=>e.renderCount===t.renderCount?e.index<t.index?-1:1:e.renderCount<t.renderCount?-1:1,ws=e=>{let{isMobile:t,currentUserCountry:n}=e;return t&&!bs.includes(n)?1:ps};class Es extends o.PureComponent{constructor(e){super(e),us(this,"handleClosedRating",(()=>{this.setState({closedRating:!0})})),this.state={closedRating:ss(e.documentId)}}componentDidMount(){window.docManager._updatePageBoundingRects()}componentDidUpdate(){window.docManager._updatePageBoundingRects()}get showIncontentAds(){const{documentId:e,enableFullDesktopAdsNoVr:t,fastlyDesktopAds:{testName:n,variant:r},isEligibleForMobileAds:o}=this.props;return ge({adLocation:C.KH.INCONTENT,documentId:e,enableFullDesktopAdsNoVr:t,isEligibleForMobileAds:o,testName:n,variant:r})}priorityConfig(){const{archived:e,eligibleForFreeTrial:t,isMobile:n,pageCount:r,pageWidth:o,rating:s,subscriber:a,viewRestrictedArchive:l}=this.props;return[{Component:Ao,shouldShow:()=>this.showIncontentAds&&!n,frequency:1,limit:1},{Component:Vo,shouldShow:()=>this.showIncontentAds,frequency:ws(this.props)},{Component:Ko,shouldShow:()=>C.aI.includes(this.props.fastlyDesktopAds.variant),frequency:ps,offset:1},{Component:cs,shouldShow:()=>!this.showIncontentAds&&!s&&!this.state.closedRating&&o<=i.AV.breakpoint_450,props:()=>({closedRating:this.state.closedRating,handleClosedRating:this.handleClosedRating}),frequency:r<10?5:10,offset:5},{Component:es,shouldShow:()=>e&&!l&&!a&&t,limit:this.showIncontentAds?3:1/0,frequency:r<10?5:10,offset:5}].map((function(e,t){return e.index=t,e.renderCount=0,e}))}slotInsertNodes(){const e=Array.from(document.getElementsByClassName(Hr));if(1===e.length){return[document.getElementsByClassName("after_doc_wrapper")[0]]}return e.slice(1)}availableSlots(){let e=Array.from(document.getElementsByClassName(jr))||[];if(e.length)return e;const t=this.slotInsertNodes();return t.forEach((n=>{if(!n)return;const r=document.createElement("div");r.className=jr,1===t.length&&r.classList.add("single_page"),n.classList.contains("page_missing_explanation")&&(n.style.marginTop="10px"),n.parentNode.insertBefore(r,n),e.push(r)})),e}qualifyingExperiences(){return this.priorityConfig().filter((e=>e.shouldShow()))}render(){if(this.props.asyncDataStatus===We.JF.LOADING)return null;let e=this.qualifyingExperiences();if(!e.length)return null;let t=[];const n=this.availableSlots();if(!e.length)return t;e.sort(fs);for(let r=0;r<n.length;r++){let s;e.sort(vs);for(let t of e)if(Wr(r,t)){s=t;break}if(s){const{Component:e}=s,a="function"===typeof s.props?s.props():{};e!==Vo&&e!==Ko||(a.adIndex=s.renderCount),s.renderCount+=1;const i=o.createElement(o.Fragment,null,o.createElement("hr",{className:"separator"}),o.createElement(e,ds({},a,{index:r,key:r})),o.createElement("hr",{className:"separator"})),c=n[r];t.push((0,l.createPortal)(i,c))}}return t}}Es.defaultProps={currentUserCountry:null,enableFullDesktopAdsNoVr:!1,fastlyDesktopAds:{testName:null,variant:null},isEligibleForMobileAds:!1,isMobile:!1};const ys=(0,s.$j)((e=>{const{enableFullDesktopAdsNoVr:t,isEligibleForMobileAds:n}=e.global.features,{fastlyDesktopAds:r,personalized_archive_offer:o}=e.global.testAssignments,{asyncDataStatus:s}=e.global.personalization,{id:a,archived:i,is_view_restricted_archive:l,page_count:c}=e.page.wordDocument,{user:d}=e,{userRating:u}=e.ratings[a];return{archived:i,asyncDataStatus:s,currentUserCountry:d.country,documentId:a,eligibleForFreeTrial:d.isEligibleForFreeTrial,isEligibleForMobileAds:n,enableFullDesktopAdsNoVr:t,fastlyDesktopAds:r,isMobile:d.isMobile,pageCount:c,pageWidth:e.viewport.width,personalizedArchiveOfferBucket:o,rating:u,subscriber:d.isSubscriber,viewRestrictedArchive:l}}))(Es);function Ss(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class Ns extends o.Component{constructor(e){super(e),Ss(this,"handleButtonClick",(e=>{e.preventDefault();const{documentType:t,eligibleForFreeTrial:n,handleClick:r,paymentFixUrl:o,isSubscriber:s,isUnderDunningLock:a,wordDocument:{id:l,title:c}}=this.props;s||(0,i.Ug)(p.vT.DOC_PAGE_PREVIEW_MESSAGE_CONTINUE_FOR_FREE,{documentType:t,eligibleForFreeTrial:n,id:l,title:c}),(0,i.L9)("doc_page.preview_message_interstitial_cta:click",{documentType:t,eligibleForFreeTrial:n,id:l,title:c,...(0,i.cd)()}),this.promoCookieManager.setCookie(),r(a,o)})),this.portalsCreated=!1,this.promoCookieManager=new i.q_,this.state={mounted:!1}}componentDidMount(){this.setState({mounted:!0})}shouldComponentUpdate(e){return e.trialDuration!==this.props.trialDuration||!this.portalsCreated}renderCta(){const e=this.props.eligibleForFreeTrial?u.Z.t("webpack.doc_page.src.App.Page.BetweenPageInterstitial.BetweenPageInterstitial.continue_for_free"):u.Z.t("account_settings.show.restart_membership");return o.createElement(pt.Av,{onClick:this.handleButtonClick},e)}getCaptionCopy(){return u.Z.t("webpack.doc_page.src.App.Page.BetweenPageInterstitial.BetweenPageInterstitial.you_re_reading_a_preview")}getTitleCopy(e,t){const{eligibleForFreeTrial:n,personalizedArchiveOfferBucket:r,trialDuration:o}=this.props;return He.Z.isSubscribeOnly(r)?u.Z.t("doc_page.between_page_interstitial.title_copy_subscribe_only_trial_duration",{endPage:t,startPage:e,trialDuration:o}):e===t?u.Z.t("doc_page.between_page_interstitial.unlock_full_access.page_number_trial_duration",{props_currentrange:t,trialDuration:o}):n?u.Z.t("shared.trial_duration.upload_for_free_days",{endPage:t,startPage:e,trialDuration:o}):u.Z.t("doc_page.between_page_interstitial.upload_or_subscribe_pages",{startPage:e,endPage:t})}getAllPreviewMessageSlots(){return Array.from(document.getElementsByClassName("page_missing_explanation_inner"))}getSlotPageRange(e){const t=e.getElementsByClassName("missing_page_number");if(0===t.length)return;const n=Number(t[0].innerHTML);let r=n;return t.length>1&&(r=Number(t[1].innerHTML)),{startPage:n,endPage:r}}removeOldPreviewBanner(e){e.removeChild(e.getElementsByClassName("page_missing_explanation_inner")[0])}addNewPreviewBannerClassnameToParentElement(e){e.classList.add("auto__doc_page_webpack_doc_page_preview_message")}createPreviewBannerInPortal(e,t,n,r){const s=o.createElement("div",{className:"content_wrapper",key:n},o.createElement("h2",{className:"header"},o.createElement("span",{className:"caption"},this.getCaptionCopy(),o.createElement(pt.JO,{icon:"private"})),o.createElement("span",{className:"title"},this.getTitleCopy(e,t))),this.renderCta());return(0,l.createPortal)(s,r)}createPreviewMessageBanners(){const e=[];return this.getAllPreviewMessageSlots().forEach(((t,n)=>{const{startPage:r,endPage:o}=this.getSlotPageRange(t),s=t.parentElement;this.removeOldPreviewBanner(s),this.addNewPreviewBannerClassnameToParentElement(s);const a=this.createPreviewBannerInPortal(r,o,n,s);e.push(a)})),this.portalsCreated=!0,e}render(){return this.state.mounted&&this.props.trialDuration?o.createElement(it.Z,null,this.createPreviewMessageBanners()):null}}const Ts=(0,s.$j)((e=>({documentType:e.page.wordDocument.type,eligibleForFreeTrial:e.user.isEligibleForFreeTrial,isSubscriber:e.user.isSubscriber,isUnderDunningLock:e.user.isUnderDunningLock,paymentFixUrl:e.global.paths.actions.payment_fix,personalizedArchiveOfferBucket:e.global.testAssignments.personalized_archive_offer,showArchivePaywall:e.page.wordDocument.show_archive_paywall,trialDuration:e.personalization.trialDuration,wordDocument:e.page.wordDocument})),((e,t)=>({handleClick:()=>{const{paymentFixUrl:n,isUnderDunningLock:r}=t;r&&n?window.location=n:e((0,dt.MH)("doc","between_page"))}})))(Ns);function Ds(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class ks extends o.PureComponent{constructor(e){super(e),Ds(this,"handleScroll",(()=>{const{trackingData:e,unregisterTracking:t}=this.props;Object.keys(e).forEach((n=>{const r=document.getElementById(n);if(r&&(0,i.jF)(r)){const{message:r,extraData:o}=e[n];(0,i.L9)(r,o),t(n)}}))})),this.throttledScrollHandler=tt()(this.handleScroll,100)}componentDidMount(){window.addEventListener("scroll",this.throttledScrollHandler)}componentWillUnmount(){window.removeEventListener("scroll",this.throttledScrollHandler)}render(){return o.createElement(o.Fragment,null,o.createElement(ys,null),o.createElement(Ts,null))}}const Ps=(0,s.$j)((e=>({trackingData:e.pdfPortalsTracking.betweenPages})),(e=>({unregisterTracking:t=>{e((0,Qo.GX)(t))}})))(ks);function As(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Cs=1254;class Is extends o.Component{constructor(e){super(e),As(this,"handlePagesChanged",(e=>{Object.keys(e).forEach((t=>{let n=e[t];if(this.seenPages[n.pageNum])return;const{pageCount:r}=this.props;this.seenPages[n.pageNum]=!0,setTimeout((()=>this.seenPages[n.pageNum]=!1),500),(0,i.L9)("doc:page:show",{page:n.pageNum,of:r})}))})),As(this,"handlePageLoad",(e=>{e.id===Xe.$l&&To(1,g,this.props.user.isLoggedIn,this.props.isBot)})),As(this,"handleScroll",(()=>{window.dispatchEvent(new(bo())("scroll:document")),this.ensurePagesLoad()})),As(this,"handleLinkClick",(e=>{"A"===e.target.nodeName&&e.target.href&&(e.target.href.includes("scribd.com")||(0,i.L9)("doc:hyperlink:click",{url:e.target.href,pageNum:this.props.currentPage}))})),this.state={showUploadBanner:!1},this.container=o.createRef(),this.handleScroll=tt()(this.handleScroll,50),this.seenPages={},this.setupDocument=mo()(this.setupDocument)}componentDidMount(){this.setupDocument(),window.addEventListener("scroll",this.handleScroll),He.Z.isUploadOrSubscribe(this.props.personalizedArchiveOfferBucket)&&this.setState({showUploadBanner:!0})}componentWillUnmount(){window.removeEventListener("scroll",this.handleScroll)}componentDidUpdate(e){const{pageWidth:t,isFullscreen:n,showDesktopLayout:r}=this.props;e.pageWidth===t&&e.isFullscreen===n||(e.isFullscreen&&r?_o()((()=>{this.updatePageWidth()})):this.updatePageWidth())}ensurePagesLoad(){window.docManager._currentViewManager._verticalPositionChangeCallback()}getPageWidth(e){const{isFullscreen:t,showDesktopLayout:n}=this.props;let r=0;return n&&!t&&(r=4),Math.min(e,this.container.current.offsetWidth)-r}setupDocument(){if(0===this.content_ref.childElementCount){let e=document.getElementsByClassName("outer_page_container")[0];this.content_ref.appendChild(e)}DocumentManager.scrollParent=window,window.docManager.disableRestorePosition(),this.updatePageWidth(),window.docManager.observeImages(document.querySelector(".document_scroller")),window.docManager._currentViewManager.checkAndUpdateVisiblePages(),this.setupEvents(),window.docManager.addEvent("pageLoaded",this.handlePageLoad),st.ZP.setup_canvases()}setupEvents(){window.docManager.addEvent("visiblePagesChanged",this.handlePagesChanged),window.docManager.addEvent("pageView",(e=>(0,i.L9)("fourgen.viewchange",e)))}updatePageWidth(){if("undefined"===typeof window.docManager)return;const e=this.props.isFullscreen?1300:Cs,t=this.getPageWidth(e);this.props.updateDocumentWidth(t),window.docManager.setPageWidths(t)}renderUploadBanner(){if(this.state.showUploadBanner&&this.props.viewRestrictedArchive)return o.createElement(nn,{type:"notice",className:"banner",user_dismiss:!1},u.Z.t("doc_page.upload_banner.copy",{count:He.Z.requiredUploads()}))}injectDefaultViewWidthScript(){const{showDesktopLayout:e}=this.props;let t="width";e&&(t="width - 4");const n=`\n      var container = document.getElementById('${Xe.QA}');\n      var width = container ? Math.min(1254, container.offsetWidth) : 1254;\n      window.defaultViewWidth = ${t};\n      window.docManager.setPageWidths(${t});\n    `;return o.createElement("script",{dangerouslySetInnerHTML:{__html:n}})}render(){let e={paddingTop:this.props.isFullscreen?"75px":"0px",position:"relative",zIndex:20};return o.createElement(o.Fragment,null,o.createElement("main",{className:d()(Xe.fX,"document_scroller carousel_scroll_parent",{hideOnPrint:!this.props.user.isLoggedIn||!this.props.user.isSubscriber}),ref:this.container,id:Xe.QA},this.renderUploadBanner(),o.createElement(it.Z,null,this.injectDefaultViewWidthScript(),o.createElement("div",{className:"document_container","data-e2e":"document_container",ref:e=>this.content_ref=e,style:e,suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:""},onClick:this.handleLinkClick})),o.createElement(it.Z,null,this.props.children)),o.createElement(No,null),o.createElement(Ps,null))}}Is.defaultProps={showDesktopLayout:!1};const Os=(0,s.$j)((e=>{const t=(0,Ft.Z)(e.user.isMobile,e.viewport.width);return{currentPage:e.documentViewer.current_page,isBot:e.user.isBot,isFullscreen:e.viewport.isFullscreen,pageCount:e.page.wordDocument.page_count,showFullDoc:e.page.wordDocument.showFullDoc,pageWidth:e.viewport.width,personalizedArchiveOfferBucket:e.global.testAssignments.personalized_archive_offer,showDesktopLayout:t,user:e.user,viewRestrictedArchive:e.bodyProps.document.is_view_restricted_archive}}),(e=>({updateDocumentWidth:t=>{e((0,At.c6)(t))}})))(Is);var Ls=n(34831);function Rs(e){if("undefined"===typeof window)return i.ZT;if(!window.ResizeObserver)return i.ZT;const t=(0,o.useRef)(null),n=(0,o.useRef)(null);function r(){t.current&&t.current.disconnect(),t.current=null}function s(o){r(),t.current=new ResizeObserver((t=>{for(const r of t){var n;e(null===r||void 0===r||null===(n=r.target)||void 0===n?void 0:n.getBoundingClientRect())}})),t.current.observe(o,{box:"border-box"}),n.current=o}return(0,o.useEffect)((()=>{n.current&&(r(),s(n.current))}),[e]),(0,o.useEffect)((()=>r),[]),s}function xs(e){let{onAdSize:t}=e;const[n,r]=(0,o.useState)(0),s=(0,o.useCallback)((e=>{e&&(t(e),r(e.height))}),[t,r]),a=Rs(s);return(0,o.useEffect)((()=>(ue(C.$Q.SCRIBD_ADHESION,(e=>{var t;const n=e.slot.getSlotElementId(),r=null===(t=document.getElementById(n))||void 0===t?void 0:t.closest(".fs-sticky-parent");r&&(s(r.getBoundingClientRect()),a(r))})),R((()=>{L().newStickyFooter(C.$Q.SCRIBD_ADHESION)})),function(){R((()=>{L().deleteStickyFooter(C.$Q.SCRIBD_ADHESION)}))})),[]),o.createElement("style",null,(e=>`.wrapper__megamenu_hamburger_menu .bottom_section { padding-bottom: ${e}px; }`)(n))}var Ms=n(3726),Bs=n(90057);const Zs="_3CRDVo",Us="ND-DUW",Fs="_1ZBgwr",Vs="_3j6Uab",js="de-wz2",Hs={enter:"EDt-8Y",enterActive:"_2xwFwq",exit:"_1MBtZP",exitActive:"_27owSu"},$s=11;function Ws(e){let{offsetBottom:t}=e;const n=t+20,r=(0,s.v9)((e=>e.user.isLoggedIn)),a=(0,s.v9)((e=>e.page.wordDocument.isDocumentOwner)),i=(0,s.v9)((e=>e.page.wordDocument.id)),l=(0,s.v9)((e=>e.ratings[i].userRating)),[c,p]=(0,o.useState)(!1);return function(e){let{setIsVisible:t}=e;const n=(0,s.v9)((e=>e.page.wordDocument.page_count)),r=(0,s.v9)((e=>e.page.wordDocument.showFullDoc)),a=(0,o.useRef)({first:!1,second:!1}),i=n>=$s&&r,l=(e,t)=>!0!==a.current[e]&&!!t&&(a.current[e]=!0,!0);(0,o.useEffect)((()=>{function e(e){var r;if(!e.length)return;const o=null===(r=e[e.length-1])||void 0===r?void 0:r.pageNum;if(i){const e=l("first",o>=5),r=l("second",o===n);(e||r)&&t(!0)}else l("first",o===n)&&t(!0)}return window.docManager.addEvent("visiblePagesChanged",e),function(){window.docManager.removeEvent("visiblePagesChanged",e)}}),[i,n,t])}({setIsVisible:p}),!r||a?null:o.createElement(Ms.Z,{classNames:Hs,in:0===l&&c,timeout:500,mountOnEnter:!0,unmountOnExit:!0},o.createElement("div",{className:Zs,style:{bottom:n}},o.createElement("div",{className:Us},u.Z.t("pdfs.upvote.this_document_is")),o.createElement("div",{className:Vs},o.createElement(ns.Z,{fillIconOnHover:!0,location:rs.L.DOCUMENT_USEFUL,showCount:!1},o.createElement("span",{className:js},u.Z.t("pdfs.upvote.useful"))),o.createElement(ts.Z,{fillIconOnHover:!0,location:rs.L.DOCUMENT_USEFUL,showCount:!1},o.createElement("span",{className:js},u.Z.t("pdfs.upvote.not_useful")))),o.createElement("span",{className:d()("icon-ic_close",Fs),onClick:function(){p(!1)}},o.createElement(Bs.T,null,u.Z.t("shared.common.close_dialog")))))}Ws.defaultProps={offsetBottom:0};var zs=n(20879),qs=n.n(zs);const Gs=()=>o.createElement("img",{src:(0,i.up)(qs()),alt:"Scribd"});function Ks(e){let{appStorePromoVisible:t,firebaseDeepLink:n,platform:r,setAppStorePromoVisible:s}=e;return t?o.createElement("div",{className:"auto__doc_page_webpack_view_in_store_promo","data-e2e":"view-in-store-promo"},o.createElement("div",{className:"content_wrapper",onClick:function(){(0,i.L9)(`${r}:mobile`,{click:"view_in_store_link"}),(0,i.uX)(n)}},o.createElement(Gs,null),o.createElement("div",{className:"app_info"},o.createElement("div",{className:"logo_and_rating_wrapper"},o.createElement("div",{className:"scribd"},"Scribd",o.createElement(pt.TX,null,u.Z.t("webpack.doc_page.src.App.Page.Body.FixedViewportBottomComponents.ViewInStorePromo.ViewInStorePromo.get_scribd_for_your_mobile_device"))),o.createElement("div",{className:"ratings"},o.createElement(pt.JO,{icon:"star_small_fill star"}),o.createElement(pt.JO,{icon:"star_small_fill star"}),o.createElement(pt.JO,{icon:"star_small_fill star"}),o.createElement(pt.JO,{icon:"star_small_fill star"}),o.createElement(pt.JO,{icon:"star_small_halffill star"}))),o.createElement("div",{className:"subtext"},u.Z.t("doc_page.app_promo.millions_of_documents")),o.createElement(pt.Av,{className:"view_in_store_link",href:n},u.Z.t("webpack.doc_page.src.App.Page.Body.FixedViewportBottomComponents.ViewInStorePromo.ViewInStorePromo.get_our_free_app")))),o.createElement(pt.Av,{onClick:function(e){e.preventDefault(),(0,Ls.d8)(Ls.HR.VIEW_IN_STORE_PROMO,!0,7),s(!1)},className:"close"},o.createElement(pt.JO,{icon:"close_small"}))):null}Ks.defaultProps={setAppStorePromoVisible:i.ZT};var Js=n(39942);const Xs=(0,s.$j)((e=>({appStorePromoVisible:e.mobile.app_store_promo_visible,firebaseDeepLink:e.static.routes.appPromoDeepLink,isFullscreen:e.viewport.isFullscreen,isSubscriber:e.user.isSubscriber,platform:e.platform})),(e=>({setAppStorePromoVisible:t=>{e((0,Js.R)(t))}})))(Ks);var Ys=n(99077),Qs=n(16192);function ea(e){let{collapsed:t,onClick:n}=e;return o.createElement(pt.Av,{className:"expand_collapse_button text_btn",onClick:n},o.createElement(pt.JO,{icon:"right_caret_alt"}),o.createElement(pt.TX,null,t?u.Z.t("webpack.doc_page.src.App.Page.Body.FixedViewportBottomComponents.CollapseButton.CollapseButton.click_to_expand_related_titles"):u.Z.t("webpack.doc_page.src.App.Page.Body.FixedViewportBottomComponents.CollapseButton.CollapseButton.click_to_collapse_related_titles")))}function ta(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class na extends o.PureComponent{constructor(){super(...arguments),ta(this,"dispatchInView",(()=>{const{collapsed:e,show:t}=this.props;!e&&t&&window.dispatchEvent(new(bo())("bottom_recommenders:show"))})),ta(this,"pollForInView",(()=>{let e;const{collapsed:t,show:n}=this.props;!t&&n&&(e=window.setInterval(this.dispatchInView,100),window.setTimeout((()=>window.clearInterval(e)),2e3))}))}componentDidUpdate(){this.pollForInView()}renderTitle(){return this.props.subscriber&&!this.props.trialing?u.Z.t("doc_page.fixed_viewport_bottom_components.check_out_these_free_titles"):u.Z.t("pdfs.redesign_elements.metadata_section.related_titles")}render(){const{allRecommenderDocuments:e,onClick:t,collapsed:n,loading:r,recommenderData:s,scrollingComponentRef:a,recommenderData:{items:i,title_link:l,track_opts:c}}=this.props;return!i.length||r?null:o.createElement("div",{className:"auto__doc_page_app_page_body_fixed_viewport_bottom_components_recommender"},o.createElement(Ys.Z,{enclosingClassName:d()({collapsed:n}),containerRef:a,hide_author:!0,in_view_event:"bottom_recommenders:show",isNotTabable:!!n,item_props:(0,Qs.s)(s,e),small:!0,title:this.renderTitle(),title_link:l,track_opts:c},o.createElement(ea,{collapsed:n,onClick:t})))}}na.defaultProps={allRecommenderDocuments:{},className:"",loading:!1,onClick:i.ZT,recommenderData:{}};const ra=(0,s.$j)((e=>({allRecommenderDocuments:e.recommenders.documents,loading:e.recommenders.loading,recommenderData:e.recommenders.viewport_bottom_recs,subscriber:e.user.isSubscriber,trialing:e.user.isTrialing})))(na),oa=["ipad","iphone","android","silk"],sa="COLLAPSE",aa="LAST_PAGE",ia="RECOMMENDER",la={[ia]:{collapsedHeight:50,dismissAction:sa,hideAppStorePromo:!1,hideOutsideRange:!0,range:[2,aa],ScrollingComponent:ra,showOnScrollDirection:"down",startCollapsed:!0}},ca="_3MwQA3",da="_2eB_ya";function ua(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class pa extends o.PureComponent{constructor(e){super(e),ua(this,"updateScrollingComponentVisibility",(()=>{const{totalPages:e}=this.props;e<4||(this.shouldHideOutsideRange?this.setState({showScrollingComponent:!1}):this.previouslyShownAndShouldShowAgain?this.setState({showScrollingComponent:!0}):this.shouldShowFirstTime&&this.setState({showScrollingComponent:!0},this.updateScrollingComponentHasBeenShown))})),ua(this,"handleMobileAnchorAdSize",(e=>{this.setState({anchorAdHeight:e.height}),this.setBottomElementsHeight()})),ua(this,"handleScroll",(()=>{_o()(this.updateScrollingComponentVisibility),window.setTimeout((()=>this.setState({showViewInStorePromo:!0})),490)})),ua(this,"handleClose",(e=>{e.preventDefault(),(0,i.L9)("fixedViewportBottomScrollingComponent:close",{component:this.scrollingComponentType}),this.setState({permanentlyDismissed:!0,showScrollingComponent:!1})})),ua(this,"handleCollapse",(e=>{e.preventDefault();const{collapsed:t}=this.state;(0,i.L9)("fixedViewportBottomScrollingComponent:toggleCollapse",{collapsed:t,component:this.scrollingComponentType}),this.setState({collapsed:!t})})),ua(this,"handleEscapeClose",(e=>{e.which===i.keyMappings.esc&&this.handleCollapse(e)})),this.state=this.defaultState,this.animationTime=300,this.handleScroll=tt()(this.handleScroll,50),this.scrollingComponentHasBeenShown=!1,this.scrollingComponentRef=(0,o.createRef)()}componentDidMount(){window.addEventListener("scroll",this.handleScroll),this.props.setAppStorePromoVisible(this.eligibleToShowAppStorePromo),this.setBottomElementsHeight()}componentDidUpdate(e){const{pageWidth:t}=this.props;if(e.pageWidth!==t&&this.resetExperience(),this.setBottomElementsHeight(),!this.scrollingComponentRef.current)return;const n=this.scrollingComponentRef.current.scrollHeight;this.state.scrollingComponentFullHeight!==n&&this.setState({scrollingComponentFullHeight:n})}componentWillUnmount(){window.removeEventListener("scroll",this.handleScroll)}get defaultState(){return{collapsed:this.scrollingComponentConfig.startCollapsed,anchorAdHeight:0,permanentlyDismissed:!1,scrollingComponentFullHeight:null,showScrollingComponent:!1,showViewInStorePromo:!1}}get isTwoColumnView(){const{isFullscreen:e,pageWidth:t,showDesktopLayout:n}=this.props;return n&&t>=p.BREAKPOINTS.DS1.breakpoint_1024&&!e}get scrollingComponentType(){return ia}get scrollingComponentConfig(){return la[this.scrollingComponentType]}get containerStyleObject(){const{pageWidth:e,pdfWidth:t,showDesktopLayout:n}=this.props,r={};return this.state.anchorAdHeight>0&&(r.bottom=this.state.anchorAdHeight),e<p.BREAKPOINTS.DS1.breakpoint_450?r:n?this.isTwoColumnView?{...r,width:t+4}:r:{...r,width:t+9}}get scrollingComponentHeights(){if(!this.isScrollingComponentVisible)return{currentHeight:0,collapsedHeight:0};const{collapsed:e,scrollingComponentFullHeight:t}=this.state,{collapsedHeight:n}=this.scrollingComponentConfig;return e?{currentHeight:n,collapsedHeight:n}:{currentHeight:t,collapsedHeight:n}}get scrollingComponentStyleObject(){return{transform:`translateY(${this.isScrollingComponentVisible?-1*this.scrollingComponentHeights.currentHeight:100}px)`}}get inRangeToDisplay(){const{currentPage:e,totalPages:t}=this.props,{range:n}=this.scrollingComponentConfig,r=n[0],o=n[1]===aa?t:n[1];return e>=r&&e<o}get shouldHideOutsideRange(){const{showScrollingComponent:e}=this.state,{hideOutsideRange:t}=this.scrollingComponentConfig;return e&&t&&!this.inRangeToDisplay}get previouslyShownAndShouldShowAgain(){const{permanentlyDismissed:e,showScrollingComponent:t}=this.state;return!e&&!t&&this.scrollingComponentHasBeenShown&&this.inRangeToDisplay}get shouldShowFirstTime(){const{showScrollingComponent:e}=this.state,{scrollDirection:t}=this.props,{showOnScrollDirection:n}=this.scrollingComponentConfig;return!e&&!this.scrollingComponentHasBeenShown&&this.inRangeToDisplay&&t===n}get eligibleToShowAppStorePromo(){const{isFullscreen:e,isSubscriber:t,platform:n,showBotText:r}=this.props;return!!(0,i.tq)()&&(!!t&&(!!oa.includes(n)&&(!e&&(!r&&!(0,Ls.ej)(Ls.HR.VIEW_IN_STORE_PROMO)))))}get shouldRenderDesktopFixedAd(){const{currentUserCountry:e,documentId:t,enableFullDesktopAdsNoVr:n,fastlyDesktopAds:{testName:r,variant:o},isFullscreen:s,pageWidth:a}=this.props;return ge({adLocation:C.KH.DESKTOP_FIXED_BOTTOM,currentUserCountry:e,documentId:t,enableFullDesktopAdsNoVr:n,isFullscreen:s,pageWidth:a,testName:r,variant:o})}shouldShowAppPromo(){return!!this.props.isSubscriber&&!!this.state.showViewInStorePromo}updateScrollingComponentHasBeenShown(){this.scrollingComponentHasBeenShown=!0}resetExperience(){this.setState(this.defaultState),this.props.setAppStorePromoVisible(this.eligibleToShowAppStorePromo)}get shouldRenderScrollingComponent(){return!this.shouldRenderDesktopFixedAd&&(this.props.isSubscriber||!(0,i.tq)())}get shouldShowScrollingComponentOuterLogic(){return!this.state.permanentlyDismissed&&this.state.showScrollingComponent}get shouldShowScrollingComponentInnerLogic(){return Boolean(this.props.currentUserCountry)&&Boolean(this.props.subscriptionPrice)}get isScrollingComponentVisible(){return this.shouldRenderScrollingComponent&&this.shouldShowScrollingComponentOuterLogic&&this.shouldShowScrollingComponentInnerLogic}renderScrollingComponent(){const{appStorePromoVisible:e,currentUserCountry:t,subscriptionPrice:n}=this.props,{collapsed:r}=this.state,{dismissAction:s,hideAppStorePromo:a,ScrollingComponent:i}=this.scrollingComponentConfig,l=this.shouldShowScrollingComponentOuterLogic;return o.createElement(Qt.ZP,{in:l,timeout:this.animationTime},(c=>o.createElement("section",{"aria-hidden":"exited"===c,className:d()("scrolling_component",c,{collapsed:r,margin_for_app_store_promo:!a&&e}),style:this.scrollingComponentStyleObject},this.shouldShowScrollingComponentInnerLogic?o.createElement(i,{country:t,collapsed:r,onClick:s===sa?this.handleCollapse:this.handleClose,scrollingComponentRef:this.scrollingComponentRef,show:l,subscriptionPrice:n}):null)))}get shouldRenderAdhesionAd(){return this.props.isMobile?!this.props.isSubscriber:this.shouldRenderDesktopFixedAd}get shouldRenderMobileBottomTabs(){return this.props.isSubscriber}setBottomElementsHeight(){const{appStorePromoVisible:e,pageWidth:t}=this.props;let n=this.state.anchorAdHeight;this.shouldRenderMobileBottomTabs&&t<=p.BREAKPOINTS.DS2[p.zf.S]&&(n+=60),this.shouldShowAppPromo()&&e&&(n+=75);const r=this.scrollingComponentHeights,o={currentHeight:n+r.currentHeight,collapsedHeight:n+r.collapsedHeight};this.props.setFixedBottomElementsHeights(o)}render(){const{isFullscreen:e,showDesktopLayout:t}=this.props;return o.createElement("div",{className:d()({[ca]:this.isTwoColumnView})},o.createElement("div",{className:d()({[da]:this.isTwoColumnView})},o.createElement("div",{className:d()("auto__doc_page_app_page_body_fixed_viewport_bottom_components",{fullscreen:e,desktop_layout:t,with_mobile_bottom_tabs:this.shouldRenderMobileBottomTabs}),style:this.containerStyleObject,onKeyDown:this.handleEscapeClose},o.createElement(pt.SV,null,o.createElement(Ws,{offsetBottom:this.scrollingComponentHeights.currentHeight})),this.shouldRenderScrollingComponent?o.createElement(pt.SV,null,this.renderScrollingComponent()):null,o.createElement(pt.SV,null,this.shouldShowAppPromo()&&o.createElement(Xs,null),this.shouldRenderMobileBottomTabs?o.createElement(lt.oU,null):null,this.shouldRenderAdhesionAd?o.createElement(xs,{onAdSize:this.handleMobileAnchorAdSize}):null))))}}pa.defaultProps={appStorePromoVisible:!1,currentUserCountry:p.COUNTRIES.UNITED_STATES,currentPage:1,documentId:null,enableFullDesktopAdsNoVr:!1,fastlyDesktopAds:{testName:null,variant:null},isFullscreen:!1,isMobile:!1,pageWidth:null,pdfWidth:null,scrollDirection:null,setAppStorePromoVisible:i.ZT,showBotText:!1,showDesktopLayout:!1,totalPages:null};var _a=n(15996);const ha={setAppStorePromoVisible:Js.R,setFixedBottomElementsHeights:_a.C},ma=(0,s.$j)((e=>{const t=(0,Ft.Z)(e.user.isMobile,e.viewport.width);return{appStorePromoVisible:e.mobile.app_store_promo_visible,currentUserCountry:e.user.country,currentPage:e.documentViewer.current_page,documentId:e.page.wordDocument.id,eligibleForFreeTrial:e.user.isEligibleForFreeTrial,enableFullDesktopAdsNoVr:e.global.features.enableFullDesktopAdsNoVr,fastlyDesktopAds:e.global.testAssignments.fastlyDesktopAds,isFullscreen:e.viewport.isFullscreen,isMobile:e.user.isMobile,isSubscriber:e.user.isSubscriber,pageWidth:e.viewport.width,pdfWidth:e.documentViewer.document_width,platform:e.platform,scrollDirection:e.currentPage.scrollDirection,showBotText:e.bodyProps.show_bot_text,showDesktopLayout:t,subscriptionPrice:e.global.personalization.subscriptionPrice,totalPages:e.bodyProps.document.page_count}}),ha)(pa);var ga=n(80380);const ba=e=>{const{handle_open_lockshock_modal:t,handle_print:n,is_view_restricted_archive:r,payment_fix_url:o,under_dunning_lock:s}=e;r&&s&&o?t(o):n()},fa=e=>o.createElement(pt.Av,{className:"print_btn",onClick:ba.bind(void 0,e)},o.createElement("span",{className:"icon icon-ic_print","aria-hidden":"true"}),o.createElement("span",{className:"label"},u.Z.t("pdfs.redesign_elements.actions.print"))),va=(0,s.$j)((e=>({is_view_restricted_archive:e.page.wordDocument.is_view_restricted_archive,payment_fix_url:e.global.paths.actions.payment_fix_url,under_dunning_lock:e.user.isUnderDunningLock})),(e=>({handle_open_lockshock_modal:t=>{e((0,dt.zp)({name:Z.V$.LOCK_SHOCK_ROADBLOCK,className:"no_fullscreen lock_shock_roadblock_modal",payment_fix_url:t}))},handle_print:()=>{e((0,dt.zp)({name:Z.V$.PRINT}))}})))(fa);var wa=n(8884);const Ea="D05rbD";function ya(e){let{module:t}=e;return t?o.createElement("div",{className:Ea},o.createElement(cr.Bb,{module:{...t,title:u.Z.t("pdfs.redesign_elements.metadata_section.related_titles")},renderPastMargin:!0},o.createElement(cr.RA,{cell:wa.fV,documents:t.documents,page:Z.VL,showSaveAction:!1}))):null}ya.defaultProps={module:null};const Sa=(0,s.$j)((e=>{const{compilation:{modules:t},documents:n}=e,r=t[0],o=null===r||void 0===r?void 0:r.documents;return{module:Boolean(o)&&Boolean(n[o[0].id])?r:null}}))(ya);var Na=n(17588),Ta=n(12540),Da=n.n(Ta);function ka(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Pa="auto__doc_page_webpack_doc_page_body_static_promo_study";class Aa extends o.Component{constructor(e){super(e),ka(this,"checkForInView",(()=>{const e=document.querySelector(`.${Pa}`);e&&(0,i.jF)(e)&&((0,i.L9)("doc:study_promotional_banner:view",{loc:"StaticPromoStudy"}),this.removeDocScrollListener())})),ka(this,"handlePromoCtaClick",(e=>{e.preventDefault();const{archivePlansUrl:t,archived:n,docID:r,documentType:o,handleCtaClick:s,isLoggedIn:a,isSubscriber:l,trialDuration:c}=this.props;(0,i.Ug)(p.vT.DOC_PAGE_STATIC_PROMO_READ_FREE,{documentType:o}),(0,i.L9)("doc:study_promotional_banner_button:click",{loc:"StaticPromoStudy",trial_duration:c,...(0,i.cd)()}),this.promoCookieManager.setCookie(),s({archivePlansUrl:t,archived:n,docID:r,documentType:o,loggedIn:a,subscriber:l})})),this.promoCookieManager=new i.q_}componentDidMount(){this.shouldRender()&&window.addEventListener("scroll:document",this.checkForInView)}componentWillUnmount(){this.removeDocScrollListener()}removeDocScrollListener(){window.removeEventListener("scroll:document",this.checkForInView)}getCtaText(){if(!this.props.eligibleForFreeTrial)return u.Z.t("account_settings.show.restart_membership");const e=u.Z.t("shared.trial_duration.read_free_days",{trialDuration:this.props.trialDuration}),t=u.Z.t("webpack.doc_page.src.App.Page.Body.StaticPromoStudy.StaticPromoStudy.read_for_free");return this.props.pageWidth>=550?e:t}shouldRender(){const{isLoggedIn:e,isSubscriber:t,documentType:n}=this.props;return!t&&(!(e&&!t)||!("free"===n))}renderPromoHeader(){return o.createElement("h2",{className:"promo_header"},u.Z.t("webpack.doc_page.src.App.Page.Body.StaticPromoStudy.StaticPromoStudy.reward_your_curiosity"))}renderPromoBodyText(){const e=u.Z.t("webpack.doc_page.src.App.Page.Body.StaticPromoStudy.StaticPromoStudy.everything_you_want_to_read"),t=u.Z.t("webpack.doc_page.src.App.Page.Body.StaticPromoStudy.StaticPromoStudy.anytime_anywhere_any_device");return o.createElement(o.Fragment,null,o.createElement("div",{className:"promo_subtext"},e),o.createElement("div",{className:"promo_subtext"},t))}renderCancelText(){const{pageWidth:e}=this.props,t=u.Z.t("webpack.doc_page.src.App.Page.Body.StaticPromoStudy.StaticPromoStudy.no_commitment_cancel_anytime");let n=u.Z.t("webpack.doc_page.src.App.Page.Body.StaticPromoStudy.StaticPromoStudy.cancel_anytime");return e>=i.AV.breakpoint_700&&(n=t),o.createElement("div",{className:"cancel_text"},n)}renderPromoCta(){const e=this.getCtaText(),t=this.props.pageWidth>=550&&!this.props.trialDuration;return o.createElement("div",{className:"cta_container"},t?o.createElement(pt.bz,{className:"static_promo_cta",tooltipContent:u.Z.t("shared.loading_button.tooltip_content.loading")}):o.createElement(pt.IH,{className:"static_promo_cta",onClick:this.handlePromoCtaClick},e),this.renderCancelText())}renderTextAndCta(){return o.createElement("div",{className:"text_and_cta"},this.renderPromoHeader(),this.renderPromoBodyText(),this.renderPromoCta())}render(){if(!this.shouldRender())return null;const{documentWidth:e}=this.props;return o.createElement("div",{className:Pa},o.createElement("div",{className:"full_container",style:{maxWidth:e}},o.createElement("div",{className:"promo_container",style:{maxWidth:e}},this.renderTextAndCta(),o.createElement("img",{className:"banner_image",alt:"",src:(0,i.up)(Da())}))))}}const Ca=(0,s.$j)((e=>({archived:e.page.wordDocument.archived,archivePlansUrl:e.static.routes.archivePlansUrl,docID:e.page.wordDocument.id,documentWidth:e.documentViewer.document_width,documentType:e.page.wordDocument.type,eligibleForFreeTrial:e.user.isEligibleForFreeTrial,isLoggedIn:e.user.isLoggedIn,isSubscriber:e.user.isSubscriber,isViewRestrictedArchive:e.page.wordDocument.is_view_restricted_archive,pageWidth:e.viewport.width,trialDuration:e.personalization.trialDuration})),(e=>({handleCtaClick:t=>{const{archivePlansUrl:n,archived:r,docID:o,documentType:s,loggedIn:a,subscriber:i}=t,l="view_restricted"===s,c=l&&!a?n:null;e((l||r&&!l)&&(a&&!i)?(0,dt.MH)("doc","StaticPromoStudy"):(0,dt.mb)({loginParams:{document_id:o,source:"StaticPromoStudy"},nextUrl:c,trackingData:{loc:"StaticPromoStudy",page:"doc"}}))}})))(Aa);function Ia(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class Oa extends o.PureComponent{constructor(e){super(e),Ia(this,"setFirstPageHeight",(()=>{const e=this.getFirstPage();e&&(e.parentElement.style.height=`${this.state.adjustedPageHeight}px`,e.parentElement.style.overflow="hidden",setTimeout(this.setFirstPageHeight,100))})),Ia(this,"setupBlurHeightAfterPageIsReady",(()=>{if(!this.isFirstPageRendered())return this.firstPageTimeout&&clearTimeout(this.firstPageTimeout),this.firstPageTimeout=setTimeout(this.setupBlurHeightAfterPageIsReady,200);this.setupBlurHeight()})),Ia(this,"setupBlurHeight",(()=>{this.setState({blurHeight:this.getBlurHeight()},this.setupAdjustedPageHeight)})),Ia(this,"setupAdjustedPageHeight",(()=>{this.setState({adjustedPageHeight:this.getAdjustedPageHeight()},this.setFirstPageHeight)})),Ia(this,"handleClick",(e=>{const{handleInterstitialClick:t,handleJoinButtonClick:n,subscribeUrl:r,loggedIn:o}=this.props;if(e.preventDefault(),this.promoCookieManager.setCookie(),this.underDunningLock())return window.location.assign(this.props.paymentFixUrl),!1;(0,i.tq)()?t():n({subscribeUrl:r,loggedIn:o})})),this.state={blurHeight:0,adjustedPageHeight:0},this.promoCookieManager=new i.q_,this.debouncedSetupBlurHeight=Je()(this.setupBlurHeight,10)}componentDidMount(){window.addEventListener("resize",this.debouncedSetupBlurHeight),this.setupBlurHeightAfterPageIsReady(),this.containerRef=o.createRef()}componentWillUnmount(){window.removeEventListener("resize",this.debouncedSetupBlurHeight)}getHeightOf(e){if(e)return e.getBoundingClientRect().height}getFirstPageHeight(){return this.getHeightOf(this.getFirstPage())}getContainerHeight(){return this.getHeightOf(this.containerRef.current)}getFirstPage(){return document.getElementsByClassName("newpage")[0]}getAdjustedPageHeight(){return this.containerRef&&this.containerRef.current?this.getContainerHeight():this.getFirstPageHeight()}getBlurHeight(){return.25*this.getFirstPageHeight()}isFirstPageRendered(){return!!this.getFirstPage()}underDunningLock(){return this.props.underDunningLock&&this.props.paymentFixUrl}getBlurStyle(){return{height:`${this.state.blurHeight}px`}}get cta(){const{eligibleForFreeTrial:e}=this.props;return e?u.Z.t("webpack.doc_page.src.App.Page.Body.TruncatePromo.TruncatePromo.continue_reading_with_trial"):u.Z.t("doc_page.truncate_promo.restart_membership")}getEnclosingStyle(){return{marginTop:`-${this.state.adjustedPageHeight}px`}}get header(){const{eligibleForFreeTrial:e}=this.props;return e?u.Z.t("webpack.doc_page.src.App.Page.Body.TruncatePromo.helpers.constants.unlock_the_full_document_with_a"):u.Z.t("doc_page.truncate_promo.unlock_full_access_when_subscribe")}get subheader(){const{eligibleForFreeTrial:e,trialDuration:t}=this.props;return e?u.Z.t("doc_page.truncate_promo.trial_duration.scribd_members_can_read",{trialDuration:t}):u.Z.t("doc_page.truncate_promo.read_and_download_full_documents")}renderBlur(){return o.createElement("div",{className:"blur",style:this.getBlurStyle()})}renderPromo(){const e=this.props.eligibleForFreeTrial&&!this.props.trialDuration;return o.createElement("div",{className:"promo"},o.createElement("div",{className:"promo_content"},o.createElement("h2",{className:"heading"},o.createElement("span",null,this.header)),o.createElement("div",{className:"sub_heading"},e?null:this.subheader),o.createElement("div",{className:"promo_cta_wrapper"},o.createElement(pt.IH,{className:"promo_cta",href:"#",onClick:this.handleClick},this.cta))))}render(){return o.createElement("div",{className:"auto__doc_page_webpack_app_page_truncate_promo",style:this.getEnclosingStyle(),ref:this.containerRef},this.renderBlur(),o.createElement("div",{className:"promo_wrapper"},o.createElement("div",{className:"promo_border"},this.renderPromo())))}}Oa.defaultProps={handleJoinButtonClick:i.ZT,loggedIn:!1,paymentFixUrl:null,underDunningLock:!1};const La=(0,s.$j)((e=>({eligibleForFreeTrial:e.user.isEligibleForFreeTrial,loggedIn:e.user.isLoggedIn,paymentFixUrl:e.global.paths.actions.payment_fix_url,subscribeUrl:e.static.routes.subscribeUrl,trialDuration:e.personalization.trialDuration,underDunningLock:e.user.isUnderDunningLock})),(e=>({handleJoinButtonClick:function(){let{subscribeUrl:t,loggedIn:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e(t&&!n?(0,dt.mb)({trackingData:{loc:"truncate_promo",page:"doc"},nextUrl:t}):(0,dt.MH)("doc","truncate_promo"))},handleInterstitialClick:()=>{e((0,dt.zp)({name:Z.V$.APP_PROMO_INTERSTITIAL,afterCloseTrackingArgs:["app_promo_interstitial:close:click"],className:"app_promo_interstitial"}))}})))(Oa),Ra="_38u7Fr",xa="_2c2xvi",Ma="_1wML4p",Ba="_1gJTQI";function Za(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const{breakpoint_450:Ua}=p.BREAKPOINTS.DS1;class Fa extends o.Component{constructor(e){super(e),Za(this,"getEnhancedMetadataType",(()=>{const{TITLE:e,DESCRIPTION:t,TITLE_AND_DESCRIPTION:n}=Z.ENHANCED_METADATA_TYPES,{generatedDescription:r,extractedTitle:o}=this.props;return r&&o?n:r?t:o?e:null})),Za(this,"handleScroll",(e=>{let{scrollDirection:t}=e;const n=this.showFixedToolbar(),r=this.showFixedActions();n!==this.props.fixedToolbar&&this.props.toggleFixedToolbar(n),r!==this.props.fixedActions&&this.props.toggleFixedActions(r),this.props.scrollDirection!==t&&this.props.setScrollDirection(t)})),this.lastScrollTop=0,this.metadataRef=o.createRef(),this.toolbarRef=o.createRef()}componentDidMount(){this.scrollDirectionHandler=new i.k8(this.handleScroll)}componentWillUnmount(){this.scrollDirectionHandler.removeListener()}get shouldRenderRelatedTitlesCarousel(){const{currentUserCountry:e,documentId:t,enableFullDesktopAdsNoVr:n,fastlyDesktopAds:{testName:r,variant:o},isFullscreen:s,pageWidth:a}=this.props;return ge({adLocation:C.KH.DESKTOP_FIXED_BOTTOM,currentUserCountry:e,documentId:t,enableFullDesktopAdsNoVr:n,isFullscreen:s,pageWidth:a,testName:r,variant:o})}get shouldAddTopPaddingToDocument(){const{isFullscreen:e,showDesktopLayout:t}=this.props;return!!t&&!e}shouldRenderAIEnhancedTag(){return null!==this.getEnhancedMetadataType()}shouldRenderTruncatePromo(){const{enableFullDesktopAdsNoVr:e,fastlyDesktopAds:{variant:t},isPaused:n,isSubscriber:r}=this.props;if(r||n)return!1;if(!0===e)return!1;if(C.SV.includes(t))return!1;const{page_count:o,is_view_restricted_archive:s}=this.props.document;return 1===o&&s}showFixedActions(){return this.metadataRef.current&&this.metadataRef.current.getBoundingClientRect().bottom<Z.vI&&this.props.pageWidth<=Ua&&!this.props.isKeyboardUser}showFixedToolbar(){return this.toolbarRef.current&&this.toolbarRef.current.getBoundingClientRect().bottom<Z.vI&&this.props.pageWidth>Ua&&!this.props.isKeyboardUser&&!this.props.isFullscreen}renderSharingButtons(){return o.createElement("div",{className:"share_document_wrapper"},o.createElement("h2",{className:"share_document_title"},u.Z.t("webpack.doc_page.src.App.Page.Body.Body.share_this_document")),o.createElement(Na.Z,{large:!0,trackLocation:"bottom"}))}renderStaticPromoBanner(){return this.props.isMobile?null:o.createElement(Ca,null)}renderTruncatePromo(){if(this.shouldRenderTruncatePromo())return o.createElement(La,null)}renderWideFirstCTA(){const{isDownloadable:e,isLoggedIn:t,isSubscriber:n}=this.props;return n&&e?o.createElement(yt.Z,{location:"doc actions",page:"read",show_icon:!0}):o.createElement(St.Z,{show_text:!0,location:"actions_desktop","data-e2e":"main-cta-save-button",loggedIn:t})}renderBotMetadata(){if(this.props.showBotText)return o.createElement("div",{className:"bot_data"},o.createElement(ga.dk,{headingLevel:2,renderVisualHeading:!0}),o.createElement(ga.wZ,{headingLevel:2}),o.createElement(ga.Pd,{headingLevel:2}),o.createElement(ga.jA,{headingLevel:2}),o.createElement(ga.qJ,{headingLevel:2}))}renderNarrowMetaData(){const e=this.props.showBotText;return o.createElement(pt.d7,{above:!0,width:Ua},o.createElement(ga.ZP,{className:d()("narrow",{bot:e}),isNarrow:!0,metadataRef:this.metadataRef},o.createElement(ga.Dx,null),o.createElement(ga.FW,{inline:!0,headingLevel:2}),o.createElement(ga.G5,null),this.shouldRenderAIEnhancedTag()?o.createElement(er,{enhancedMetadataType:this.getEnhancedMetadataType()}):null,o.createElement(ga.rb,null),this.renderBotMetadata()),o.createElement(ar,null))}renderRatingButtons(){return o.createElement(o.Fragment,null,o.createElement(ns.Z,{location:rs.L.METADATA}),o.createElement(ts.Z,{location:rs.L.METADATA}))}renderWideMetadata(){const{isDownloadable:e,isMobile:t,showBotText:n,showDesktopLayout:r}=this.props,s=n;return o.createElement(pt.d7,{atOrBelow:!0,width:Ua},o.createElement(ga.ZP,{className:d()("wide",{bot:s,desktop_layout:r})},o.createElement("div",{className:d()("doc_info_actions",{desktop_layout:r,is_mobile:t})},o.createElement(it.Z,null,o.createElement(ga.bB,null),o.createElement(ga.Dx,null),o.createElement("div",{className:Ba},o.createElement(ga.FW,{inline:!0,headingLevel:2}),this.shouldRenderAIEnhancedTag()?o.createElement(er,{enhancedMetadataType:this.getEnhancedMetadataType()}):null),s?null:o.createElement(ga.dk,{headingLevel:2,renderVisualHeading:!1,truncate:!0}),this.renderBotMetadata()),o.createElement(it.Z,null,o.createElement("div",{className:"doc_actions"},this.renderWideFirstCTA(),this.renderRatingButtons(),o.createElement(gt,null),o.createElement(ft,null),e&&o.createElement(va,null)),o.createElement(uo,null)))))}renderMetadata(){return this.props.isFullscreen?null:o.createElement(o.Fragment,null,this.renderNarrowMetaData(),this.renderWideMetadata())}renderMobileRecommender(){const{areRecommendersLoading:e,showDesktopLayout:t}=this.props;return t||e?null:o.createElement(it.Z,null,o.createElement(ao,null))}renderBotText(){const{showBotText:e,botText:t,document:n,showArchivePaywall:r}=this.props;if(e)return o.createElement(o.Fragment,null,this.renderMetadata(),o.createElement(Vt,{max_page:n.page_count}),o.createElement("div",{className:d()("document_container is_bot",{blurred_page:r}),dangerouslySetInnerHTML:{__html:t}}),o.createElement("div",{className:"after_doc_wrapper is_bot"},this.renderMobileRecommender()),this.props.children)}renderDocument(){const{children:e,documentWidth:t,showBotText:n,showDesktopLayout:r}=this.props;if(!n)return o.createElement(o.Fragment,null,this.renderMetadata(),o.createElement(Vt,{toolbarRef:this.toolbarRef}),o.createElement(Os,null,this.renderStaticPromoBanner(),this.renderTruncatePromo(),o.createElement("div",{className:"after_doc_wrapper",style:{maxWidth:t}},this.renderSharingButtons()),o.createElement("div",{className:"after_doc_wrapper",style:{maxWidth:t}},this.renderMobileRecommender()),!r&&e))}renderDesktopRecommender(){const{areRecommendersLoading:e,doListRecommendersExist:t,showDesktopLayout:n}=this.props;return n?e?null:t?o.createElement("div",{className:"recommender_list_wrapper"},o.createElement(it.Z,null,o.createElement(ao,null))):null:null}render(){const{breadcrumbs:e,isFullscreen:t,showDesktopLayout:n,taxonomyV4UgcBrowsing:r}=this.props;let s=null;return r&&e.length&&(s=o.createElement(pt.Oo,{className:d()(Ra,{[xa]:n}),crumbs:e})),o.createElement(it.Z,null,o.createElement("div",{className:d()("auto__doc_page_body_body",{desktop_layout:n,fullscreen:t,topPadding:this.shouldAddTopPaddingToDocument}),"data-testid":"doc-page-body"},o.createElement("div",{id:"reading_progress_container",className:d()("document_column",{[Ma]:this.props.isMobilePushdownAdVisible})},this.renderBotText(),this.renderDocument()),this.renderDesktopRecommender(),o.createElement(lr,null),o.createElement(ma,null)),this.shouldRenderRelatedTitlesCarousel?o.createElement(Sa,null):null,t?null:s)}}Fa.defaultProps={breadcrumbs:[],currentUserCountry:null,documentId:null,enableFullDesktopAdsNoVr:!1,extractedTitle:null,fastlyDesktopAds:{testName:null,variant:null},generatedDescription:null,isTrialing:!1,isViewRestrictedArchive:!1,showDesktopLayout:!1,taxonomyV4UgcBrowsing:!1};var Va=n(36488);const ja=(0,s.$j)((e=>{const t=(0,Ft.Z)(e.user.isMobile,e.viewport.width);return{areRecommendersLoading:e.recommenders.loading,botText:e.bodyProps.bot_text,breadcrumbs:e.bodyProps.breadcrumbs,currentLanguage:e.i18n.currentLanguage.prefix,currentUserCountry:e.user.country,document:e.bodyProps.document,documentId:e.page.wordDocument.id,documentType:e.page.wordDocument.type,documentWidth:e.documentViewer.document_width,doListRecommendersExist:Boolean(e.recommenders.list_recommenders),dunning:e.user.isDunning,enableFullDesktopAdsNoVr:e.global.features.enableFullDesktopAdsNoVr,extractedTitle:e.bodyProps.document.extracted_title,fastlyDesktopAds:e.global.testAssignments.fastlyDesktopAds,fixedActions:e.documentViewer.fixed_actions,fixedToolbar:e.documentViewer.fixed_toolbar,generatedDescription:e.bodyProps.document.generatedDescription,isDownloadable:e.page.wordDocument.is_downloadable,isFullscreen:e.viewport.isFullscreen,isKeyboardUser:e.viewport.isKeyboardUser,isLoggedIn:e.user.isLoggedIn,isMobile:e.user.isMobile,isMobilePushdownAdVisible:e.ads.isMobilePushdownAdVisible,isPaused:e.user.isPaused,isSubscriber:e.user.isSubscriber,isTrialing:e.user.isTrialing,isViewRestrictedArchive:e.page.wordDocument.is_view_restricted_archive,pageWidth:e.viewport.width,platform:e.platform,scrollDirection:e.currentPage.scrollDirection,showArchivePaywall:e.page.wordDocument.show_archive_paywall,showBotText:e.bodyProps.show_bot_text,showDesktopLayout:t,subscribeNowLandingPath:e.static.routes.subscribeNowLandingPath,taxonomyV4UgcBrowsing:e.global.features.taxonomyV4UgcBrowsing}}),(e=>({toggleFixedActions:t=>e((0,At.Oi)(t)),toggleFixedToolbar:t=>e((0,At.d)(t)),setScrollDirection:t=>{e((0,Va.Z)(t))}})))(Fa);function Ha(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const $a={DOC_PAGE_LOAD_STATS:"doc-page-load-stats",RENDER_DOCUMENT_DESKTOP:"render-document-desktop"},Wa="doc-page";class za extends o.Component{constructor(e){super(e),Ha(this,"parseHashForActions",(()=>{const e=window.location.hash+window.location.search,{downloadWithLogin:t,setFullscreen:n,documentTitle:r}=this.props;if(e.includes("fullscreen")&&n(!0),e.includes("download")){const n=e.includes("from_embed")?"embed":"url";(0,i.L9)(`analytics.${n}.document.download`,{title:r}),t(n)}})),Ha(this,"showLanguageChangeNotification",(()=>{const e=(0,i.Bc)(location.search.slice(1));if(e&&e.language_settings_changed){let t=u.Z.t("doc_page.page.preferred_language_set_to_url_params_language_settings_changed",{url_params_language_settings_changed:e.language_settings_changed});this.props.handleLanguageSettingsChanged(t)}})),Ha(this,"showRenewalNag",(()=>Boolean(this.props.renewalNagProps))),Ha(this,"trackFastlyDesktopAdsVariant",(()=>{const{enableFullDesktopAdsNoVr:e,fastlyDesktopAds:t}=this.props,{testName:n,variant:r}=t;if(!0===(0,i.tq)())return null;if(!0===e)return null;if(!1===Boolean(r))return null;if(de({gamShortName:ie[n],variant:r}),!0===!!(0,i.ej)(p.HR.FASTLY_DESKTOP_ADS_VARIANT_TRACKED))return null;(0,i.d8)(p.HR.FASTLY_DESKTOP_ADS_VARIANT_TRACKED,!0),i.Zd.increment(C.Ib.NAME,{action:C.Ib.ACTION.GET_SESSION_VARIANT,page:"doc-page",source:C.Ib.SOURCE,variant:r})})),Ha(this,"trackDesktopPageLoad",(()=>{if(!0===(0,i.tq)())return null;i.Zd.increment(C.Ib.NAME,{action:$a.RENDER_DOCUMENT_DESKTOP,page:Wa})})),Ha(this,"trackNoAdsOnFlaggedDocument",(()=>{if(!1===this.props.adsDisabled)return null;i.Zd.increment(C.Ib.NAME,{action:C.Ib.ACTION.NO_ADS_ON_FLAGGED_DOCUMENT,page:"doc-page",source:C.Ib.SOURCE})})),Ha(this,"trackPageLoadStats",(()=>{i.Zd.increment(C.Ib.NAME,{action:$a.DOC_PAGE_LOAD_STATS,isMobileClient:(0,i.tq)(),isMobileServer:this.props.isMobile,pageOrientation:this.props.pageOrientation})})),Ha(this,"trackPerformance",(()=>{(0,i.bu)(g,this.props.isLoggedIn,this.props.isBot)})),Ha(this,"handleMouseLeave",(()=>{this.props.handleShowExitModal()})),Ha(this,"renderFlashContainerModalOpen",(()=>{const{closeAllFlashes:e,closeFlash:t,modalFlashes:n}=this.props;return o.createElement(it.Z,{on_error:e},o.createElement(sn,{classes:"modal_open",close_flash:t,flashes:n}))})),Ha(this,"renderModalContainer",(()=>o.createElement(it.Z,{on_error:this.handleModalError},o.createElement(zn,null)))),Ha(this,"renderContent",(()=>{const{allFlashIds:e,isFullscreen:t,renewalNagProps:n,viewportWidth:r}=this.props,s=(0,Ft.Z)((0,i.tq)(),r);let a=e.length;this.showRenewalNag()&&this.isViewportWidthWide&&(a+=1);const l={paddingTop:60*a+"px"};return o.createElement(o.Fragment,null,o.createElement("div",{className:"modal_wrapper"},this.renderFlashContainerModalOpen(),this.renderModalContainer()),o.createElement("div",{className:d()("page_wrapper",{desktop_layout:s,fullscreen:t})},o.createElement(Bn,{renewalNagProps:n}),o.createElement(it.Z,null,o.createElement("section",{className:"body",style:this.isViewportWidthWide?l:null},o.createElement(ja,{shouldShowFreestarPushdownAd:this.shouldShowFreestarPushdownAd}))),o.createElement(it.Z,null,o.createElement(ut,null))))})),this.handleResize=Je()((()=>{this.props.handleResize(window.innerWidth,window.innerHeight)}),100)}componentDidMount(){const{containsAnnotations:e,documentId:t,documentPageCount:n,documentType:r,fastlyDesktopAds:o,handleLoadRecommenders:s,isEligibleForMobileAds:a,isLoggedIn:l,isMobile:c,loadAnnotations:d}=this.props;setTimeout(this.parseHashForActions,100),(0,i.L9)("doc_view_mode",{value:"doc_view_mode",doc_id:t}),(0,i.L9)("doc_view_type",{doc_id:t,type:r}),s(),(0,qe.h9)(),this.handleResize(),this.showLanguageChangeNotification(),this.trackDesktopPageLoad(),this.trackFastlyDesktopAdsVariant(),this.trackNoAdsOnFlaggedDocument(),this.trackPageLoadStats(),this.trackPerformance(),(0,i.Kq)(),l&&e&&d();const u=c&&a&&n>1&&n<4,p=C.aI.includes(o.variant)&&n<=2;(u||p)&&J(),document.body.addEventListener("mouseleave",this.handleMouseLeave),window.addEventListener("resize",this.handleResize)}componentDidUpdate(){const{isFullscreen:e,hasModal:t,setFullscreen:n}=this.props;this.isMobileWidth&&e&&n(),document.body.classList.toggle("modal_open",t)}componentWillUnmount(){window.removeEventListener("resize",this.handleResize),document.body.removeEventListener("mouseleave",this.handleMouseLeave)}get isMobileWidth(){return this.props.viewportWidth<=i.AV.breakpoint_450}get isViewportWidthWide(){return this.props.viewportWidth>i.AV.breakpoint_700}handleModalError(){this.props.closeAllModals(),this.props.createFlash({type:"error",children:u.Z.t("webpack.doc_page.src.shared.base_page.an_error_occurred_please_try_again")})}render(){return o.createElement("div",{className:d()("auto__doc_page_page",at.LE,{for_bots:this.props.isBot,fullscreen:this.props.isFullscreen}),onKeyDown:this.handleKeyDown,onMouseDown:this.handleMouseDown},this.renderContent())}}za.defaultProps={allFlashIds:[],allModalIds:[],exitModalPropsPath:"",googleClientId:"",isViewRestrictedArchive:!1,modalFlashes:{},recommenders:{},renewalNagProps:null};n(25047);var qa=n(6862),Ga=n(57158);const Ka=(0,s.$j)((e=>{const{all_ids:t,modal_flashes:n}=e.flash,{all_ids:r}=e.modal,{features:{enableFullDesktopAdsNoVr:o,highlights:s=!1,isEligibleForExitModal:a,isEligibleForMobileAds:i},testAssignments:{fastlyDesktopAds:l}}=e.global,{isBot:c,isLoggedIn:d,isSubscriber:u,isMobile:p}=e.user,{isFullscreen:_,width:h}=e.viewport,{ads_disabled:m,is_view_restricted_archive:g}=e.bodyProps.document,{wordDocument:{id:b,title:f,page_orientation:v,type:w,page_count:E}}=e.page,{config:{google:{clientId:y}},routes:{archivePlansUrl:S,exitModalPropsPath:N,subscribeUrl:T}}=e.static,{renewalNagProps:D}=e;return{adsDisabled:m,allFlashIds:t,allModalIds:r,archivePlansUrl:S,containsAnnotations:s,documentId:b,documentPageCount:E,documentTitle:f,documentType:w,enableFullDesktopAdsNoVr:o,exitModalPropsPath:N,fastlyDesktopAds:l,googleClientId:y,hasModal:Boolean(r.length),isBot:c,isEligibleForExitModal:a,isEligibleForMobileAds:i,isFullscreen:_,isLoggedIn:d,isMobile:p,isSubscriber:u,isViewRestrictedArchive:g,modalFlashes:n,pageOrientation:v,renewalNagProps:D,subscribeUrl:T,viewportWidth:h}}),(e=>({closeAllFlashes:()=>e((0,$e.F$)()),closeAllModals:()=>e((0,dt.Zy)()),closeAllToasts:()=>e((0,_t.Z)()),closeFlash:t=>e((0,$e.KX)(t)),createFlash:t=>e((0,$e.W6)(t)),createToast:t=>e((0,ls.Z)(t)),downloadWithLogin:t=>e((0,dt.MH)("read",t)),handleShowExitModal:t=>{let{modals:n,exitModalPropsPath:r,isEligibleForExitModal:o}=t;const s=n.length>0,a=(0,i.ej)(p.HR.EXIT_MODAL);s||a||!o||e((0,dt.zp)({name:Z.V$.EXIT_MODAL,propsPath:r,className:"exit_modal"}))},handleResize:t=>e((0,qa.Z)(t)),handleLanguageSettingsChanged:t=>{e((0,$e.W6)({type:"success",children:t}))},handleLoadRecommenders:()=>e((0,Ga.TR)()),loadAnnotations:()=>e((0,So.Ss)()),setFullscreen:t=>e((0,Ut.Z)(t))})),((e,t)=>({...e,...t,handleShowExitModal:()=>{t.handleShowExitModal({modals:e.allModalIds,exitModalPropsPath:e.exitModalPropsPath,isEligibleForExitModal:e.isEligibleForExitModal})}})))(za);var Ja=n(36989);const Xa={wrapper:"QIQslB"};function Ya(e){let{onClick:t}=e;return o.createElement(qn.KM,{rightIcon:Gn.uls,onClick:()=>{(0,i.L9)("doc_page.blur_promo_skip_ad_cta:click"),t()},buttonStyle:qn.xw.MONOTONE_BLACK,className:Xa.wrapper},u.Z.t("doc_page.blur_promo.skip_ad"))}const Qa={ad:"_1tT1BY",wrapper:"fQCmgM"};function ei(e){let{pagesToUnblur:t,pageNumber:n,reblurPages:r,timerDuration:s,unblurPages:a}=e;const i=(0,o.useRef)(null),[l,c]=(0,o.useState)(!1),[u,p]=(0,o.useState)(!1);(0,o.useEffect)((()=>{i.current?c(!0):c(!1)}),[i.current]);return o.createElement("div",{className:d()(Ue.displayAd,Qa.wrapper),ref:i},l&&!u?o.createElement(A,{adElement:i.current,className:Ue.timer,duration:s,onExpired:()=>{c(!1),p(!0)}}):o.createElement(Ya,{onClick:()=>{a(t),setTimeout((()=>r(t)),C.sk)}}),o.createElement(qt,{adIndex:n,className:Qa.ad,fallbackImageClassName:Wt.blurPromoDisplay,placementName:C.$Q.SCRIBD_BLUR_INCONTENT_DISPLAY}))}const ti={DOCUMENT:()=>({long:u.Z.t("doc_page.blur_promo.read_this_document_once_the_ad_is_complete"),short:u.Z.t("doc_page.blur_promo.read_this_document_after_the_ad")}),SINGLE_PAGE:()=>({long:u.Z.t("doc_page.blur_promo.read_this_page_once_the_ad_is_complete"),short:u.Z.t("doc_page.blur_promo.read_this_page_after_the_ad")}),MULTI_PAGE:e=>({long:u.Z.t("doc_page.blur_promo.read_next_pages_once_the_ad_is_complete",{count:e}),short:u.Z.t("doc_page.blur_promo.read_the_next_n_pages_after_the_ad",{count:e})})},ni={DOCUMENT:()=>({long:u.Z.t("doc_page.blur_promo.unlock_this_document_after_an_ad"),short:u.Z.t("doc_page.blur_promo.unlock_this_document_after_an_ad")}),SINGLE_PAGE:()=>({long:u.Z.t("doc_page.blur_promo.unlock_this_page_after_an_ad"),short:u.Z.t("doc_page.blur_promo.unlock_this_page_after_an_ad")}),MULTI_PAGE:e=>({long:u.Z.t("doc_page.blur_promo.unlock_next_pages_after_an_ad",{count:e}),short:u.Z.t("doc_page.blur_promo.unlock_next_pages_after_an_ad",{count:e})})};const{LOCALIZE_ADS_FOR_ACCESS:ri}=re;p.COUNTRIES.UNITED_STATES,p.COUNTRIES.AUSTRALIA,p.COUNTRIES.UNITED_KINGDOM;const oi={ADS_FOR_ACCESS:"ADS_FOR_ACCESS",SUBSCRIBE_ONLY:"SUBSCRIBE_ONLY",SUBSCRIBE_OR_UPLOAD:"SUBSCRIBE_OR_UPLOAD",UPLOAD_OR_SUBSCRIBE:"UPLOAD_OR_SUBSCRIBE"};function si(e){return e?`${u.Z.t("doc_page.blur_promo.become_member_for_full_access")} ${u.Z.t("shared.trial_duration.first_days_free",{trialDuration:e})}`:null}function ai(e){let{isEligibleForFreeTrial:t,isUnderDunningLock:n}=e;return n?{cta:u.Z.t("webpack.doc_page.src.App.Page.BlurPromo.BlurPromo.update_payment"),subtitle:u.Z.t("webpack.doc_page.src.App.Page.BlurPromo.BlurPromo.update_payment_for_full_access")}:t?null:{cta:u.Z.t("account_settings.show.restart_membership"),subtitle:u.Z.t("doc_page.blur_promo.become_member_for_full_access")}}function ii(e){let{isEligibleForFreeTrial:t,isUnderDunningLock:n,promoVariant:r,trialDuration:o}=e;return ai({isEligibleForFreeTrial:t,isUnderDunningLock:n})||function(e){let{promoVariant:t,trialDuration:n}=e;switch(t){case oi.ADS_FOR_ACCESS:return{cta:u.Z.t("doc_page.blur_promo.subscribe_with_a_free_trial"),subtitle:null};case oi.SUBSCRIBE_ONLY:return{cta:u.Z.t("webpack.doc_page.src.App.Page.BlurPromo.BlurPromo.continue_reading_with_trial"),subtitle:si(n)};case oi.SUBSCRIBE_OR_UPLOAD:return{cta:u.Z.t("webpack.doc_page.src.App.Page.BlurPromo.BlurPromo.continue_for_free"),subtitle:si(n)};case oi.UPLOAD_OR_SUBSCRIBE:return{cta:n?u.Z.t("doc_page.blur_promo.trial_duration.start_your_trial",{trialDuration:n}):null,subtitle:u.Z.t("webpack.doc_page.src.App.Page.BlurPromo.BlurPromo.become_a_scribd_member_to_read")};default:return{}}}({promoVariant:r,trialDuration:o})}function li(e){let{onSubscribeClick:t,wrapperClassName:n}=e;const r=function(){var e;const{isEligibleForFreeTrial:t,isUnderDunningLock:n}=(0,s.v9)((e=>e.user));return(null===(e=ai({isEligibleForFreeTrial:t,isUnderDunningLock:n}))||void 0===e?void 0:e.cta)||u.Z.t("doc_page.blur_promo.subscribe_with_a_free_trial")}();return o.createElement("div",{className:d()(Ue.header,n)},o.createElement("div",{className:Ue.headerText},o.createElement("p",{className:Ue.headerTitle},u.Z.t("doc_page.blur_promo.unlock_this_document")),o.createElement("p",{className:Ue.headerSubtitle},u.Z.t("doc_page.blur_promo.read_and_download_full_documents"))),o.createElement("div",null,o.createElement(qn.KM,{className:Ue.ctaButton,onClick:t},r),o.createElement("div",{className:Ue.cancelAnytime},u.Z.t("webpack.doc_page.src.App.Page.BlurPromo.BlurPromo.cancel_anytime"))))}function ci(e){let{onSubscribeClick:t,pageId:n,reblurPages:r,unblurPages:a}=e;const i=(0,s.v9)((e=>e.page.wordDocument.page_count)),{adType:l,pageNumber:c,pagesToUnblur:p,timerDuration:_}=Ne({pageId:n}),h=l===C.T$.VIDEO,m=function(e,t,n){return 1===e?n.DOCUMENT():1===t?n.SINGLE_PAGE():n.MULTI_PAGE(t)}(i,p,h?ti:ni),{classNameKey:g,useShortAdTitle:b}=f();return o.createElement("div",{className:d()(Ue[g],h?Ue.videoWrapper:Ue.displayWrapper)},o.createElement(li,{onSubscribeClick:t}),o.createElement("div",{className:Ue.orDivider},o.createElement(Ja.iz,{className:Ue.divider,direction:Ja.bB.HORIZONTAL,type:Ja.os.INLINE}),o.createElement("div",{className:Ue.or},u.Z.t("shared.common.or"))),o.createElement("p",{className:Ue.adTitle},b?m.short:m.long),o.createElement("div",{className:Ue.adSection},h?o.createElement("div",{className:Ue.videoAdPlaceholder,"data-ads":C.ZH,"data-testid":"ads_for_access_video"}):o.createElement("div",{className:Ue.displayAd,"data-testid":"ads_for_access_display"},o.createElement(ei,{pageNumber:c,pagesToUnblur:p,reblurPages:r,timerDuration:_,unblurPages:a}))))}li.defaultProps={ctaClarityVariant:null,wrapperClassName:null};const di={wrapper:"_1qNr2d",landscape:"_29JyOe",row:"_3dJECX",cta:"NXg8yr",divider:"shWpnX _3dJECX",dividerLine:"yKN-Lf",dividerText:"_2SMclW",logo:"_2XDvny",overlay:"_39pSzc",promoCommon:"_3DzOla",promo:"_140Ouo _3DzOla",subtitle:"IBwrkx _3dJECX",trialMessageLoading:"_2J4kPg",title:"_3Iwx_R"};function ui(e){let{pageId:t,onSubscribeClick:n,reblurPages:r,unblurPages:s}=e;const{adType:a}=Ne({pageId:t});return a===C.T$.NONE?null:o.createElement("div",{className:d()(di.promoCommon)},o.createElement(ci,{onSubscribeClick:n,pageId:t,reblurPages:r,unblurPages:s}))}function pi(e){let{wrapperClassname:t}=e;return o.createElement("img",{className:t,src:(0,i.up)(Xo()),alt:"Scribd"})}function _i(e){let{cta:t,isReducedHeight:n,onSubscribeClick:r,subtitle:s}=e;const a=null===s;return o.createElement(o.Fragment,null,o.createElement("p",{className:d()(di.subtitle,{[di.trialMessageLoading]:a})},s),o.createElement(qn.KM,{className:di.cta,onClick:r,size:n?qn.Gt.SMALL:qn.Gt.L},t))}function hi(){return o.createElement("div",{className:di.divider},o.createElement("div",{className:di.dividerLine}),o.createElement("div",{className:di.dividerText},u.Z.t("webpack.doc_page.src.App.Page.BlurPromo.BlurPromo.or")),o.createElement("div",{className:di.dividerLine}))}function mi(e){let{cta:t,isReducedHeight:n,onSubscribeClick:r,subtitle:s}=e;const a=null===s;return o.createElement(o.Fragment,null,o.createElement("p",{className:di.subtitle},u.Z.t("webpack.doc_page.src.App.Page.BlurPromo.BlurPromo.upload_your_documents_to_download")),o.createElement(hi,null),o.createElement("p",{className:d()(di.subtitle,{[di.trialMessageLoading]:a})},s),o.createElement(qn.KM,{className:di.cta,onClick:r,size:n?qn.Gt.SMALL:qn.Gt.L},t))}function gi(e){let{cta:t,isReducedHeight:n,onSubscribeClick:r,subtitle:s}=e;return o.createElement(o.Fragment,null,o.createElement("p",{className:di.subtitle},s),o.createElement(qn.KM,{className:di.cta,onClick:r,size:n?qn.Gt.SMALL:qn.Gt.L},t))}function bi(e){let{cta:t,isReducedHeight:n,onSubscribeClick:r,onUploadClick:s,subtitle:a}=e;return o.createElement(o.Fragment,null,n?null:o.createElement("p",{className:di.subtitle},u.Z.t("webpack.doc_page.src.App.Page.BlurPromo.BlurPromo.upload_your_documents_to_download")),o.createElement(qn.KM,{className:d()(di.cta,di.row),onClick:s,size:qn.Gt.L},u.Z.t("webpack.doc_page.src.App.Page.BlurPromo.BlurPromo.upload_to_download")),o.createElement(hi,null),n?null:o.createElement("p",{className:d()(di.subtitle)},a),o.createElement(_.d7,{atAndBelow:!0,size:p.zf.S},o.createElement(qn.kq,{className:di.cta,onClick:r,size:qn.Gt.LARGE},t)),o.createElement(_.d7,{above:!0,size:p.zf.S},o.createElement(qn.Av,{className:di.cta,onClick:r},t)))}function fi(e){let{documentId:t,documentType:n,fastlyDesktopAdsVariant:r,isDownloadable:s,isEligibleForFreeTrial:a,isLoggedIn:l,isSubscriber:c,isUnderDunningLock:_,openAppPromoInterstitial:h,openJoinModal:g,pageId:b,pageOrientation:f,paymentFixUrl:v,personalizedArchiveOfferBucket:w,reblurPages:E,subscribeUrl:y,title:S,trialDuration:N,unblurPages:T,uploadUrl:D,useOverlay:k,viewportWidth:P}=e;const A=(0,o.useRef)(new i.q_);function I(e){l?(0,i.uX)(e):g({nextUrl:e})}const O=()=>{c||((0,i.Ug)(p.vT.DOC_PAGE_BLUR_PROMO_CONTINUE_FOR_FREE,{documentType:n}),(0,i.L9)("doc_page.blur_promo_cta:click",{documentId:t,pageId:b,personalizedArchiveOfferBucket:w,title:S,...(0,i.cd)()})),A.current.setCookie(),_?(0,i.uX)(v):(0,i.tq)()?h():I(y)},L=f===m,R=C.aI.includes(r),x=L&&P<=p.BREAKPOINTS.DS1.breakpoint_550,M=R&&!x,{Body:B,logoBreakpoint:Z,promoVariant:U}=function(e){let{isDownloadable:t,isUnderDunningLock:n,personalizedArchiveOfferBucket:r}=e;return n?{Body:gi,logoBreakpoint:p.BREAKPOINTS.DS1.breakpoint_450}:!t||He.Z.isSubscribeOnly(r)?{Body:_i,logoBreakpoint:p.BREAKPOINTS.DS1.breakpoint_450,promoVariant:oi.SUBSCRIBE_ONLY}:He.Z.isControl(r)||He.Z.isSubscribeOrUpload(r)?{Body:mi,logoBreakpoint:p.BREAKPOINTS.DS1.breakpoint_950,promoVariant:oi.SUBSCRIBE_OR_UPLOAD}:{Body:bi,logoBreakpoint:p.BREAKPOINTS.DS1.breakpoint_950,promoVariant:oi.UPLOAD_OR_SUBSCRIBE}}({isDownloadable:s,isUnderDunningLock:_,personalizedArchiveOfferBucket:w}),{cta:F,subtitle:V}=ii({isEligibleForFreeTrial:a,isUnderDunningLock:_,promoVariant:M?oi.ADS_FOR_ACCESS:U,trialDuration:N}),j=L&&P<=Z,H=L&&P<=p.BREAKPOINTS.DS1.breakpoint_450;return o.createElement("div",{className:d()(di.wrapper,{[di.landscape]:L})},k?o.createElement("div",{className:di.overlay}):null,M?o.createElement(ui,{cta:F,onSubscribeClick:O,pageId:b,reblurPages:E,unblurPages:T}):o.createElement("div",{className:di.promo},j?null:o.createElement(pi,{wrapperClassname:di.logo}),o.createElement("header",{className:di.title},u.Z.t("pdfs.show.you_re_reading_a_preview")),o.createElement(B,{cta:F,isReducedHeight:H,onSubscribeClick:O,onUploadClick:()=>{I(D)},subtitle:V})))}pi.defaultProps={wrapperClassname:null},_i.defaultProps={subtitle:null},mi.defaultProps={subtitle:null},gi.defaultProps={subtitle:null},bi.defaultProps={cta:null},fi.defaultProps={fastlyDesktopAdsVariant:null,pageOrientation:null,paymentFixUrl:null,reblurPages:null,trialDuration:null,unblurPages:null,useOverlay:!1};const vi=(0,s.$j)((e=>{const{type:t,id:n,is_downloadable:r,page_orientation:o,title:s}=e.page.wordDocument,{isEligibleForFreeTrial:a,isLoggedIn:i,isSubscriber:l,isUnderDunningLock:c}=e.user,{fastlyDesktopAds:d,personalized_archive_offer:u}=e.global.testAssignments;return{documentId:n,documentType:t,fastlyDesktopAdsVariant:d.variant,isDownloadable:r,isEligibleForFreeTrial:a,isLoggedIn:i,isSubscriber:l,isUnderDunningLock:c,pageOrientation:o,paymentFixUrl:e.global.paths.actions.payment_fix_url,personalizedArchiveOfferBucket:u,subscribeUrl:e.global.paths.actions.archive_plans_url,title:s,trialDuration:e.personalization.trialDuration,uploadUrl:e.global.paths.actions.upload_url,viewportWidth:e.viewport.width}}),(e=>({openAppPromoInterstitial:()=>{e((0,dt.zp)({name:Z.V$.APP_PROMO_INTERSTITIAL,afterCloseTrackingArgs:["app_promo_interstitial:close:click"],className:"app_promo_interstitial"}))},openJoinModal:function(){let{nextUrl:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e((0,dt.mb)({trackingData:{loc:"blur_promo",page:"doc"},nextUrl:t}))}})))(fi),wi={type:"error",children:"Hypernova Did Not Render Page!"};function Ei(e){let{store:t}=e;window.__app_loaded=!0,window.render_blur_promo=e=>{let{pageId:n,promoDivElement:r,reblurPages:a,unblurPages:i,useOverlay:c}=e;(e=>{let{props:t,promoDivElement:n}=e;const{store:r,...a}=t,i=o.createElement(s.zt,{store:r},o.createElement(vi,a));l.render(i,n)})({props:{pageId:n,store:t,reblurPages:a,unblurPages:i,useOverlay:c},promoDivElement:r})},window.renderBlurPromoDockableVideo=(e,n)=>function(e,t,n){(0,l.render)(o.createElement(s.zt,{store:n},o.createElement(je,t)),e)}(e,n,t),window.__pages_to_blur&&window.__pages_to_blur.forEach((e=>e()))}function yi(e){let{flashes:t,state:n,store:r}=e;const o="qa"===n.assetEnvironment&&!function(){const e=document.querySelector(ze);return!(!e||!e.childElementCount)}()?[...n.flashes,wi]:t;(0,s.dC)((()=>{o.forEach((e=>r.dispatch((0,$e.W6)(e))))}))}function Si(e){let{flashes:t,state:n,store:r}=e;yi({flashes:t,state:n,store:r}),function(e){let{state:t,store:n}=e;new rt(n,{wordDocument:t.page.wordDocument,is_embed:!1,container:window,isLoggedIn:t.user.isLoggedIn})}({state:n,store:r}),(0,ot.sK)(r)}const Ni=e=>{let{flashes:t}=e;const n=(0,s.oR)(),r=n.getState();return(0,a.Z)(),(0,o.useEffect)((()=>{!function(e){V("slotRequested",(t=>G(W,t,e))),V("slotRenderEnded",(t=>{j(t,(()=>G(q,t,e)))})),V("impressionViewable",(t=>{G(z,t,e)}))}(n),n.dispatch((0,We.re)((0,qe._d)())),Ei({store:n}),(e=>{if(!e)return;if(/Google (Web|Instant) Preview/.test(navigator.userAgent))return;let t={url:e.join("")};document.referrer&&(t.body={referer:document.referrer},t.header={"Content-Type":"application/x-www-form-urlencoded"}),Ge.Z.post(t)})(r.global.paths.actions.pingback),setTimeout((()=>Si({flashes:t,state:r,store:n})),2e3)}),[]),He.Z.setDownloadable(r.page.wordDocument.is_downloadable),He.Z.setSubscriber(r.user.isSubscriber),window.__oauthStartTrialUrl=r.static.routes.oauthStartTrialUrl,st.ZP.setup_store(n),(0,i.N8)(i.SY.ACTION.CONSENT_DIALOG_VISIBLE,r.static.config.brand),o.createElement(Ie,null,o.createElement(Ka,null))};var Ti=n(13980),Di=n.n(Ti);const ki=Di().shape({prefix:Di().string,lcid:Di().string,href:Di().string,lang:Di().string,name:Di().string}),Pi=Di().shape({totalCategoryCount:Di().number,exploreLinks:Di().arrayOf(Di().shape({dataName:Di().string,name:Di().string,url:Di().string})),categoryLinks:Di().arrayOf(Di().shape({dataName:Di().string,name:Di().string,url:Di().string}))}),{createStore:Ai}=(Di().string,Di().shape({admin_panel_props:Di().shape({admin_document_path:Di().string,edit_path:Di().string,delete_path:Di().string,reconvert_path:Di().string,blessed:Di().bool,bless_path:Di().string,infringe_path:Di().string}),breadcrumbs:Di().arrayOf(Di().shape({label:Di().string,href:Di().string})),document:Di().shape({ads_disabled:Di().bool,copyright_name:Di().string,description:Di().string,edit_path:Di().string,embed_modal_props_path:Di().string,extensions:Di().arrayOf(Di().string),extracted_title:Di().string,flag_document_modal_props_path:Di().string,generatedDescription:Di().string,id:Di().number,is_archive:Di().bool,is_view_restricted_archive:Di().bool,isbn:Di().string,page_count:Di().number,publisher_info:Di().shape({is_author:Di().bool,name:Di().string,url:Di().string}),secret_password:Di().string,seo_description:Di().string,title:Di().string}),sharing_buttons_props:Di().shape({description:Di().string,id:Di().number,message:Di().string,private:Di().bool,secretPassword:Di().string,show_pinterest:Di().bool,thumbnail_url:Di().string,title:Di().string,twitter_hashtag:Di().string,url:Di().string}),show_bot_text:Di().bool,bot_text:Di().string,view_restricted_cta_test_enabled:Di().bool}),Di().shape({isHamburgerMenuOpen:Di().bool,isMegamenuTopBarVisible:Di().bool,isMegamenuPrimaryNavVisible:Di().bool,navigationCategories:Di().shape({books:Pi,audiobooks:Pi,magazines:Pi,podcasts:Pi,sheetmusic:Pi,docs:Pi}),selectedMobileBottomTab:Di().string}),Di().bool,Di().arrayOf(Di().shape({type:Di().string,children:Di().node})),Di().shape({client:Di().shape({mobile:Di().shape({getMobileAppProps:Di().shape({androidStoreUrl:Di().string,iosStoreUrl:Di().string,app_download_link:Di().string,close_promo_url:Di().string,doc_id:Di().number,email_address:Di().string,extra_classes:Di().string,promo_id:Di().string,twilio_enabled:Di().bool,track_page:Di().string,success:Di().bool,__locale:Di().string})})}),config:Di().shape({facebook:Di().shape({app_id:Di().string})}),testAssignments:Di().shape({backupPaymentMethodsRollout:Di().any,fastlyDesktopAds:Di().shape({testName:Di().string,variant:Di().string}),personalized_archive_offer:Di().string}),paths:Di().shape({assetPath:Di().string,actions:Di().shape({add_to_library:Di().string,archive_plans_url:Di().string,audiobooksLink:Di().string,bestsellers_url:Di().string,book_annotations:Di().string,booksLink:Di().string,documentsLink:Di().string,faqUrl:Di().string,homeLink:Di().string,library_url:Di().string,load_recommenders:Di().string,payment_fix:Di().string,payment_fix_url:Di().string,personalization_path:Di().string,pingback:Di().arrayOf(Di().string),register_download_attempt:Di().string,remove_from_library:Di().string,upload_url:Di().string}),props:Di().shape({download_receipt_modal:Di().string,paused_user_download_modal:Di().string,pmp_login_join_modal:Di().string})}),features:Di().shape({enableFullDesktopAdsNoVr:Di().bool,highlights:Di().bool,isEligibleForExitModal:Di().bool,isEligibleForMobileAds:Di().bool,taxonomyV4UgcBrowsing:Di().bool})}),Di().shape({currentLanguage:ki,languages:Di().arrayOf(ki),locale:Di().string}),Di().shape({savedItems:Di().object,wordDocument:Di().shape({archived:Di().bool,author_name:Di().string,id:Di().number,image_url:Di().string,in_library:Di().bool,is_credit_restricted:Di().bool,isDocumentOwner:Di().bool,is_downloadable:Di().bool,is_sheet_music:Di().bool,is_view_restricted_archive:Di().bool,library_xhr_pending:Di().bool,page_count:Di().number,page_dimensions:Di().bool,page_orientation:Di().bool,retina_image_url:Di().string,short_title:Di().string,showFullDoc:Di().bool,show_archive_paywall:Di().bool,signup_context:Di().any,title:Di().string,type:Di().string,url:Di().string,views:Di().string})}),Di().shape({trialDuration:Di().number}),Di().object,Di().any,Di().any,Di().any,Di().shape({config:Di().shape({brand:Di().string,google:Di().shape({clientId:Di().string,sessionPath:Di().string}),thirdPartyTags:Di().shape({googleAnalytics:Di().shape({account_id:Di().string,current_user:Di().string,facebook_user_context:Di().string}),includeGoogleTagManager:Di().bool,siftScience:Di().shape({user_id:Di().any,unique_browser_tracking_uuid:Di().string,sift_science_js_key:Di().string})})}),routes:Di().shape({accountPath:Di().string,accountSettingsPath:Di().string,androidStoreUrl:Di().string,appPromoDeepLink:Di().string,audiobooksAllCategoriesPath:Di().string,audiobooksPath:Di().string,archivePlansUrl:Di().string,bestsellersPath:Di().string,booksAllCategoriesPath:Di().string,booksPath:Di().string,documentsAllCategoriesPath:Di().string,documentsPath:Di().string,exitModalPropsPath:Di().string,facebookUrl:Di().string,homePath:Di().string,instagramUrl:Di().string,iosStoreUrl:Di().string,languageModalPropsPath:Di().string,logoutPath:Di().string,magazinesAllCategoriesPath:Di().string,magazinesPath:Di().string,myUploadsPath:Di().string,oauthLoginUrl:Di().string,oauthSignupUrl:Di().string,oauthStartTrialUrl:Di().string,paymentFixUrl:Di().string,pinterestUrl:Di().string,podcastsAllCategories:Di().string,podcastsPath:Di().string,profilePath:Di().string,rate:Di().string,readingHistoryDataPath:Di().string,referralsUrl:Di().string,rootPath:Di().string,savedPath:Di().string,searchPath:Di().string,sheetMusicPath:Di().string,statsPath:Di().string,subscribeNowLandingPath:Di().string,subscribeUrl:Di().string,supportPath:Di().string,twitterUrl:Di().string,unpauseAccountUrl:Di().string,uploadPath:Di().string,webAnalyticsUrl:Di().string,whatIsScribdLandingPath:Di().string,whatIsEverandLandingPath:Di().string,footerContentTypeRoutes:Di().shape({audiobooks:Di().string,books:Di().string,documents:Di().string,magazines:Di().string,podcasts:Di().string,sheetmusic:Di().string}),aboutUrl:Di().string,accessibilityUrl:Di().string,adChoicesUrl:Di().string,blogUrl:Di().string,careersUrl:Di().string,contactUrl:Di().string,copyrightUrl:Di().string,everandBlogUrl:Di().string,everandHostPath:Di().string,faqUrl:Di().string,giftUrl:Di().string,pressUrl:Di().string,privacyUrl:Di().string,privacyRequestFormUrl:Di().string,publishersUrl:Di().string,purchaseHelpUrl:Di().string,redeemUrl:Di().string,scribdForEnterpriseUrl:Di().string,simpleCancelUrl:Di().string,termsUrl:Di().string})}),Di().shape({search_path:Di().string}),Di().shape({browserUuid:Di().string,canExtendSubscription:Di().any,country:Di().string,hasPublishedDocuments:Di().bool,id:Di().number,initials:Di().string,isAborted:Di().bool,isAdmin:Di().bool,isBot:Di().bool,isDunning:Di().bool,isEligibleForFreeTrial:Di().bool,isLoggedIn:Di().bool,isMobile:Di().bool,isPaused:Di().bool,isSubscriber:Di().bool,isTrialing:Di().bool,isUnderDunningLock:Di().bool,name:Di().string,personaIconRetinaUrl:Di().string,personaIconUrl:Di().string,showSimpleCancelOption:Di().bool}),Di().string,n(38726)),Ci=n(29417).Z;n.p=window.Scribd.publicPath;(0,r.L8)("doc_page",(e=>{const t=(0,i.qm)(e,"static.routes","toolbar","global.paths");Ci(t);const n=Ai(t);return o.createElement(s.zt,{store:n},o.createElement(Ni,{flashes:t.flashes}))}))},91733:(e,t,n)=>{"use strict";n.d(t,{G_:()=>r,WY:()=>i,VL:()=>a,ENHANCED_METADATA_TYPES:()=>d,r4:()=>o,vI:()=>s,V$:()=>c});const r={DEFAULT:"default",FLOATING:"floating",MOBILE_TOOLBAR:"mobile_toolbar"},o=64,s=60,a="doc_page",i="__CJ_library:confirm_delete_item_in_list";var l=n(8415);const c=(0,l.z)(["account_creation","app_promo_interstitial","delete_item_in_list","description","download_modal_variant_container","download_paused_user","download_receipt","embed","exit_modal","flag_document","get_app","language_picker","lock_shock_roadblock","mobile_note","print","redirect","share_quote"]),d=(0,l.z)(["title","description","title_and_description"])},78366:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c,u:()=>l});var r=n(67294),o=n(64481);function s(){return r.createElement("div",{className:"auto__doc_page_shared_spinner_spinner spinner_component"},r.createElement("span",{className:"spinner","aria-hidden":"true"}))}var a=n(67607),i=n(13699);const l=e=>()=>new Promise(((t,n)=>a.Z.get({url:e},((e,r,o)=>{e||200!==r.statusCode?n(e||"server error"):t(JSON.parse(o))}))));class c extends r.Component{constructor(e){super(e),this.state={Component:null,props:{}},this.handle_error=this.handle_error.bind(this)}handle_error(e){const{user:t,document_id:n,mobile:r}=this.props.sentry_logging_info;this.props.handle_error(),(0,o.Tb)(e,{document_id:n,mobile:r,user:t})}componentDidMount(){const{component_loader:e,props_loader:t}=this.props;Promise.all([t(),e()]).then((e=>{const[t,n]=e;this.setState({Component:n.default,props:t},this.props.handle_load_complete)})).catch(this.handle_error)}render_placeholder(){const{render_placeholder:e,hide_placeholder:t}=this.props;return t?null:e?e():r.createElement(s,null)}render_component(){const{Component:e,props:t}=this.state;return r.createElement(e,t)}render(){return this.state.Component?this.render_component():this.render_placeholder()}}var d,u,p;d=c,u="defaultProps",p=i.D,(u=function(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}(u))in d?Object.defineProperty(d,u,{value:p,enumerable:!0,configurable:!0,writable:!0}):d[u]=p},74522:(e,t,n)=>{"use strict";n.d(t,{K:()=>o,Z:()=>s});var r=n(74399);const o=e=>({language:e.i18n.currentLanguage.lang,sentry_logging_info:{user:e.user,document_id:e.page.wordDocument.id}}),s=e=>({handle_error:()=>{e((0,r.W6)({type:"error",children:"An error occurred please try again"}))}})},13699:(e,t,n)=>{"use strict";n.d(t,{D:()=>s});var r=n(13980),o=n.n(r);o().func.isRequired,o().func,o().oneOfType([o().number,o().string]),o().func,o().bool,o().func;const s={placeholder_height:"auto",render_placeholder:null,hide_placeholder:!1,props_loader:()=>Promise.resolve({}),handle_load_complete:()=>{}}},62140:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(72779),o=n.n(r),s=n(67294),a=n(51496);let i={};function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}class c extends s.Component{constructor(e){var t;super(e),this.bind_methods_to_this(),this.name=this.constructor.name,this.uuid_base=(t=this.name,i[t]="undefined"===typeof i[t]?0:i[t]+1,`${t}_${i[t]}`)}uid(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return`${this.uuid_base}_${e}`}image_url(e){return`/images/${e.trim()}`.replace(/\/+/g,"/")}enclosing_class(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return this._enclosing_classes=this._enclosing_classes||[],e&&this._enclosing_classes.push(e),this._enclosing_classes.join(" ")}component_classes(){return arguments.length>0&&void 0!==arguments[0]?arguments[0]:""}get_component_classname(){return o()(this.enclosing_class(),this.component_classes())}get_method_names(){const e=["constructor","componentWillMount","render","componentDidMount","getDerivedStateFromProps","componentWillReceiveProps","shouldComponentUpdate","componentWillUpdate","getSnapshotBeforeUpdate","componentDidUpdate","componentWillUnmount","bind_methods_to_this"],t=Object.getOwnPropertyNames(this.constructor.prototype),n=[];for(let r of t){"function"===typeof this[r]&&-1===e.indexOf(r)&&n.push(r)}return n}bind_methods_to_this(){this.get_method_names().forEach((e=>{this[e]=this[e].bind(this)}))}enclosing_tag(){return"div"}enclosing_args(){return{}}render_content(){console.log(`${this.constructor.name}\n      needs render_content method instead of render for auto_encapsulation`)}render_icon(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"span",r=null;return t.length&&(r=s.createElement(a.TX,null,t)),s.createElement(n,{className:`icon icon-ic_${e}`,"aria-hidden":"true"},r)}render(){const e=this.enclosing_tag();return s.createElement(e,l({ref:e=>{this.container=e,this.props.node_ref&&this.props.node_ref(e)},className:this.get_component_classname()},this.enclosing_args()),this.render_content())}}},36932:(e,t,n)=>{"use strict";n.d(t,{Z:()=>f});var r=n(57903),o=n(91733),s=n(72779),a=n.n(s),i=n(54488),l=n(67294),c=n(51496),d=n(96940),u=n(99207),p=n(31783),_=n(64481);const h=[d.COUNTRIES.BRAZIL,d.COUNTRIES.PHILIPPINES,d.COUNTRIES.INDONESIA];function m(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class g extends l.Component{constructor(e){super(e),m(this,"handleDownload",(e=>{e.preventDefault();const{handle_download:t,handle_open_lockshock_modal:n,is_view_restricted_archive:r,onClick:o,payment_fix_url:s,isSubscriber:a,wordDocument:{title:i}}=this.props;if(r&&this.underDunningLock)return n(s);o&&o(e),a||(0,_.Ug)(d.vT.DOC_PAGE_DOWNLOAD_NOW,{documentType:this.props.documentType}),(0,_.L9)(this.trackEventName,{title:i,...(0,_.cd)()}),t(this.props)}))}componentDidMount(){const{title:e}=this.props.wordDocument;(0,_.L9)("analytics.sidebar.document.download",{title:e})}get label(){const{label:e,country:t,isSubscriber:n}=this.props;return e||function(e,t){return e||h.includes(t)?i.Z.t("doc_page.toolbar.download"):i.Z.t("doc_page.toolbar.download_now")}(n,t)}get trackEventName(){return`analytics.${this.props.location}.document.download`}get underDunningLock(){return this.props.underDunningLock&&this.props.payment_fix_url}renderButtonContents(){const{children:e,show_icon:t}=this.props;return e||l.createElement(l.Fragment,null,t&&l.createElement("span",{className:"icon icon-ic_download_with_line","aria-hidden":"true"}),l.createElement("span",{className:"label"},this.label))}render(){const{buttonVariant:e,className:t,"data-e2e":n,show_icon:r}=this.props,s=r?c.Av:c.IH;switch(e){case o.G_.FLOATING:return l.createElement(u.KM,{"data-e2e":n,onClick:this.handleDownload},i.Z.t("doc_page.toolbar.download"));case o.G_.MOBILE_TOOLBAR:return l.createElement(u.KM,{"data-e2e":n,icon:p.CzL,onClick:this.handleDownload},this.label);default:return l.createElement("div",{className:"download_btn_container"},l.createElement(s,{"aria-label":i.Z.t("webpack.doc_page.src.shared.download_button.button.download"),className:a()("download_btn",t),"data-e2e":n,onClick:this.handleDownload,onKeyPress:this.handleDownload},this.renderButtonContents()))}}}g.defaultProps={buttonVariant:o.G_.DEFAULT,"data-e2e":"download-button",className:"",label:null,onClick:_.ZT,show_icon:!1};var b=n(64050);const f=(0,r.$j)((e=>({archivePlansUrl:e.global.paths.actions.archive_plans_url,country:e.user.country,documentType:e.page.wordDocument.type,isSubscriber:e.user.isSubscriber,is_view_restricted_archive:e.page.wordDocument.is_view_restricted_archive,payment_fix_url:e.global.paths.actions.payment_fix_url,underDunningLock:e.user.isUnderDunningLock,wordDocument:e.page.wordDocument})),(e=>({handle_download:t=>{e((0,b.MH)(t.page,t.location,document.activeElement))},handleViewFlowClick:(t,n)=>{e((0,b.mb)({loginParams:{document_id:t,source:"Nway"},nextUrl:n,trackingData:{loc:"Nway",page:"doc"}}))},handle_open_lockshock_modal:t=>{e((0,b.zp)({className:"no_fullscreen lock_shock_roadblock_modal",name:o.V$.LOCK_SHOCK_ROADBLOCK,payment_fix_url:t}))}})))(g)},32516:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(57903),o=n(51496);const s=(0,r.$j)((e=>({extraInfo:{user:e.user,documentId:e.page.wordDocument.id,mobile:e.global.client.mobile},disableSentry:!e.user.isLoggedIn})))(o.SV)},7879:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(67294);function o(e){let{className:t,level:n,children:o}=e;const s=`h${n}`;return r.createElement(s,{className:t},o)}o.defaultProps={className:null}},73357:(e,t,n)=>{"use strict";n.d(t,{Z:()=>b});var r=n(57903),o=n(91733),s=n(72779),a=n.n(s),i=n(54488),l=n(67294),c=n(51496),d=n(96940),u=n(99207),p=n(31783),_=n(64481);function h(e){let{"data-e2e":t,add_to_library:n,buttonVariant:r,filledBtn:s,in_library:h,inMetaDataTest:m,location:g,loggedIn:b,onClick:f,outline_btn:v,prominent_style:w,remove_from_library:E,showCarouselSaveButton:y,show_icon:S,show_text:N,wordDocument:T}=e;const D=e=>{if(T.library_xhr_pending)return;const{id:t}=T,r={loginParams:b?{}:{add_to_library:t},title:i.Z.t("shared.react.save_button.sign_up_to_save"),trackingData:{loc:"add_to_library",page:"doc_page"},userAction:d.pe.USER_ACTIONS.SAVE};(0,_.L9)("library_btn:add_to_library:click",{doc_id:t,action:h?"remove":"add",location:g,page:"pdfs"}),h?E(t,r):n(t,r),"function"===typeof f&&f(e)},k=()=>h?i.Z.t("shared.save_button.saved"):i.Z.t("shared.save_button.save"),P=()=>l.createElement(c.TX,null,(()=>{const e=T.short_title||((t=(t=T.title)||"")&&t.length>150?`${t.slice(0,150)}\u2026`:t);var t;return h?i.Z.t("shared.react.save_button.remove_short_title_from_saved",{short_title:e}):i.Z.t("shared.react.save_button.save_short_title_for_later",{short_title:e})})()),A=()=>l.createElement(l.Fragment,null,(()=>{if(S)return l.createElement("span",{className:a()(`icon icon-ic_${h?"saved":"save"}_for_later_${y?"1":"2"}px`,{in_metadata_test:m}),"data-e2e":"save-button-icon-"+(h?"saved":"save"),"aria-hidden":"true",key:"icon"})})(),(()=>{const e=l.createElement("span",{className:"label","aria-hidden":"true"},k());return N?e:l.createElement(c.TX,null,e)})(),P());switch(r){case o.G_.FLOATING:return l.createElement(u.KM,{"data-e2e":t,onClick:D},l.createElement("span",{"aria-hidden":!0},k()),P());case o.G_.MOBILE_TOOLBAR:return l.createElement(u.KM,{"data-e2e":t,icon:h?p.Cr7:p.GtZ,onClick:D},l.createElement("span",{"aria-hidden":!0},k()),P());case o.G_.DEFAULT:default:return l.createElement("div",{className:a()("wrapper__shared_components_save_button","save_button_container",{in_metadata_test:m})},(()=>{const e={icon_only:!N,loading:T.library_xhr_pending,prominent_style:w,saved:h,in_metadata_test:m};return v?l.createElement(c.f5,{className:a()("edit_saved_btn outline",e),"data-e2e":t,onClick:D},A()):s?l.createElement(c.IH,{className:a()("edit_saved_btn",e),"data-e2e":t,onClick:D},A()):l.createElement(c.Av,{className:a()("edit_saved_btn",e),"data-e2e":t,onClick:D},A())})())}}h.defaultProps={"data-e2e":"save-button",buttonVariant:o.G_.DEFAULT,filledBtn:!1,inMetaDataTest:!1,location:"",onClick:_.ZT,outline_btn:!1,prominent_style:!1,show_icon:!0,show_text:!1};var m=n(64050),g=n(30912);const b=(0,r.$j)(((e,t)=>{let n;n=t.wordDocument?t.wordDocument:e.page.wordDocument;const{id:r}=n,{savedItems:o}=e.page;let s=n.in_library;return r in o&&(s=o[r]),{wordDocument:n,in_library:s}}),(e=>({add_to_library:(t,n)=>{e((0,m.Pl)(n,(0,g.qN)(t)))},remove_from_library:(t,n)=>{e((0,m.Pl)(n,(0,g.IT)(t)))}})))(h)},99077:(e,t,n)=>{"use strict";n.d(t,{Z:()=>L});var r=n(57903),o=n(25291),s=n.n(o),a=n(72779),i=n.n(a),l=n(54488),c=n(67294),d=n(51496),u=n(64481),p=n(62140),_=n(12436),h=n.n(_),m=n(32696),g=n.n(m),b=n(65428);function f(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class v extends p.Z{constructor(e){super(e),f(this,"handle_scroll",(()=>{this.align_carousel_paddles(),window.dispatchEvent(new(g())(this.scroll_event))})),this.enclosing_class("auto__shared_react_content_carousel"),this.state={render_back_paddle:!1,render_forward_paddle:!1},this.handle_scroll=h()(this.handle_scroll,50),this.handle_resize=h()(this.handle_resize,50),this.setup_scroll_events()}componentDidMount(){this.cell_width=this.get_cell_width(),this.align_carousel_paddles(),this.carousel_scrolling.addEventListener("scroll",this.handle_scroll),window.addEventListener("resize",this.handle_resize)}componentWillUnmount(){this.carousel_scrolling.removeEventListener("scroll",this.handle_scroll),window.removeEventListener("resize",this.handle_resize)}component_classes(){return i()("content_carousel",this.props.className)}setup_scroll_events(){const e=`_${Math.random().toString(36).substr(2,9)}`;this.scroll_event=`carousel:${e}:scroll`,this.scroll_events=this.props.in_view_check_events,this.scroll_events.push(this.scroll_event)}handle_resize(){this.align_carousel_paddles()}align_carousel_paddles(){this.setState({render_back_paddle:this.is_not_at_scroll_start(),render_forward_paddle:this.is_at_scroll_end()})}get_cell_width(){if(null==this.carousel_scrolling.querySelector("ul.carousel_unordered_list > li"))throw new Error("ContentCarousel needs a <ul className='carousel_unordered_list'> containing an <li> in order to run");const e=this.carousel_scrolling.querySelector("li"),t=window.getComputedStyle(e);return e.getBoundingClientRect().width+parseInt(t.marginLeft)+parseInt(t.marginRight)}scroll_to(e){const t=200*this.get_number_of_cells_in_view();(0,b.lN)(this.carousel_scrolling,e,this.manage_focus_between_paddles,t,"scrollLeft")}manage_focus_between_paddles(){this.is_not_at_scroll_start()?this.is_at_scroll_end()||this.back_paddle.focus():this.forward_paddle.focus()}get_number_of_cells_in_view(){let e=Math.floor(this.carousel_scrolling.clientWidth/this.cell_width);return 0===e&&(e=1),e}get_adjusted_scroll(e){return this.cell_width*Math.round(e/this.cell_width)}get_forward_paddle_scroll_position(e){e.preventDefault();const t=this.get_number_of_cells_in_view();this.track_mc_event("an");let n=this.carousel_scrolling.scrollLeft+this.cell_width*t;n=this.get_adjusted_scroll(n),this.scroll_to(n)}get_back_paddle_scroll_position(e){e.preventDefault();const t=this.get_number_of_cells_in_view();this.track_mc_event("ap");let n=this.carousel_scrolling.scrollLeft-this.cell_width*t;n=this.get_adjusted_scroll(n),this.scroll_to(n)}track_mc_event(e){"function"===typeof this.props.track_mc_event&&this.props.track_mc_event(e)}is_not_at_scroll_start(){return this.carousel_scrolling.scrollLeft>0}is_at_scroll_end(){const{scrollLeft:e,clientWidth:t,scrollWidth:n}=this.carousel_scrolling;return e+t<n}render_back_paddle(){return c.createElement("a",{className:i()("paddle page_left back_paddle",{hidden:!this.state.render_back_paddle}),href:"#",onClick:this.get_back_paddle_scroll_position,ref:e=>this.back_paddle=e},c.createElement("span",{className:"paddle_icon icon left icon-ic_right_caret_alt"}),c.createElement(d.TX,null,l.Z.t("shared.carousels.carousel_previous")))}render_forward_paddle(){return c.createElement("a",{className:i()("paddle page_right forward_paddle",{hidden:!this.state.render_forward_paddle}),href:"#",onClick:this.get_forward_paddle_scroll_position,ref:e=>this.forward_paddle=e},c.createElement("span",{className:"paddle_icon icon icon-ic_right_caret_alt"}),c.createElement(d.TX,null,l.Z.t("shared.carousels.carousel_next")))}render_children(){return c.Children.map(this.props.children,(e=>{let t=e.props.children.map((e=>c.cloneElement(e,{carousel_scrolling_ref:this.carousel_scrolling,in_view_check_events:this.scroll_events})));return c.cloneElement(e,{},t)}))}render_content(){return c.createElement("div",{className:"carousel_wrap"},c.createElement("div",{className:"carousel_outer"},c.createElement("div",{className:"paddles_container all_paddles"},this.render_back_paddle(),this.render_forward_paddle()),c.createElement("div",{className:i()("carousel",{carousel_save_btn:this.props.showCarouselSaveButton}),tabIndex:"-1"},c.createElement("div",{tabIndex:"-1",ref:e=>this.carousel_scrolling=e,className:"carousel_scrolling"},this.render_children()))))}}v.defaultProps={in_view_check_events:["scroll:document"]};var w=n(98874),E=n.n(w),y=n(94273),S=n.n(y),N=n(96940),T=n(71133),D=n(73357);function k(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class P extends p.Z{constructor(e){super(e),k(this,"is_in_view",(()=>{if(!this.props.carousel_scrolling_ref)return null;(0,u.jF)(this.container,this.props.carousel_scrolling_ref)&&(this.remove_in_view_check_listeners(),this.setState({img_loaded:!0}),this.track_rec_view())})),k(this,"handle_click",(()=>{"function"===typeof this.props.handle_rec_click&&this.props.tracking&&this.props.handle_rec_click(this.props.tracking.doc_uuid)})),k(this,"renderStaticStars",(()=>this.props.rating?c.createElement(d.u,{rating:this.props.rating.number,showText:!0}):null)),k(this,"renderVisuallyHiddenTitleText",(()=>!1===this.props.shouldOpenRecsInNewTab?null:c.createElement(d.TX,null," ",l.Z.t("shared.common.opens_in_a_new_window")))),this.enclosing_class("auto__doc_page_webpack_doc_page_shared_carousels_cells_rec_item"),this.state={img_loaded:!e.lazy_load}}componentDidMount(){this.add_in_view_check_listeners(),E()(this.is_in_view)}componentWillUnmount(){this.remove_in_view_check_listeners()}get hrefTarget(){const{brand:e,shouldOpenRecsInNewTab:t,type:n}=this.props,r=e===N.qp.SCRIBD&&n!==N.qe.DOCUMENT;return!0===t||!0===r?"_blank":"_self"}add_in_view_check_listeners(){this.props.in_view_check_events.forEach((e=>{window.addEventListener(e,this.is_in_view)}))}remove_in_view_check_listeners(){this.props.in_view_check_events.forEach((e=>{window.removeEventListener(e,this.is_in_view)}))}enclosing_tag(){return"li"}component_classes(){return i()("rec_item",this.props.type,{small:this.props.small})}track_rec_view(){"function"===typeof this.props.handle_rec_view&&this.props.tracking&&this.props.handle_rec_view(this.props.tracking.doc_uuid)}render_image(){const{thumb_url:e,retina_thumb_url:t,type:n,short_title:r}=this.props,o="document"===n?`PDF ${l.Z.t("receipt.download.document")}`:n;return this.state.img_loaded?c.createElement("img",{className:"thumb_img",src:e,srcSet:`${e} 1x, ${t} 2x`,"aria-label":o,alt:r}):c.createElement("img",{className:"thumb_img","aria-label":o,alt:r,style:{opacity:0}})}render_document_author(){return this.props.hide_author?null:c.createElement(c.Fragment,null,c.createElement("div",{className:"uploaded_by"},l.Z.t("pdfs.sidebar.uploaded_by")),c.createElement("div",{className:"author"},c.createElement("img",{src:(0,u.up)(S()),alt:""}),c.createElement("span",{className:"uploader"},this.props.author)))}render_author(){return this.props.hide_author?null:c.createElement(c.Fragment,null,c.createElement("div",{className:"author"},c.createElement("span",{className:"uploader"},this.props.author)))}render_title(){return this.props.hide_magazine_titles?null:c.createElement(c.Fragment,null,c.createElement("div",{className:"thumbnail_title"},this.props.title),this.renderVisuallyHiddenTitleText())}render_metadata(){return c.createElement("div",{className:"metadata"},this.props.brand===N.qp.SCRIBD&&this.props.type!==N.qe.DOCUMENT?c.createElement("div",{className:"crossLinkHeading"},c.createElement(T.Wa8,null)," ",l.Z.t("everand.shared.cross_link_message")):null,this.render_title(),"document"===this.props.type?this.render_document_author():this.render_author())}renderSaveButton(){if(this.props.showCarouselSaveButton)return c.createElement(D.Z,{loggedIn:!0,showCarouselSaveButton:!0,show_icon:!0,show_text:!1,wordDocument:{id:this.props.id}})}render_content(){return c.createElement("div",null,c.createElement("a",{className:"doc_link",href:this.props.url,onClick:this.handle_click,target:this.hrefTarget},c.createElement("div",{className:i()("thumb",{is_document:"document"===this.props.type})},this.render_image(),c.createElement("div",{className:"overlay"})),this.render_metadata()),c.createElement("div",{className:i()("rec_item_footer",{has_rating:this.props.rating})},this.renderStaticStars(),this.renderSaveButton()))}}P.defaultProps={brand:null,carousel_scrolling_ref:null,handle_rec_click:()=>{},handle_rec_view:()=>{},hide_author:!1,in_view_check_events:[],lazy_load:!0,persona_icon_props:null,rating:!1,retina_thumb_url:"",shouldOpenRecsInNewTab:!1,small:!1};var A=n(60420),C=n(16192);function I(){return I=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},I.apply(this,arguments)}class O extends p.Z{constructor(e){super(e),this.enclosing_class("auto__doc_page_webpack_doc_page_shared_carousels_recommender_carousel"),this.state={focused:!1,shouldOpenRecsInNewTab:!1},this.focus_skip_link=s()(this.focus_skip_link)}componentDidMount(){const{compilation_id:e,widget_name:t}=this.props.track_opts;this.tracking=new C.Z(e,t),window.addEventListener(this.props.in_view_event,this.handle_scroll),this.handle_scroll(),this.shouldOpenRecsInNewTab()}componentWillUnmount(){window.removeEventListener(this.props.in_view_event,this.handle_scroll)}enclosing_args(){return{onFocus:this.handle_focus}}component_classes(){return i()("recommender_carousel",this.props.enclosingClassName)}shouldOpenRecsInNewTab(){const{subscriber:e}=this.props.currentUser;return!0===(0,u.tq)()||!0===e?null:void this.setState({shouldOpenRecsInNewTab:!0})}showCarouselSaveButton(){if(this.props.hideSaveButton)return!1;const{dunning:e,loggedIn:t,paused:n,subscriber:r}=this.props.currentUser;return!(!t||e||!r&&!n)}focus_skip_link(){this.skip_link.focus()}skip(e){if(this.props.handleSkip)return this.props.handleSkip(e);const t=(0,b.WB)(document);let n=t.indexOf(this.skip_link);for(;n<t.length&&this.container.contains(t[n]);n++);t[n].focus()}handle_focus(){this.props.isKeyboardUser&&this.setState({focused:!0},this.focus_skip_link)}handle_scroll(){(0,u.jF)(this.container)&&(this.tracking.track_module_view(this.props.track_opts.module_id),window.removeEventListener(this.props.in_view_event,this.handle_scroll))}handle_key_down(e){e.which===A.key_mappings.enter&&(e.preventDefault(),this.skip(e))}handle_rec_view(e){"function"===typeof this.props.handle_rec_view&&this.props.handle_rec_view(e),this.tracking.track_obj_view(e)}handle_rec_click(e){"function"===typeof this.props.handle_rec_click&&this.props.handle_rec_click(e),this.tracking.track_obj_click(e)}track_mc_event(e){this.tracking.track_module_click(this.props.track_opts.module_id,e)}render_children(){const{brand:e,hide_author:t,item_props:n,small:r,lazy_load:o,hide_magazine_titles:s}=this.props;return c.createElement("ul",{className:"unstyled_list carousel_unordered_list"},n.map(((n,a)=>c.createElement(P,I({},n,{brand:e,key:a,hide_author:t,small:r,lazy_load:o,hide_magazine_titles:s,handle_rec_click:this.handle_rec_click,handle_rec_view:this.handle_rec_view,shouldOpenRecsInNewTab:this.state.shouldOpenRecsInNewTab,showCarouselSaveButton:this.showCarouselSaveButton()})))))}render_skip_link(){if(this.props.isKeyboardUser&&this.state.focused)return c.createElement("a",{className:"skip_link",href:"#skip_carousel",onKeyDown:this.handle_key_down,ref:e=>this.skip_link=e},l.Z.t("webpack.doc_page.src.shared.carousels.recommender_carousel.skip_carousel"))}renderCarousel(){const{className:e,id:t,isNotTabable:n,item_props:r}=this.props;return r.length?c.createElement(v,{id:t,className:i()(e,{isNotTabable:n}),track_mc_event:this.track_mc_event,in_view_check_events:[this.props.in_view_event],showCarouselSaveButton:this.showCarouselSaveButton()},this.render_children()):((0,u.Tb)(new Error("RecommenderCarousel attempted to render with no items")),null)}render_content(){const{containerRef:e,title:t,title_link:n,titleTag:r}=this.props,o=r;return c.createElement("div",{className:"recommender_carousel_wrapper",ref:e},this.props.title&&c.createElement("div",{className:"title_wrap"},c.createElement(o,{className:"recommender_title"},t),n&&c.createElement(d.Av,{href:n,className:"text_btn text_btn_alt view_more"},l.Z.t("pdfs.sidebar.view_more"))),this.render_skip_link(),this.props.children,this.renderCarousel())}}O.defaultProps={titleTag:"h2"};const L=(0,r.$j)((e=>({brand:e.static.config.brand,currentUser:{dunning:e.user.isDunning,loggedIn:e.user.isLoggedIn,paused:e.user.isPaused,subscriber:e.user.isSubscriber},isKeyboardUser:e.viewport.isKeyboardUser})))(O)},29759:(e,t,n)=>{"use strict";n.d(t,{f:()=>E,Z:()=>S});var r=n(72779),o=n.n(r),s=n(54488),a=n(67294),i=n(68106),l=n(51496),c=n(64481),d=n(57903),u=n(74522),p=n(78366),_=n(13699);class h extends p.Z{constructor(e){super(e)}componentDidMount(){const{component_loader:e,props_loader:t,id:n}=this.props;Promise.all([t(),e()]).then((e=>{const[t,r]=e;this.setState({Component:r.default,props:Object.assign({},this.props,t,{id:n})},this.props.handle_load_complete)})).catch((()=>{this.props.close_modal(n),this.handle_error()}))}}h.defaultProps=Object.assign({},_.D,{handle_load_complete:()=>{},props_loader:()=>Promise.resolve({})});var m=n(64050);const g=(0,d.$j)(u.K,(e=>Object.assign({},(0,u.Z)(e),{close_modal:t=>e((0,m.Li)(t))})))(h);var b=n(65428),f=n(60420);function v(){return v=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},v.apply(this,arguments)}function w(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const E="auto__doc_page_shared_modals_modal",y="close_button";class S extends a.Component{constructor(e){super(e),w(this,"handleAfterClose",(()=>{const{afterCloseTrackingArgs:e}=this.props;e&&(0,c.L9)(...e)})),w(this,"handleKeyDown",(e=>{e.which===f.key_mappings.esc&&this.isDismissable()&&this.hideModal()})),w(this,"handleExited",(()=>{this.props.close_modal(this.props.id)})),w(this,"hideModal",(e=>{null===e||void 0===e||e.preventDefault(),this.props.user_dismiss&&(this.afterCloseFocusTarget instanceof Element&&this.afterCloseFocusTarget.focus(),this.setState({visible:!1},this.handleAfterClose))})),w(this,"handleWrapperClick",(e=>{e.target.classList.contains("wrapper")&&this.isDismissable()&&this.hideModal()})),w(this,"handleLoadComplete",(()=>{this.setState({loading:!1},(()=>{if(this.modalRef&&this.modalRef.current){let e=this.modalRef.current;e.focus(),this.focusTrap=(0,b.c2)(e,null,!0),e.addEventListener("keydown",this.focusTrap)}this.props.handle_load_complete()}))})),this.state={visible:!1,loading:this.props.component_loader||this.props.props_loader},this.focusTrap=null,this.afterCloseFocusTarget=null,this.modalRef=a.createRef(),this.modalWrapperRef=a.createRef()}componentDidMount(){this.setState({visible:!0}),window.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){window.removeEventListener("keydown",this.handleKeyDown),this.focusTrap&&this.modalRef.current&&this.modalRef.current.removeEventListener("keydown",this.focusTrap)}componentDidUpdate(e,t){this.modalRef&&this.modalRef.current&&this.state.visible&&!t.visible&&(this.afterCloseFocusTarget=document.activeElement,this.modalRef.current.focus()),this.props.number_of_flashes!==e.number_of_flashes&&setTimeout(this.updateModalHeightForFlash,500)}isDismissable(){return!!this.props.allowWrapperDismiss&&(this.modalRef&&null!==this.modalRef.current.querySelector(`.${y}`))}updateModalHeightForFlash(){this.modalWrapperRef&&(this.modalWrapperRef.current.style.height=`calc(100vh - ${60*this.props.number_of_flashes}px`)}renderCloseButton(){if(!this.state.loading&&this.props.user_dismiss)return a.createElement(l.Av,{onClick:this.hideModal,key:"1",href:"#",className:y},a.createElement(l.TX,{text:s.Z.t("lib.lightbox.close_dialog")}),a.createElement(l.JO,{icon:"close_small"}))}render(){const{animation_speed:e,className:t,user_dismiss:n}=this.props,{loading:r}=this.state;let s=a.createElement(g,v({},this.props,{hide_modal:this.hideModal,handle_load_complete:this.handleLoadComplete}));return this.props.render_lite||(s=a.createElement(a.Fragment,null,this.renderCloseButton(),a.createElement("div",{className:"content"},s))),a.createElement(i.ZP,{component:"div",in:this.state.visible,timeout:e,unmountOnExit:!0,onExited:this.handleExited},(e=>a.createElement("div",{className:E},a.createElement("div",{className:o()("wrapper",t,e,{loading:r,user_dismiss:n}),onClick:this.handleWrapperClick,ref:this.modalWrapperRef},a.createElement("div",{"aria-describedby":this.props.aria_describedby,"aria-hidden":"false","aria-label":this.props.aria_label,"aria-labelledby":`modal_title_${this.props.id}`,className:o()("modal",{lite:this.props.render_lite}),ref:this.modalRef,role:"dialog",tabIndex:"-1"},s)))))}}S.defaultProps={afterCloseTrackingArgs:null,allowWrapperDismiss:!0,animation_speed:300,children:a.createElement(a.Fragment,null),className:"",close_all_modals:c.ZT,create_download_modal:c.ZT,create_join_modal:c.ZT,create_login_modal:c.ZT,create_modal:c.ZT,handle_load_complete:c.ZT,props_loader:()=>Promise.resolve({}),render_lite:!1,render_placeholder:void 0,user_dismiss:!0}},37571:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(64481);const o="personalized_archive_offer",s={CONTROL:"control",NOT_ELIGIBLE:"not_eligible",PERSONALIZED:"personalized",SUBSCRIBE_ONLY:"subscribe_only",SUBSCRIBE_OR_UPLOAD_1:"subscribe_or_upload_1",SUBSCRIBE_OR_UPLOAD_3:"subscribe_or_upload_3",SUBSCRIBE_OR_UPLOAD_5:"subscribe_or_upload_5",UPLOAD_1_OR_SUBSCRIBE:"upload_1_or_subscribe",UPLOAD_3_OR_SUBSCRIBE:"upload_3_or_subscribe",UPLOAD_5_OR_SUBSCRIBE:"upload_5_or_subscribe"},a=[s.CONTROL,s.NOT_ELIGIBLE,s.PERSONALIZED],i=[s.SUBSCRIBE_OR_UPLOAD_1,s.SUBSCRIBE_OR_UPLOAD_3,s.SUBSCRIBE_OR_UPLOAD_5],l=[s.UPLOAD_1_OR_SUBSCRIBE,s.UPLOAD_3_OR_SUBSCRIBE,s.UPLOAD_5_OR_SUBSCRIBE];let c=!0;let d=!1;const u={getVariant:function(){if(d)return s.CONTROL;const e=r.rm.getValue(o)||s.CONTROL;return c?e:s.SUBSCRIBE_ONLY},isControl:function(e){return a.includes(e)},isEligible:function(e){return e!==s.NOT_ELIGIBLE},isSubscribeOnly:function(e){return e===s.SUBSCRIBE_ONLY},isSubscribeOrUpload:function(e){return i.includes(e)},isUploadOrSubscribe:function(e){return l.includes(e)},requiredUploads:function(e){switch(e){case s.SUBSCRIBE_OR_UPLOAD_3:case s.UPLOAD_3_OR_SUBSCRIBE:return 3;case s.SUBSCRIBE_OR_UPLOAD_5:case s.UPLOAD_5_OR_SUBSCRIBE:return 5;default:return 1}},setDownloadable:function(e){c=e},setSubscriber:function(e){d=e},TEST_NAME:o,VARIANTS:s}},74399:(e,t,n)=>{"use strict";n.d(t,{F$:()=>i,Ju:()=>l,KX:()=>u,Lv:()=>o,RY:()=>d,W6:()=>s,WP:()=>c,ak:()=>a,fp:()=>r});const r="CREATE_FLASH_MODAL_CLOSED",o="CREATE_FLASH_MODAL_OPEN",s=e=>(t,n)=>{n().modal.all_ids.length?t((e=>({type:o,props:e}))(e)):t((e=>({type:r,props:e}))(e))},a="CLOSE_ALL_FLASHES",i=()=>({type:a}),l="CLOSE_ALL_MODAL_FLASHES",c=()=>({type:l}),d="CLOSE_FLASH",u=e=>({type:d,id:e})},64050:(e,t,n)=>{"use strict";n.d(t,{Dm:()=>S,FP:()=>P,Li:()=>y,Lw:()=>b,MH:()=>k,Md:()=>T,Pl:()=>D,Zy:()=>w,as:()=>v,et:()=>E,mb:()=>N,sr:()=>A,zp:()=>f});var r=n(23059),o=n.n(r),s=n(42208),a=n.n(s),i=n(91733),l=n(72779),c=n.n(l),d=n(54488),u=n(96940),p=n(71122),_=n(56047),h=n(64481),m=n(67607),g=n(74399);const b="CREATE_MODAL",f=e=>({type:b,props:e}),v="CLOSE_ALL_MODALS",w=()=>({type:v}),E="CLOSE_MODAL",y=e=>t=>{t((e=>({type:E,id:e}))(e)),t((0,g.WP)())},S=e=>(t,n)=>{const r=n();t(f(Object.assign({name:i.V$.ACCOUNT_CREATION,propsPath:r.global.paths.props.pmp_login_join_modal,document:r.page.wordDocument,userAction:u.pe.USER_ACTIONS.NAV_LOGIN,render_lite:!0,trackingData:{page:"doc_page"},initialView:"login"},e,{className:`${e.className||""} login_join_modal`})))},N=e=>(t,n)=>{const r=n();if((new h.gV).inTest()&&r.static.routes.oauthSignupUrl)return(0,h.uX)(`${r.static.routes.oauthSignupUrl}?doc_id=${r.page.wordDocument.id}`);t(f(Object.assign({name:i.V$.ACCOUNT_CREATION,propsPath:r.global.paths.props.pmp_login_join_modal,document:r.page.word_document,userAction:u.pe.USER_ACTIONS.NAV_JOIN,render_lite:!0,trackingData:{page:"doc_page"},initialView:"join"},e,{className:`${e.className||""} login_join_modal`})))},T=e=>(t,n)=>{const r=n();if(r.page.wordDocument&&r.page.wordDocument.show_archive_paywall)t(f({name:i.V$.REDIRECT,redirect_method:()=>{window.location=r.global.paths.actions.archive_plans_url},sub_title:d.Z.t("webpack.doc_page.src.shared.actions.modals.redirecting"),title:d.Z.t("webpack.doc_page.src.shared.store.actions.modals.subscribe_to_continue_reading"),user_dismiss:!1,document:r.page.wordDocument,userAction:u.pe.USER_ACTIONS.DOWNLOAD,className:"login_join_modal"}));else{const n=r.user.isSubscriber;t(f(Object.assign({name:n?i.V$.DOWNLOAD_MODAL_VARIANT_CONTAINER:i.V$.DOWNLOAD_RECEIPT,propsPath:r.global.paths.props.download_receipt_modal,userAction:u.pe.USER_ACTIONS.DOWNLOAD,afterCloseTrackingArgs:["download_modal:lightbox:closed",{id:r.page.wordDocument.id,title:r.page.wordDocument.title}]},e,{className:c()(e.className,"login_join_modal",{download_variant:n})})))}},D=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return(r,o)=>{const s=o(),a=e.next_url||e.nextUrl;n&&r(w()),s.user.isLoggedIn?t?r(t):a?window.location.assign(a):(0,h.Tb)(new Error("with_login called without a callback action or next url")):r(N(e))}},k=(e,t)=>(n,r)=>{const s=r(),l=u.pe.PROMO_ACTIONS.includes(t)?u.pe.USER_ACTIONS.CONTINUE_READING:u.pe.USER_ACTIONS.DOWNLOAD;if(s.user.isPaused)n(f({name:i.V$.DOWNLOAD_PAUSED_USER,propsPath:s.global.paths.props.paused_user_download_modal}));else{let r;r=s.user.isLoggedIn?s.page.wordDocument.show_archive_paywall?"paywall":"download_lightbox":"login_lightbox",m.Z.post({url:s.global.paths.actions.register_download_attempt,body:{doc_id:s.page.wordDocument.id,next_screen:r,source:e}}),(new h.gV).inTest()&&s.static.routes.oauthSignupUrl?s.user.isLoggedIn?n(T({})):(0,h.uX)(`${s.static.routes.oauthSignupUrl}?behavior_tag=${l}&doc_id=${s.page.wordDocument.id}`):n(D({trackingData:{loc:t,page:e},loginParams:a()({context:s.signupContext?s.signupContext.token:null,doc_signup_context:s.signupContext?s.signupContext.type:null,document_id:s.page.wordDocument.id,source:"download"},o()),userAction:u.pe.PROMO_ACTIONS.includes(t)?u.pe.USER_ACTIONS.CONTINUE_READING:u.pe.USER_ACTIONS.DOWNLOAD},T({})))}},P=(e,t,n,r)=>o=>{m.Z.get({url:t},(t=>{t?(o(y(e)),o((0,g.W6)({type:"error",children:d.Z.t("webpack.doc_page.src.shared.actions.modals.unable_to_unpause_account_please_try")}))):(o((0,p.Z)(!1)),o(y(e)),o(k(n,r)))}))},A=e=>t=>{t(f(Object.assign({name:i.V$.GET_APP,track_page:"doc_page",handleSuccessMessage:e=>{t((0,_.Z)({type:"success",content:e}))},handleLightboxClose:()=>{t(w())}},e)))}},10818:(e,t,n)=>{"use strict";n.d(t,{FZ:()=>_,JF:()=>u,Xw:()=>p,re:()=>g});var r=n(57903),o=n(80978),s=n(69338),a=n(64481),i=n(37571),l=n(70543),c=n(67607),d=n(1070);const u={ERROR:"ERROR",LOADING:"LOADING",SUCCESS:"SUCCESS"},p="ASYNC_DATA_STATUS_UPDATED",_="SUBSCRIPTION_PRICE_LOADED",h=e=>({type:p,status:e});let m=!1;const g=e=>(t,n)=>{if(m)return;const p=n(),g=p.page.wordDocument.id,b={personalizationData:e,id:g},f=(e=>{let{dispatch:t,state:n}=e;if(!i.Z.isEligible(n.global.testAssignments.personalized_archive_offer))return null;const r=i.Z.getVariant();return t((0,d.R)(i.Z.TEST_NAME,r)),r})({dispatch:t,state:p});m=!0,c.Z.post({url:p.global.paths.actions.personalization_path,body:b},((e,n)=>{if(e&&((0,a.Tb)(new Error(e)),t(h(u.ERROR))),n){const e=JSON.parse(n.body),c=(e=>{let{data:t,initVariant:n}=e;return window.location.hash.includes("force_personalization")?i.Z.VARIANTS.UPLOAD_1_OR_SUBSCRIBE:n===l.Wl&&t.personalizedArchiveOffer?t.personalizedArchiveOffer:null})({data:e,initVariant:f});c&&(0,l.Le)(l.Wl,c,g),(0,r.dC)((()=>{var n;t((0,o.Z)(e.current_user_country)),t((0,s.Z)(e.trialDuration)),t((n=e.subscriptionPrice,{type:_,subscriptionPrice:n})),t(h(u.SUCCESS)),c&&t((0,d.R)(i.Z.TEST_NAME,c))})),e.plansTracking&&e.plansTracking.forEach((e=>(0,a.L9)("nway_assignments",e)))}}))}},1070:(e,t,n)=>{"use strict";n.d(t,{R:()=>o,l:()=>r});const r="TEST_ASSIGNED",o=(e,t)=>({type:r,test:e,assignment:t})},65428:(e,t,n)=>{"use strict";n.d(t,{WB:()=>a,c2:()=>i,lN:()=>o});var r=n(60420);const o=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e3,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"scrollTop",s=null;const a=e[o],i=t-a,l=t=>{s||(s=t);const c=t-s;e[o]=function(e,t,n,r){return(e/=r/2)<1?n/2*e*e+t:-n/2*(--e*(e-2)-1)+t}(c,a,i,r),c<r?window.requestAnimationFrame(l):"function"===typeof n&&n()};window.requestAnimationFrame(l)},s=["button","[href]","input",".radio_label.checked input","select","textarea","[tabindex]:not([tabindex='-1'])"],a=e=>{if(!e)return[];const t=s.map((e=>e.includes(".radio_label")?e:e+":not(.visually_hidden)"));return Array.from(e.querySelectorAll(t.join(", "))).filter((e=>e.offsetWidth>0&&e.offsetHeight>0))},i=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=a(e);const{esc:s,tab:i,shift:l,enter:c}=r.key_mappings;if(0===o.length)return;return r=>{const{activeElement:d}=document;let u=o.indexOf(d);-1===u&&(o=a(e),u=o.indexOf(d));let p=o[0],_=o[o.length-1];switch(r.which){case l:break;case c:t&&window.setTimeout((()=>t(r)),100);break;case i:r.shiftKey?(r.preventDefault(),p===d?t&&!n?t(r):_.focus():o[u-1].focus()):_===d?t&&!n?t(r):(r.preventDefault(),p.focus()):(r.preventDefault(),o[u+1].focus());break;case s:t&&t(r)}return r}}},60420:(e,t,n)=>{"use strict";n.d(t,{key_mappings:()=>r});const r={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,pause_break:19,caps_lock:20,esc:27,space:32,page_up:33,page_down:34,end:35,home:36,left_arrow:37,up_arrow:38,right_arrow:39,down_arrow:40,insert:45,delete:46,0:48,1:49,2:50,3:51,4:52,5:53,6:54,7:55,8:56,9:57,a:65,b:66,c:67,d:68,e:69,f:70,g:71,h:72,i:73,j:74,k:75,l:76,m:77,n:78,o:79,p:80,q:81,r:82,s:83,t:84,u:85,v:86,w:87,x:88,y:89,z:90,left_window_key:91,right_window_key:92,select_key:93,numpad_0:96,numpad_1:97,numpad_2:98,numpad_3:99,numpad_4:100,numpad_5:101,numpad_6:102,numpad_7:103,numpad_8:104,numpad_9:105,multiply:106,add:107,subtract:109,decimal_point:110,divide:111,f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123,num_lock:144,scroll_lock:145,semi_colon:186,equal_sign:187,comma:188,dash:189,period:190,forward_slash:191,grave_accent:192,open_bracket:219,back_slash:220,close_bracket:221,single_quote:222}},37977:(e,t,n)=>{"use strict";n.d(t,{p:()=>r});const r=function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return Object.keys(e).map((n=>`${n}=${t?encodeURIComponent(e[n]):e[n]}`)).join("&")}},70543:(e,t,n)=>{"use strict";n.d(t,{Le:()=>c,Wl:()=>a,_d:()=>i,h9:()=>l});var r=n(98022),o=n(64481);const s="__CJ_personalized_archive_offer",a="personalized",i=()=>{const{navigator:e,screen:t,screenLeft:n,screenTop:o,Intl:s}=window;let a=null;return s&&(a=s.DateTimeFormat().resolvedOptions().timeZone),{avail_height:t.availHeight,avail_width:t.availWidth,color_depth:t.colorDepth,cookie_uuid:(0,r.v4)(),cookies_enabled:e.cookieEnabled,hardware_concurrency:e.hardwareConcurrency,height:t.height,java_enabled:e.javaEnabled(),left:n,max_touch_points:e.maxTouchPoints,orientation:(t.orientation||{}).type,pixel_depth:t.pixelDepth,platform:e.platform,referrer:document.referrer,time_zone:a,top:o,width:t.width}},l=()=>{const e=i();(0,o.d8)("__CJ_parchive_offer",encodeURIComponent(JSON.stringify(e)),1)},c=(e,t,n)=>{if(e!==a||(e=>{let t=(0,o.ej)(s);if(!t)return!1;try{t=JSON.parse(t)}catch(n){return!1}return!(t.id!==e&&(!t.id||e))})(n))return;const r={id:n,value:t};(0,o.d8)(s,encodeURIComponent(JSON.stringify(r)),7)}},16192:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a,s:()=>s});var r=n(84125),o=n(64481);const s=function(){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{items:[]}).items.map((t=>{let{doc_uuid:n,id:r}=t;const s=e[r],a={tracking:{doc_uuid:n}};return s||(0,o.Tb)(new Error("get_item_props: Missing store document")),{...s,...a}}))};class a{constructor(e,t){this.compilation_id=e,this.widget_name=t,this.page_view()}page_view(){a.compilations[this.compilation_id]||((0,r.Z0)(this.compilation_id),a.compilations[this.compilation_id]={modules:{},recommendations:{}})}track_module_view(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.widget;a.compilations[this.compilation_id]&&a.compilations[this.compilation_id].modules[e]||((0,r.Bu)(e,t),a.compilations[this.compilation_id].modules[e]=!0)}track_module_click(e){(0,r.wJ)(e)}track_obj_view(e){a.compilations[this.compilation_id]&&a.compilations[this.compilation_id].recommendations[e]||((0,r.hQ)(e),a.compilations[this.compilation_id].recommendations[e]=!0)}track_obj_click(e){(0,r.mF)(e)}}var i,l,c;i=a,c={},(l=function(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}(l="compilations"))in i?Object.defineProperty(i,l,{value:c,enumerable:!0,configurable:!0,writable:!0}):i[l]=c},46416:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(64481);function o(e,t){return!e&&!(t<=r.AV.breakpoint_450)}},67607:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var r=n(98537),o=n.n(r),s=n(23059),a=n.n(s),i=n(42208),l=n.n(i),c=n(96290),d=n.n(c),u=n(64481);const p=new class{constructor(){this.CSRF_TOKEN=null,this.xhr_queue=[],this.get_csrf_token()}get_csrf_token(){const e=this;return this.send("post",{url:"/csrf_token",body:{href:window.location.href}},((t,n,r)=>{t||(e.CSRF_TOKEN=JSON.parse(r).csrf_token,e.xhr_queue.length&&e.xhr_queue.forEach((t=>e.send(...t))))}),!0)}get_read_defaults(){return{headers:{"X-Requested-With":"XMLHttpRequest"}}}get_modify_defaults(){return{headers:l()({"Content-Type":"application/json","X-CSRF-Token":this.CSRF_TOKEN,"X-Requested-With":"XMLHttpRequest"},a())}}send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>{},r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const s="get"===e.toLowerCase(),a=s?this.get_read_defaults():this.get_modify_defaults();"object"===typeof t.body&&(t.headers&&t.headers["Content-Type"]&&t.headers["Content-Type"].indexOf("application/x-www-form-urlencoded")>-1?t.body=Object.keys(t.body).map((e=>encodeURIComponent(e)+"="+encodeURIComponent(t.body[e]))).join("&"):t.body=JSON.stringify(t.body));const i=(e,t,r)=>{let o;e?o={xhr_api_error:e}:t.statusCode>=500&&(o={statusCode:t.statusCode,body:r}),!o||"file:"===window.location.protocol||e instanceof ProgressEvent?n(e,t,r):(0,u.Tb)(new Error("XHR error"),{extra:o})};return s||this.CSRF_TOKEN||r?d()(o()(a,{method:e},t),i):(this.xhr_queue.push(arguments),()=>{})}get(e,t){return this.send("get",e,t)}post(e,t){return this.send("post",e,t)}patch(e,t){return this.send("patch",e,t)}put(e,t){return this.send("put",e,t)}delete(e,t){return this.send("delete",e,t)}}},39782:(e,t,n)=>{"use strict";n.d(t,{CX:()=>l,Fw:()=>r,G8:()=>o,hl:()=>s,oi:()=>i,we:()=>a});const r="TOGGLE_DESKTOP_LEADERBOARD_AD_VISIBILITY",o="TOGGLE_MOBILE_PUSHDOWN_AD_VISIBILITY",s="UPDATE_VIDEO_AD_POSITION",a=e=>({type:r,visible:e}),i=e=>({type:o,visible:e}),l=e=>({type:s,position:e})},97565:(e,t,n)=>{"use strict";n.d(t,{Bm:()=>d,Bv:()=>m,C5:()=>u,Du:()=>M,H2:()=>Z,Nf:()=>I,Pk:()=>l,Ss:()=>S,Yq:()=>O,Ze:()=>b,aF:()=>C,am:()=>p,dj:()=>h,fP:()=>c,hB:()=>s,ip:()=>_,j7:()=>a,l$:()=>g,nA:()=>i,nQ:()=>R,pA:()=>w,qt:()=>k,vP:()=>B,xV:()=>U,y7:()=>A});var r=n(64481),o=n(67607);const s="ANNOTATIONS_LOADED",a="CREATE_ANNOTATION",i="CREATE_NOTE",l="DELETE_ANNOTATION",c="DELETE_NOTE",d="LOAD_ANNOTATIONS",u="LOAD_ANNOTATIONS_FOR_PAGE",p="SELECT_ANNOTATION",_="SELECT_NOTE_GROUP",h="STOP_SELECTION",m="UPDATE_NOTE",g="UPDATE_WORKING_ANNOTATION",b="UPDATE_WORKING_NOTE",f="pdf_highlight",v="pdf_note",w=e=>({type:u,page:e}),E=e=>e.reduce(((e,t)=>({left:Math.min(e.left,t.left),top:Math.max(e.top,t.top),right:Math.max(e.right,t.right),bottom:Math.min(e.bottom,t.bottom)})),{left:999999999,top:0,right:0,bottom:999999999});let y=null;const S=()=>(e,t)=>{y||(e({type:d}),y=o.Z.get({url:t().global.paths.actions.book_annotations},((t,n)=>{if(t&&console.warn(t),n){const t=(e=>(e||[]).reduce(((e,t)=>(t.type===f&&(e.annotations[t.id]={id:t.id,text:t.preview_text,page:t.page_number+1,rects:t.pdf_annotation_rectangles}),t.type===v&&(e.notes[t.id]={id:t.id,doc_text:t.preview_text,text:t.user_text||"",page:t.page_number+1,rect:E(t.pdf_annotation_rectangles)}),e)),{annotations:{},notes:{}}))(JSON.parse(n.body));e((e=>{let{annotations:t,notes:n}=e;return{type:s,annotations:t,notes:n}})(t))}y=null})))},N=(e,t,n,r)=>{const s=e.page-1;return o.Z.post({url:t,headers:{"Content-Type":"application/x-www-form-urlencoded"},body:{type:n,pdf_annotation_rectangles:JSON.stringify(e.rects),page_num:s,start_offset:s,end_offset:s,preview_text:n===f?e.text:e.doc_text,note:n===f?null:e.text}},r)},T=(e,t,n,r)=>o.Z.delete({url:`${n}/${e}`,headers:{"Content-Type":"application/x-www-form-urlencoded"},body:{type:t,object_id:e}},r);let D;const k=function(e,t,n){let o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return(s,i)=>{if(D)return;const l=i().global.paths.actions.book_annotations;let c=Object.assign({},e);return D=N(c,l,f,((e,i)=>{if(e&&console.warn(e),i&&i.body){let e=JSON.parse(i.body);(0,r.L9)("pdf:highlight:add",{highlight_id:e.id}),c.id=e.id,s({type:a,annotation:c,x:t,y:n,closeMenu:o}),D=null}})),D}};let P;const A=e=>(t,n)=>{if(P)return;const o=n().global.paths.actions.book_annotations;return(0,r.L9)("pdf:highlight:remove",{highlight_id:e}),t({type:l,id:e}),P=T(e,f,o,(()=>{P=null})),P},C=(e,t)=>((0,r.L9)("pdf:highlight:selection_stop"),{type:h,x:e,y:t}),I=(e,t,n)=>((0,r.L9)("pdf:highlight:select",{highlight_id:e}),{type:p,id:e,x:t,y:n}),O=e=>({type:g,working:e});let L;const R=e=>(t,n)=>{if(L)return;const o=n(),s=o.global.paths.actions.book_annotations,{selected:a,annotations:l,working:c}=o.annotations;let d,u=-1===a?c:l[a];if(!u)return;-1===a&&(d=t(k(u)));let p={doc_text:u.text,text:e,page:u.page,rects:u.rects};return L=N(p,s,v,((n,o)=>{if(n&&console.warn(n),o&&o.body){let n=JSON.parse(o.body);(0,r.L9)("pdf:note:add",{note_id:n.id}),t({type:i,id:n.id,doc_text:u.doc_text,text:e,page:u.page,rect:E(u.rects)}),L=null}})),Promise.all([L,d])};let x;const M=(e,t)=>(n,s)=>{if(x)return;const a=s().global.paths.actions.book_annotations;return n({type:m,id:e,text:t}),(0,r.L9)("pdf:note:update",{note_id:e}),x=((e,t,n,r)=>o.Z.put({url:`${n}/${e}`,headers:{"Content-Type":"application/x-www-form-urlencoded"},body:{type:v,object_id:e,note:t}},r))(e,t,a,(()=>{x=null})),x},B=e=>(t,n)=>{if(e){const t=n().annotations.note_groups[e].notes[0];(0,r.L9)("pdf:note:select",{note_id:t})}else(0,r.L9)("pdf:note:select",{note_id:null});t({type:_,id:e})},Z=e=>(t,n)=>{if(x)return;const o=n().global.paths.actions.book_annotations;return(0,r.L9)("pdf:note:remove",{note_id:e}),t({type:c,id:e}),x=T(e,v,o,(()=>{x=null})),x},U=function(){return{type:b,working_note:!(arguments.length>0&&void 0!==arguments[0])||arguments[0]}}},17605:(e,t,n)=>{"use strict";n.d(t,{EX:()=>c,FM:()=>o,SD:()=>a,Uz:()=>l,aI:()=>r,hb:()=>s,i$:()=>i});const r={DISMISSED:"dismissed",IN_VIEW:"in_view",OUT_OF_VIEW:"out_of_view",REBLUR:"reblur",STYLE_UPDATED:"style_updated",TIMER_EXPIRED:"timer_expired"},o=()=>({type:r.DISMISSED}),s=()=>({type:r.IN_VIEW}),a=()=>({type:r.OUT_OF_VIEW}),i=()=>({type:r.REBLUR}),l=e=>({type:r.STYLE_UPDATED,style:e}),c=e=>{let{isDocked:t}=e;return{type:r.TIMER_EXPIRED,isDocked:t}}},5192:(e,t,n)=>{"use strict";n.d(t,{S:()=>r,c:()=>o});const r="COMPILATION_LOADED",o=e=>({type:r,module:e})},72081:(e,t,n)=>{"use strict";n.d(t,{hd:()=>u,sK:()=>d});var r=n(64050),o=n(97565),s=n(59257),a=n(10431);const i={[a.Ao]:s.Z,[o.j7]:o.qt},l=e=>`scribd_doc_actions_${e}`,c=e=>{let t;try{let n=localStorage.getItem(l(e));t=JSON.parse(n)||[]}catch(n){t=[]}return t},d=e=>{const t=e.getState(),n=t.bodyProps.document.id,r=t.user.isLoggedIn,o=c(n);o&&o.length&&(r&&o.forEach((t=>{const[n,r]=t;e.dispatch(i[n].apply(null,r))})),(e=>{localStorage.removeItem(l(e))})(n))},u=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return(s,a)=>{const d=a();d.user.isLoggedIn||function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3]?[]:c(n);r.push([e,t]),localStorage.setItem(l(n),JSON.stringify(r))}(t,n,d.bodyProps.document.id),s((0,r.Pl)(e,i[t].apply(undefined,n),o))}}},15230:(e,t,n)=>{"use strict";n.d(t,{$l:()=>D,BR:()=>i,Dx:()=>v,HV:()=>_,Kg:()=>a,Oi:()=>A,RB:()=>p,Vy:()=>w,WJ:()=>f,Zj:()=>m,c6:()=>T,d:()=>P,d1:()=>E,gG:()=>o,jz:()=>l,k$:()=>k,lT:()=>u,oR:()=>c,pU:()=>N,sZ:()=>h,w1:()=>y,wg:()=>s,wi:()=>d});var r=n(67607);const o="CHANGE_PAGE",s="CHANGE_VISIBLE_PAGE",a="CLEAR_SEARCH",i="FIXED_ACTIONS",l="FIXED_TOOLBAR",c="SEARCH_FINISHED",d="SEARCH_LOADING",u="SELECT_RESULT",p="UPDATE_DOCUMENT_WIDTH",_="ZOOM",h=2,m=.3,g=function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=t?1.25:.8,r=e*n;if(t?r<=h:r>=m){let e=window.DocumentManager.scrollParent.scrollTop;return window.docManager.zoom(n),window.DocumentManager.scrollParent.scrollTop=e,r}return e},b=e=>({type:_,zoom:e}),f=()=>(e,t)=>{let n=t().documentViewer.zoom;e(b(g(n,!1)))},v=()=>(e,t)=>{let n=t().documentViewer.zoom;e(b(g(n,!0)))},w=()=>(e,t)=>{let n=t().documentViewer.zoom;e(b((e=>{const t=1/e;return window.docManager.zoom(t),1})(n)))},E=e=>({type:o,page:e}),y=e=>({type:s,page:e});let S=null;const N=(e,t)=>n=>(n((e=>({type:d,query:e}))(e)),S&&S.abort(),S=r.Z.post({url:t,body:{query:e},headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"}},((e,t)=>{e&&console.warn(e);let r=[];t&&(r=JSON.parse(t.body),Array.isArray(r)||(r=[])),n({type:c,results:r})})),S),T=e=>({type:p,document_width:e}),D=()=>e=>(S&&S.abort(),e({type:a})),k=e=>({type:u,result:e}),P=e=>({type:l,fixed:e}),A=e=>({type:i,fixed:e})},86234:(e,t,n)=>{"use strict";n.d(t,{D:()=>o,G:()=>r});const r="DOCUMENTS_LOADED",o=e=>({type:r,documents:e})},15996:(e,t,n)=>{"use strict";n.d(t,{C:()=>o,X:()=>r});const r="SET_FIXED_BOTTOM_ELEMENTS_HEIGHTS",o=e=>({type:r,heights:e})},39942:(e,t,n)=>{"use strict";n.d(t,{A:()=>r,R:()=>o});const r="SET_APP_STORE_PROMO_VISIBLE",o=e=>({type:r,visible:e})},1475:(e,t,n)=>{"use strict";n.d(t,{GX:()=>a,J7:()=>r,L0:()=>o,oY:()=>s});const r="ADD_BETWEEN_PAGES_IN_VIEW_TRACKING",o=e=>({type:r,data:e}),s="REMOVE_BETWEEN_PAGES_IN_VIEW_TRACKING",a=e=>({type:s,id:e})},57158:(e,t,n)=>{"use strict";n.d(t,{Ck:()=>_,TR:()=>h,a_:()=>u});var r=n(91733),o=n(57903),s=n(34663),a=n(64481),i=n(37977),l=n(67607),c=n(5192),d=n(86234);const u="RECOMMENDERS_LOADED";let p=null;window.Scribd.recommendersData=null;const _="LOAD_RECOMMENDERS",h=()=>(e,t)=>{const n=n=>{n.footer_recommenders&&function(e){let{isMobile:t,isLoggedIn:n,isSubscriber:o}=e;(0,s.nP)("feature",{action:"footer_recommenders_exist",isMobile:t,isLoggedIn:n,isSubscriber:o,page:r.VL})}(t().user),(0,o.dC)((()=>{e({type:u,recommenders:n}),e((0,c.c)(n.viewport_bottom_recs)),e((0,d.D)(n.documents))}))};if(window.Scribd.recommendersData)n(window.Scribd.recommendersData);else{((e,t)=>{p&&p.abort();const n={recs_doc_page_metadata_v1:a.rm.getValue("recs_doc_page_metadata_v1_c"),recs_veils_of_discoverability:a.rm.getValue("recs_veils_of_discoverability_c")};e+=(0,i.p)(n),p=l.Z.get({url:e},((e,n)=>{if(e&&console.warn(e),n){const e=JSON.parse(n.body);window.Scribd.recommendersData=e,t(e)}}))})(t().global.paths.actions.load_recommenders+"?",n)}}},59257:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(54488),o=n(74399),s=n(67607),a=n(83697),i=n(74569),l=n(41780);function c(e){return(t,n)=>{const c=n();a.d.abort(),t((0,i.Z)());const d={url:c.global.paths.actions.add_to_library,body:{secret_password:c.bodyProps.document.secret_password,id:e}};a.d.set(s.Z.post(d,(n=>{!function(e,t,n){e?(t((0,o.W6)({type:"error",children:r.Z.t("shared.react.save_button.failed_to_save_title")})),t((0,l.Z)(n,!1))):t((0,l.Z)(n,!0))}(n,t,e)})))}}},74569:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(10431);function o(){return{type:r.wc}}},41780:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(10431);function o(e,t){return{id:e,in_library:t,type:r.qR}}},10431:(e,t,n)=>{"use strict";n.d(t,{Ao:()=>r,qR:()=>s,wc:()=>o});const r="ADD_TO_LIBRARY",o="PENDING_LIBRARY_UPDATE",s="RECEIVED_LIBRARY_UPDATE"},83697:(e,t,n)=>{"use strict";n.d(t,{c:()=>i,d:()=>a});var r=n(91733),o=n(64481);let s={abort:()=>{}};const a={set:function(e){s=e},abort:function(){s.abort()}};function i(){return"true"!==(0,o.ej)(r.WY)}},30912:(e,t,n)=>{"use strict";n.d(t,{qN:()=>r.Z,ch:()=>o.Z,IT:()=>_,dL:()=>h});var r=n(59257),o=n(41780),s=n(91733),a=n(54488),i=n(74399),l=n(64050),c=n(67607),d=n(83697),u=n(74569);function p(e,t,n){const r=t();return e((0,u.Z)()),c.Z.delete({url:r.global.paths.actions.remove_from_library,body:{id:n}},(t=>{if(t)return e((0,i.W6)({type:"error",children:a.Z.t("shared.react.save_button.failed_to_remove_title")})),e((0,o.Z)(n,!0));e((0,o.Z)(n,!1))}))}function _(e){return(t,n)=>{(0,d.c)()?d.d.set(c.Z.get({url:`/user-document-collections/collections-containing-document/${e}`},((r,c,u)=>{r?(t((0,i.W6)({type:"error",children:a.Z.t("shared.react.save_button.failed_to_remove_title")})),t((0,o.Z)(e,!0))):JSON.parse(u).collection_ids.length?t((0,l.zp)({documentId:e,name:s.V$.DELETE_ITEM_IN_LIST})):d.d.set(p(t,n,e))}))):d.d.set(p(t,n,e))}}function h(e){return(t,n)=>{p(t,n,e)}}},38726:(e,t,n)=>{"use strict";n.r(t),n.d(t,{createStore:()=>_e});var r=n(9863),o=n(27107),s=n(83904),a=n(82331),i=n(89205),l=n(3969),c=n(27619),d=n(46177),u=n(57362),p=n(74399);const _={all_ids:[],flashes:{},modal_flashes:{}};let h=0;const m=function(){let e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,n=arguments.length>1?arguments[1]:void 0,r=Object.assign({},t);switch(n.type){case p.Lv:return e=Object.assign({},n.props,{id:h}),r.modal_flashes[e.id]=e,r.all_ids=Object.keys(r.modal_flashes),h+=1,r;case p.fp:return e=Object.assign({},n.props,{id:h}),r.flashes[e.id]=e,r.all_ids=Object.keys(r.flashes),h+=1,r;case p.ak:return Object.assign({},t,{all_ids:[],flashes:{},modal_flashes:{}});case p.Ju:return Object.assign({},t,{all_ids:Object.keys(Object.assign({},r.flashes)),flashes:r.flashes,modal_flashes:{}});case p.RY:return delete r.flashes[n.id],delete r.modal_flashes[n.id],r.all_ids=Object.keys(Object.assign({},r.flashes,r.modal_flashes)),r;default:return t}};var g=n(7210);const b={getMobileAppProps:{}},f=(0,g.UY)({mobile:function(){return arguments.length>0&&void 0!==arguments[0]?arguments[0]:b}}),v={app_id:""},w=(0,g.UY)({facebook:function(){return arguments.length>0&&void 0!==arguments[0]?arguments[0]:v}}),E={highlights:!1},y={actions:{download_receipt_modal:"",paused_user_download_modal:"",pmp_login_join_modal:""},props:{add_to_library:"",archive_plans:"",did_you_know_banner:"",register_download_attempt:"",remove_from_library:""}};var S=n(10818);const N={asyncDataStatus:S.JF.LOADING,subscriptionPrice:""};var T=n(1070);const D={},k=(0,g.UY)({client:f,config:w,features:function(){return arguments.length>0&&void 0!==arguments[0]?arguments[0]:E},paths:function(){return arguments.length>0&&void 0!==arguments[0]?arguments[0]:y},testAssignments:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments.length>1?arguments[1]:void 0,n=Object.assign({},e);return t.type===T.l?(n[t.test]=t.assignment,n):e},personalization:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case S.Xw:return{...e,asyncDataStatus:t.asyncDataStatus};case S.FZ:return{...e,subscriptionPrice:t.subscriptionPrice};default:return e}}});var P=n(64050);const A={modals:{},all_ids:[],nextId:1},C=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case P.Lw:{const{nextId:n}=e,r={...e.modals,[n]:{...t.props,id:n}};return{...e,modals:r,all_ids:Object.keys(r),nextId:n+1}}case P.as:return{...e,modals:{},all_ids:[]};case P.et:{const n={...e.modals};return delete n[t.id],{...e,modals:n,all_ids:Object.keys(n)}}default:return e}};const I=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){let e;return e=/silk/i.test(navigator.userAgent)?"silk":/(windows|iemobile)/i.test(navigator.userAgent)?"windows":/ipad/i.test(navigator.userAgent)?"ipad":/iphone/i.test(navigator.userAgent)?"iphone":/android/i.test(navigator.userAgent)?"android":"web",e}();return e};var O=n(39782);const L={isDesktopLeaderboardAdVisible:!1,isMobilePushdownAdVisible:!1,isVideoAdVisible:!1,videoAdPosition:o.ng.INLINE};var R=n(97565),x=n(36491);let M=0,B=0;const Z=()=>M++,U=(e,t,n,r)=>e<=n&&n<=t||e<=r&&r<=t||n<=e&&e<=r||n<=t&&t<=r,F=(e,t,n)=>{let{note_groups:r,note_groups_by_page:o}=e;const s=x.ZP.convert_pts_to_page_with_page_num(n.page,n.rect);if(!s)return;if(e.notes[n.id].drawn)return;e.notes[n.id].drawn=!0;let a,i,l=o[t].map((e=>r[e])).sort(((e,t)=>e.top<t.bottom)),c=!1,d=[];for(let u=0;u<l.length;u++)i=a,a=l[u],c&&U(a.top,a.bottom,i.top,i.bottom)?(i.top=Math.min(a.top,i.top),i.bottom=Math.max(a.bottom,i.bottom),i.count+=a.count,i.notes=a.notes.concat(i.notes),delete r[a.id]):U(Math.round(s.top),Math.round(s.bottom),a.top,a.bottom)?(a.top=Math.min(a.top,Math.round(s.top)),a.bottom=Math.max(a.bottom,Math.round(s.bottom)),a.count++,a.notes.push(n.id),c=!0,d.push(a.id)):d.push(a.id);if(!c){let e=(e=>{const t=x.ZP.convert_pts_to_page_with_page_num(e.page,e.rect);return{id:B++,count:1,notes:[e.id],page:e.page,top:Math.round(t.top),bottom:Math.round(t.bottom)}})(n);r[e.id]=e,d.push(e.id)}return o[t]=d,e},V=(e,t)=>{const{id:n,text:r,rect:o,page:s}=t,a={id:n,text:r,rect:o,page:s};e.notes[n]=a,e.notes_by_page[s]||(e.notes_by_page[s]=[]),e.notes_by_page[s].includes(n)||e.notes_by_page[s].push(n),e.note_groups_by_page[s]||(e.note_groups_by_page[s]=[]),F(e,s,a)},j={annotations:{},loading:!1,redraw:0,selected:null,currently_selecting:!1,working:null,x:null,y:null,notes:{},notes_by_page:{},note_groups:{},note_groups_by_page:{},selected_note_group:null,working_note:!1};var H=n(17605);const $={hasBeenInView:!1,isDismissed:!1,isDocked:!1,style:null,timerExpired:!1};var W=n(5192);const z={modules:[]};var q=n(15230);const G={current_page:1,document_width:1e3,fixed_actions:!1,fixed_toolbar:!1,query:"",search_loading:!1,search_results:null,selected_result:null,visible_page:1,zoom:1,zoom_in_disabled:!1,zoom_out_disabled:!1};var K=n(86234);const J={};var X=n(39942);const Y={app_store_promo_visible:!1};var Q=n(15996);const ee={collapsedHeight:0,currentHeight:0};var te=n(57158),ne=n(10431);const re={};const oe={id:null,in_library:!1,is_credit_restricted:!1,is_downloadable:!1,is_sheet_music:!1,library_xhr_pending:!1,page_count:0,short_title:"",show_archive_paywall:!1,signup_context:null,title:"",url:"",views:null},se=(0,g.UY)({fixedBottomElements:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ee,t=arguments.length>1?arguments[1]:void 0;return t.type===Q.X?{...e,...t.heights}:e},savedItems:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:re,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ne.qR:return Object.assign({},e,{[t.id]:t.in_library});case te.a_:return Object.assign({},e,function(e){let t={};for(let n in e.documents)t[n]=e.documents[n].in_library;return t}(t.recommenders));default:return e}},wordDocument:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ne.qR:return t.id===e.id?{...e,in_library:t.in_library,library_xhr_pending:!1}:{...e,library_xhr_pending:!1};case ne.wc:return{...e,library_xhr_pending:!0};default:return e}}});var ae=n(1475);const ie={betweenPages:{}},le={documents:{},footer_recommenders:{},loading:!0,next_doc:{},viewport_bottom_recs:{items:[]}},ce={config:{},routes:{}},de={search_path:null},ue={ads:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O.Fw:return{...e,isDesktopLeaderboardAdVisible:t.visible};case O.G8:return{...e,isMobilePushdownAdVisible:t.visible};case O.hl:return{...e,videoAdPosition:t.position};default:return e}},annotations:function(){let e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,n=arguments.length>1?arguments[1]:void 0,r=Object.assign({},t);switch(n.type){case R.Bm:return r.loading=!0,r;case R.hB:return r.loading=!1,r.annotations=n.annotations,Object.values(n.notes).forEach((e=>V(r,e))),r.redraw=Z(),r;case R.C5:return Object.values(t.notes).forEach((e=>{e.page===n.page&&F(r,n.page,e)})),r;case R.j7:return r.annotations[n.annotation.id]=n.annotation,r.currently_selecting=!1,n.closeMenu&&(r.selected=null),r.redraw=Z(),r;case R.l$:return r.working=n.working,r.redraw=Z(),n.working&&(r.selected=-1,r.currently_selecting=!0),r;case R.dj:return r.currently_selecting=!1,r.x=n.x,r.y=n.y,r;case R.Pk:return delete r.annotations[n.id],r.redraw=Z(),r.selected=null,r;case R.am:return r.selected=n.id,r.x=n.x,r.y=n.y,r.working=null,r.working_note=!1,r.selected_note_group=null,Z(),r.redraw=Z(),r;case R.nA:return V(r,n),r.selected=null,r.working_note=!1,r.redraw=Z(),r;case R.Bv:return r.notes[n.id].text=n.text,r.selected_note_group=null,r;case R.ip:return r.selected_note_group=n.id,null===r.selected_note_group&&(r.working_note=!1,r.selected=null,r.working=null,r.redraw=Z()),r;case R.fP:{let o=r.notes[n.id].page;return r.notes_by_page[o]=r.notes_by_page[o].filter((e=>e!==n.id)),0===r.notes_by_page[o].length&&delete r.notes_by_page[o],e=t.note_groups_by_page[o],e.forEach((e=>{let t=r.note_groups[e];-1!==t.notes.indexOf(n.id)&&(t.notes=t.notes.filter((e=>e!==n.id)),t.count--,0===t.count&&(delete r.note_groups[e],r.note_groups_by_page[o]=r.note_groups_by_page[o].filter((t=>t!==e))))})),delete r.notes[n.id],0===r.note_groups_by_page[o].length&&delete r.note_groups_by_page[o],r.selected_note_group=null,r}case R.Ze:return r.working_note=n.working_note,!1===r.working_note&&(r.selected=null,r.working=null,r.redraw=Z()),r;default:return r}},blurPromoVideoAd:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$,t=arguments.length>1?arguments[1]:void 0;const n={...e,isDismissed:!1,timerExpired:!1};switch(t.type){case H.aI.DISMISSED:return{...e,isDismissed:!0,isDocked:!1};case H.aI.IN_VIEW:return{...e,hasBeenInView:!0,isDocked:!1};case H.aI.OUT_OF_VIEW:return e.hasBeenInView?{...e,isDocked:!0}:e;case H.aI.REBLUR:return e.isDocked?{...n,hasBeenInView:!0}:{...n,hasBeenInView:!1};case H.aI.STYLE_UPDATED:return{...e,style:t.style};case H.aI.TIMER_EXPIRED:return{...e,timerExpired:!0,isDocked:t.isDocked};default:return e}},bodyProps:function(){return arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}},compilation:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z,t=arguments.length>1?arguments[1]:void 0;return t.type===W.S?function(e){let{items:t,title:n,title_link:r,track_opts:o}=e;const s=t.map((e=>{let{doc_uuid:t,id:n}=e;return{id:n,uuid:t}})),{compilation_id:a,module_id:i,widget_name:l}=o;return{modules:[{documents:s,title:n,titleUrl:r,type:l,uuid:i}],uuid:a}}(t.module):e},currentPage:s.Z,documentViewer:function(){let e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,n=arguments.length>1?arguments[1]:void 0;const r=Object.assign({},t);switch(n.type){case q.gG:return r.current_page=n.page,r.visible_page=n.page,r;case q.wg:return r.visible_page=n.page,r;case q.Kg:return r.search_results=null,r.search_loading=!1,r.query="",r.selected_result=null,r;case q.BR:return r.fixed_actions=n.fixed,r;case q.jz:return r.fixed_toolbar=n.fixed,r;case q.oR:return r.search_results=n.results,r.search_loading=!1,x.ZP.highlight_from_results(r.query,r.search_results),r;case q.wi:return r.query=n.query,r.search_loading=!0,r.search_results=null,r.selected_result=null,x.ZP.clear(),r;case q.lT:return r.selected_result=n.result,e=r.search_results.filter((e=>n.result.pageNum===e.pageNum)),e.forEach((t=>{n.result.snippet===t.snippet&&x.ZP.select_result(n.result.pageNum,e.indexOf(t))})),r;case q.RB:return r.document_width=n.document_width,r;case q.HV:return r.zoom=Math.max(q.Zj,Math.min(q.sZ,n.zoom)),r.zoom_in_disabled=r.zoom===q.sZ,r.zoom_out_disabled=r.zoom===q.Zj,r;default:return t}},documents:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J,t=arguments.length>1?arguments[1]:void 0;if(t.type===K.G){const n=(e=>{const t={};for(const[n,r]of Object.entries(e)){const{author:e,author_url:o,description:s,id:a,is_series:i,retina_thumb_url:l,short_title:c,static_rating:{count:d,rating:u,up_count:p},thumb_url:_,title:h,type:m,url:g}=r;t[n]={author:e,authorUrl:o,description:s,downvoteCount:d-p,id:a,imageUrl:_,isSeries:i,previewUrl:g,ratingAverage:u,retinaImageUrl:l,shortTitle:c,title:h,type:m,upvoteCount:p}}return t})(t.documents);return{...e,...n}}return e},flash:m,global:k,i18n:a.Z,mobile:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y,t=arguments.length>1?arguments[1]:void 0,n=Object.assign({},e||Y);return t.type===X.A?(n.app_store_promo_visible=t.visible,n):e},modal:C,page:se,pdfPortalsTracking:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ae.J7:{const{id:n,...r}=t.data;return{...e,betweenPages:{...e.betweenPages,[n]:r}}}case ae.oY:{const n={...e.betweenPages};return delete n[t.id],{...e,betweenPages:n}}default:return e}},personalization:i.Z,platform:I,ratings:l.Z,recommenders:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:le,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case te.Ck:return{...e,loading:!0};case te.a_:return{...e,...t.recommenders,loading:!1};default:return e}},renewalNagProps:function(){return arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}},savedDocuments:function(){return arguments.length>0&&void 0!==arguments[0]?arguments[0]:{saved:{},finished:{}}},signupContext:function(){return arguments.length>0&&void 0!==arguments[0]?arguments[0]:null},static:function(){return arguments.length>0&&void 0!==arguments[0]?arguments[0]:ce},toast:c.Z,toolbar:function(){return arguments.length>0&&void 0!==arguments[0]?arguments[0]:de},user:d.Z,viewport:u.Z},pe=ue;function _e(e){const{variant:t}=e.global.testAssignments.fastlyDesktopAds,n={ads:{isMobilePushdownAdVisible:e.user.isMobile&&!e.user.isSubscriber,isDesktopLeaderboardAdVisible:o.aI.includes(t)},bodyProps:e.bodyProps,currentPage:e.currentPage,global:e.global,i18n:e.i18n,page:e.page,personalization:e.personalization,ratings:e.ratings,renewalNagProps:e.renewalNagProps,signupContext:e.signupContext,static:e.static,toolbar:e.toolbar,user:e.user};return e.recommenders&&(n.recommenders={loading:!1,...e.recommenders}),(0,r.xC)({reducer:pe,preloadedState:n,devTools:!1})}},36491:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>v});var r=n(54073),o=n.n(r),s=n(98874),a=n.n(s),i=n(64481),l=n(84053),c=n(29759),d=n(97565);function u(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const p="fourgen_highlight",_="outer_page",h={width:612,height:792},m=["\u21b5\xa0\u21b5"],g="rgba(4, 159, 211, 0.25)",b="rgba(4, 159, 211, 0.5)";let f=new class{constructor(){u(this,"handle_selection_change",(()=>{let e=window.getSelection();if(this.working_annotation&&this.working_annotation.text===e.toString())return;if(0===e.rangeCount)return;let t=e.getRangeAt(0),n=t.commonAncestorContainer,r=null;for(;n;)n.nodeType===Node.ELEMENT_NODE&&n.classList.contains(_)?(r=this.page_number_from_element(n),n=null):n=n.parentNode;if(r){let e=!this.startOfSelection||m.includes(this.startOfSelection);this.startOfSelection=e&&t.startContainer?t.startContainer.data:this.startOfSelection,this.add_annotation_from_selection(r)}})),u(this,"debounced_stop_selection",o()(this.stop_selection,500)),this.scroll_to_el=this.scroll_to_el.bind(this),this.handle_page_load=this.handle_page_load.bind(this),this.drawAnnotation=this.drawAnnotation.bind(this),this.pages_to_highlight=null,this.last_query=null,this.canvases={},this.selecting=!1,this.startOfSelection=null,this.working_annotation=null,this.annotations={},this.selected_annotation=null,this.selected_note_group=null,this.redraw=0,this.loading=!0,this.document_width=1e3,this.zoom=1,this.page_dimensions=h,window.docManager&&window.docManager.addEvent("pageLoaded",this.handle_page_load)}setup_store(e){this.store=e;const t=e.getState();this.page_dimensions=t.page.wordDocument.page_dimensions||h,this.is_mobile=t.global.client.mobile.is_mobile,this.highlights_enabled=t.global.features.highlights,this.totalPages=t.bodyProps.document.page_count,this.annotatedPages={1:!0,2:!0,3:!0},e.subscribe(this.handle_store_update.bind(this))}handle_store_update(){const{annotations:e,documentViewer:t,global:n}=this.store.getState();this.annotations=e.annotations,this.working_annotation=e.working,this.selected_annotation=e.selected,this.selected_note_group=e.selected_note_group,n.client.mobile.is_mobile&&this.selected_annotation&&(this.selecting=!1),this.handle_page_change(t.current_page),this.handle_page_change(t.current_page+1),this.document_width!==t.document_width||this.zoom!==t.zoom?(this.document_width=t.document_width,this.zoom=t.zoom,a()((()=>this.update_canvas_dimensions()))):(this.redraw<e.redraw||this.loading!==e.loading)&&(this.redraw=e.redraw,this.loading=e.loading,this.draw_annotations())}handle_page_change(e){this.annotatedPages[e]||e>this.totalPages||(this.annotatedPages[e]=!0,this.highlights_enabled&&(this.inject_dom(e),this.drawAnnotationsOnPage(e)))}page_number_from_element(e){return parseInt(e.id.match(/\d+$/)[0],10)}handle_page_load(e){const t=this.page_number_from_element(e);if(this.pages_to_highlight&&this.pages_to_highlight[t])return this.highlight_element(e,this.last_query),delete this.pages_to_highlight[t],this.selecting&&this.selecting.page===t?this.select_result(this.selecting.page,this.selecting.idx):void 0}select_result(e,t){if(!window.docManager)return;let n=null!=window.docManager.pages[e]&&window.docManager.pages[e].innerPageElem;if(delete this.selecting,n){const e=`${p}_selected`;null!=this.selected&&this.selected.classList.remove(e),this.selected=n.querySelectorAll(`.${p}`)[t],this.selected.classList.add(e),a()((()=>{if(null!=this.selected.scrollIntoView)return this.scroll_to_el(this.selected)}))}else this.selecting={page:e,idx:t}}scroll_to_el(e){"function"===typeof e.scrollIntoView&&e.scrollIntoView();return window.scrollTop-=300}highlight_from_results(e,t){this.last_query=e,this.last_results=t,this.pages_to_highlight={};for(let n of t.map((e=>e.pageNum))){const t=window.docManager.pages[n];(null!=t?t.innerPageElem:void 0)?this.highlight_element(t.containerElem,e):this.pages_to_highlight[n]=!0}}clear(){document.querySelectorAll(`#${l.QA} .${p}`).forEach((e=>{const t=e.parentNode;e.firstChild?t.replaceChild(e.firstChild,e):e.classList.remove(p),t.normalize()}))}text_nodes(e){let t=[];if(e.nodeType===Node.TEXT_NODE)t=[e];else if(e.nodeType===Node.ELEMENT_NODE&&!e.classList.contains(p))for(let n=0;n<e.childNodes.length;n++)t=t.concat(this.text_nodes(e.childNodes[n]));return t}highlight_element(e,t){let n=this.text_nodes(e),r=n.reduce(((e,t)=>e+t.data),"").toLowerCase().indexOf(t.toLowerCase()),o=0;if(r<0)return void console.warn("Search text not found in document - probably scrambled");let s=!1;n.forEach((e=>{let n=e.data.length;s=o+n>=r&&o<=r+t.length,s&&this.highlight(e,r-o,r-o+t.length),o+=n}))}highlight(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:9999999,r=Math.max(t,0),o=Math.min(n,e.data.length),s=document.createElement("span"),a=e.splitText(r);a.splitText(o-r);let i=a.cloneNode(!0);s.classList.add(p),s.append(i),a.parentNode.replaceChild(s,a)}setup_canvases(){this.highlights_enabled&&(this.inject_dom(1),this.inject_dom(2),this.inject_dom(3),document.addEventListener("mouseup",(e=>{this.handle_interaction(e.target,e.clientX,e.clientY)})),this.draw_annotations(),document.addEventListener("selectionchange",this.handle_selection_change))}inject_dom(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=document.getElementById(`outer_page_${e}`);if(!t)return;if(this.canvases[e])return;let n=document.createElement("canvas");n.width=t.clientWidth,n.height=t.clientHeight,n.classList.add("highlighter_canvas"),t.appendChild(n),this.canvases[e]=n}handle_interaction(e,t,n){for(;e;){if(this.is_node_ui_element(e))return;if(this.is_node_outer_page(e)){let r=this.page_number_from_element(e);return void(this.selecting?this.finish_selection(t,n,r):this.detect_annotation_selection(t,n,r))}e=e.parentNode}(this.selected_annotation||null!==this.selected_note_group)&&this.store.dispatch((0,d.Nf)(null,t,n))}finish_selection(e,t,n){const[r,o]=this.normalize_x_y(n,e,t);this.stop_selection(r,o),this.startOfSelection=null}is_node_outer_page(e){return!!e.id&&e.id.indexOf("outer_page")>-1}is_node_ui_element(e){if(e.classList){if(e.classList.contains("blurred_page"))return!0;if(e.classList.contains(c.f))return!0}return!!e.id&&("annotation_popover"===e.id||"note_popover"===e.id||e.id.indexOf("note_indicator")>-1)}detect_annotation_selection(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;const[r,o]=this.normalize_x_y(n,e,t),{left:s,top:a}=this.convert_point_origin_to_pdf_pts(n,r,o);let i=null;for(let l in this.annotations){let e=this.annotations[l];if(e.page===n&&e.rects.filter((e=>this.point_intersection(s,a,e))).length>0){i=e.id;break}}this.selected_annotation===i&&null===this.selected_note_group||this.store.dispatch((0,d.Nf)(i,r,o))}point_intersection(e,t,n){return e>=n.left&&e<=n.right&&t<=n.top&&t>=n.bottom}update_canvas_dimensions(){Object.values(this.canvases).forEach((e=>{const{clientHeight:t,clientWidth:n}=e.parentNode;e.width=n,e.height=t})),this.draw_annotations()}draw_page_rect(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:g,r=this.canvases[e];if(!r)return;let{width:o,height:s}=r,a=this.convert_pts_to_page(o,s,t),i=r.getContext("2d");i.fillStyle=n;let{left:l,top:c,right:d,bottom:u}=a,p=l,_=r.height-c,h=d-l,m=-1*(u-c);i.fillRect(p,_,h,m)}convert_rect_origin_to_pdf_pts(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1?arguments[1]:void 0,{left:n,top:r,right:o,bottom:s}=t,a=this.canvases[e];return{left:n,top:a.height-r,right:o,bottom:a.height-s}}convert_point_origin_to_pdf_pts(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r=this.convert_rect_origin_to_pdf_pts(e,{left:t,top:n,right:0,bottom:0});return this.convert_rect_to_pts_with_page_num(e,r)}add_annotation_from_selection(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=window.getSelection();if(!t.rangeCount)return;let n=t.getRangeAt(0),r=n.getClientRects(),o=t.toString(),s=this.normalize_dom_rects(e,r);if(""!==o.trim()&&0!==s.length&&(this.selecting=!0,n.startContainer&&this.startOfSelection===n.startContainer.data&&this.store.dispatch((0,d.Yq)({page:e,rects:s,text:o})),(0,i.tq)())){const{left:t,bottom:n}=this.convert_pts_to_page_with_page_num(e,s[s.length-1]);this.debounced_stop_selection(t,n)}}stop_selection(e,t){this.selecting=!1,this.store.dispatch((0,d.aF)(e,t))}get_page_rect(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;const t=document.getElementsByClassName(_)[e-1];return t?t.getClientRects()[0]:{top:0,right:0,bottom:0,left:0}}normalize_dom_rects(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const{width:n,height:r}=this.canvases[e];return Array.from(t).map((t=>this.adjust_relative_to_page(e,t))).filter((e=>this.rect_in_page_bounds(e,n,r))).filter((e=>this.rect_has_non_zero_dimensions(e))).map((t=>this.convert_rect_origin_to_pdf_pts(e,t))).map((e=>this.convert_rect_to_pts(n,r,e)))}adjust_relative_to_page(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1?arguments[1]:void 0,n=this.get_page_rect(e);return{left:t.left-n.left,top:t.top-n.top,right:t.right-n.left,bottom:t.bottom-n.top}}rect_in_page_bounds(e,t,n){return e.left>=0&&e.top>=0&&e.right<=t&&e.bottom<=n}rect_has_non_zero_dimensions(e){return e.left!==e.right&&e.top!==e.bottom}normalize_x_y(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=this.get_page_rect(e);return[t-r.left,n-r.top]}convert_pts_to_page_with_page_num(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1?arguments[1]:void 0;if(!this.canvases[e])return;let{width:n,height:r}=this.canvases[e];return this.convert_rect_origin_to_pdf_pts(e,this.convert_pts_to_page(n,r,t))}convert_pts_to_page(e,t,n){let{width:r,height:o}=this.page_dimensions,s=e/r,a=t/o;return{left:n.left*s,top:n.top*a,right:n.right*s,bottom:n.bottom*a}}convert_rect_to_pts_with_page_num(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1?arguments[1]:void 0,{width:n,height:r}=this.canvases[e];return this.convert_rect_to_pts(n,r,t)}convert_rect_to_pts(e,t,n){let{width:r,height:o}=this.page_dimensions,s=r/e,a=o/t;return{left:n.left*s,top:n.top*a,right:n.right*s,bottom:n.bottom*a}}clear_canvas(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=this.canvases[e];t&&t.getContext("2d").clearRect(0,0,t.width,t.height)}drawAnnotationsOnPage(e){Object.values(this.annotations).forEach((t=>{t.page===e&&this.drawAnnotation(t)}))}drawAnnotation(e){const t=this.selected_annotation===e.id?b:g;e.rects.forEach((n=>{this.draw_page_rect(e.page,n,t)}))}draw_annotations(){Object.keys(this.canvases).forEach((e=>this.clear_canvas(e))),Object.values(this.annotations).forEach(this.drawAnnotation),this.working_annotation&&this.working_annotation.rects.forEach((e=>{this.draw_page_rect(this.working_annotation.page,e)}))}};window.__highlighter=f;const v=f},8415:(e,t,n)=>{"use strict";n.d(t,{z:()=>r});const r=e=>{const t={};return e.forEach((e=>t[e.replace(/\-/g,"_").toUpperCase()]=e)),t}},29417:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(64481);function o(e){let{i18n:{locale:t},page:n,static:{config:o,routes:s},user:a}=e;(0,r.uC)(t),r.OI.sentryTag(o.brand),r.OI.fullStoryTag(o.brand),r.OI.optimizelyTag(o.brand),r.OI.googleAnalyticsTag(o.thirdPartyTags.googleAnalytics),r.OI.siftScienceTag(o.thirdPartyTags.siftScience),(0,r.nF)(s.webAnalyticsUrl,a.id,n.wordDocument.id,o.brand),(0,r.Z4)({applicationId:"b603c087-018f-411e-99cf-9915ae12aa3a",clientToken:"pub5d08889952e3ccc03de96e974841cf91",service:"doc-page",env:Scribd.Sentry.environment,sampleRate:.5,premiumSampleRate:0,trackInteractions:!0},a)}},95608:()=>{},75065:()=>{}},e=>{e.O(0,[143],(()=>{[834,824,845,780,335,691,847,787,323,151,880,608,783,995,659,578,243].map(e.E)}),5);var t=t=>e(e.s=t);e.O(0,[418],(()=>(t(53078),t(18006))));e.O()}]);
//# sourceMappingURL=https://www.scribd.com/webpack/doc_page/app.3a2ed8.js.map